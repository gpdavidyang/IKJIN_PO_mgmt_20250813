import{c as Fe,j as e,B as M,f as L,u as ee,C as _,a as G,b as U,E as te,F as H,d as Le,e as Te,g as Oe,h as Pe,r as p,i as Be,k as V,P as Re,l as X,m as De,M as Q}from"./index-MbjQkgYn-1757219949829.js";import{E as Ie}from"./email-send-dialog-zWUF7DPO-1757219949829.js";import{E as Ke}from"./email-history-modal-CJF2RyBM-1757219949829.js";import{E as ze}from"./emailService-Dl8y7b3a-1757219949829.js";import{D as se,a as ae,b as re,c as le,d as oe}from"./dialog-CTkSLq8O-1757219949829.js";import{T as J}from"./trending-up-CxG6cSvX-1757219949829.js";import{D as ne}from"./download-BPyt0u_6-1757219949829.js";import{A as D}from"./activity-DppnwrgX-1757219949829.js";import{C as Ue}from"./calendar-DcLdBn3_-1757219949829.js";import{R as T,C as I,X as K,Y as z,T as O,B as ce,a as ie,P as de,b as xe,c as me}from"./PieChart-BN7uHAgX-1757219949829.js";import{A as he,a as ue}from"./AreaChart-D9EnikMC-1757219949829.js";import{S as fe}from"./send-cz8TXWxh-1757219949829.js";import{C as Ye}from"./circle-x-6Zrm3boK-1757219949829.js";import{D as Y}from"./dashboard-skeleton-C2MAWl7--1757219949829.js";import{A as Z,a as _e}from"./arrow-up-CUdAL6Cf-1757219949829.js";import{D as He}from"./dollar-sign-BLF9m6Fa-1757219949829.js";import{P as R}from"./package-CD4ef5YY-1757219949829.js";import{C as k}from"./chevrons-up-down-DYyRvV63-1757219949829.js";import{S as qe}from"./square-pen-Dt41uWnN-1757219949829.js";import{U as We}from"./users-hWJKtWXD-1757219949829.js";import"./textarea-BTzuro9d-1757219949829.js";import"./alert-C4urgOS1-1757219949829.js";import"./checkbox-CfPvq7e8-1757219949829.js";import"./triangle-alert-Dxrtc3rA-1757219949829.js";import"./tabs-DnaVF2X9-1757219949829.js";import"./separator-HSoa9zzb-1757219949829.js";import"./refresh-cw-Dddieahp-1757219949829.js";import"./format-D9DuuIei-1757219949829.js";import"./index-B_jSlcQT-1757219949829.js";import"./index-Mh_yEY1b-1757219949829.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Fe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);function Ve({isOpen:S,onClose:w,monthlyStats:x,isDarkMode:a=!1}){const g={primary:"#3B82F6",primaryLight:"#60A5FA",primaryDark:"#2563EB",secondary:"#93C5FD",accent:"#DBEAFE",gray:"#6B7280",success:"#10B981",warning:"#F59E0B",danger:"#EF4444"},c=x.sort((l,n)=>l.month.localeCompare(n.month)).map(l=>{const[n,b]=l.month.split("-"),f=new Date().getFullYear();return{month:parseInt(n)===f?`${b}ì›”`:`${n.substring(2)}.${b}`,fullMonth:l.month,ë°œì£¼ê±´ìˆ˜:Number(l.count)||0,ê¸ˆì•¡ë°±ë§Œì›:Math.round(Number(l.amount||l.totalAmount)/1e6)||0,ì›ë³¸ê¸ˆì•¡:Number(l.amount||l.totalAmount)||0}}),$=c.reduce((l,n)=>l+n.ë°œì£¼ê±´ìˆ˜,0),m=c.reduce((l,n)=>l+n.ì›ë³¸ê¸ˆì•¡,0),j=Math.round($/Math.max(c.length,1));Math.round(m/Math.max(c.length,1));const A=c.reduce((l,n)=>n.ë°œì£¼ê±´ìˆ˜>l.ë°œì£¼ê±´ìˆ˜?n:l,{month:"",ë°œì£¼ê±´ìˆ˜:0,ê¸ˆì•¡ë°±ë§Œì›:0}),E=()=>{const n=[["ì›”","ë°œì£¼ê±´ìˆ˜","ë°œì£¼ê¸ˆì•¡(ì›)"],...c.map(o=>[o.fullMonth,o.ë°œì£¼ê±´ìˆ˜,o.ì›ë³¸ê¸ˆì•¡])].map(o=>o.join(",")).join(`
`),b=new Blob([n],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a"),C=URL.createObjectURL(b);f.setAttribute("href",C),f.setAttribute("download",`ì›”ë³„_ë°œì£¼_ì¶”ì´_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(f),f.click(),document.body.removeChild(f)};return e.jsx(se,{open:S,onOpenChange:w,children:e.jsxs(ae,{className:`max-w-6xl max-h-[90vh] overflow-y-auto ${a?"bg-gray-800 text-white":"bg-white"}`,children:[e.jsx(re,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(le,{className:"flex items-center gap-2 text-xl",children:[e.jsx(J,{className:"h-6 w-6 text-blue-600"}),"ì›”ë³„ ë°œì£¼ ì¶”ì´ ìƒì„¸ ë¶„ì„"]}),e.jsx(oe,{className:a?"text-gray-300":"text-gray-600",children:"ê³¼ê±° 12ê°œì›”ê°„ì˜ ë°œì£¼ í˜„í™©ì„ ìžì„¸ížˆ ë¶„ì„í•©ë‹ˆë‹¤"})]}),e.jsxs(M,{onClick:E,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"ë°ì´í„° ë‚´ë³´ë‚´ê¸°"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:`rounded-lg p-4 ${a?"bg-gray-700":"bg-blue-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(D,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"ì´ ë°œì£¼ ê±´ìˆ˜"})]}),e.jsxs("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:[$.toLocaleString(),"ê±´"]})]}),e.jsxs("div",{className:`rounded-lg p-4 ${a?"bg-gray-700":"bg-green-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ue,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"ì´ ë°œì£¼ ê¸ˆì•¡"})]}),e.jsx("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:L(m)})]}),e.jsxs("div",{className:`rounded-lg p-4 ${a?"bg-gray-700":"bg-purple-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(J,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-700",children:"ì›” í‰ê·  ê±´ìˆ˜"})]}),e.jsxs("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:[j.toLocaleString(),"ê±´"]})]}),e.jsxs("div",{className:`rounded-lg p-4 ${a?"bg-gray-700":"bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(D,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-700",children:"í”¼í¬ ì›”"})]}),e.jsxs("p",{className:`text-lg font-bold ${a?"text-white":"text-gray-900"}`,children:[A.month," (",A.ë°œì£¼ê±´ìˆ˜,"ê±´)"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${a?"text-white":"text-gray-900"}`,children:"ì›”ë³„ ë°œì£¼ ê±´ìˆ˜ ì¶”ì´"}),e.jsx("div",{className:"h-80",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(he,{data:c,margin:{top:20,right:30,left:20,bottom:50},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorOrderCount",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:g.primary,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:g.primary,stopOpacity:0})]})}),e.jsx(I,{strokeDasharray:"3 3",stroke:a?"#374151":"#f0f0f0"}),e.jsx(K,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:a?"#9CA3AF":"#6B7280"},angle:-45,textAnchor:"end",height:80}),e.jsx(z,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:a?"#9CA3AF":"#6B7280"},label:{value:"ë°œì£¼ ê±´ìˆ˜",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:a?"#9CA3AF":"#6B7280",fontSize:"12px"}}}),e.jsx(O,{contentStyle:{backgroundColor:a?"#1f2937":"white",border:a?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:l=>[`${l}ê±´`,"ë°œì£¼ ê±´ìˆ˜"],labelFormatter:l=>`${l} ë°œì£¼ í˜„í™©`}),e.jsx(ue,{type:"monotone",dataKey:"ë°œì£¼ê±´ìˆ˜",stroke:g.primary,fillOpacity:1,fill:"url(#colorOrderCount)",strokeWidth:3,dot:{fill:g.primary,strokeWidth:2,r:4},activeDot:{r:6,stroke:g.primary,strokeWidth:2,fill:"white"}})]})})})]}),e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${a?"text-white":"text-gray-900"}`,children:"ì›”ë³„ ë°œì£¼ ê¸ˆì•¡ ì¶”ì´ (ë°±ë§Œì›)"}),e.jsx("div",{className:"h-80",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(ce,{data:c,margin:{top:20,right:30,left:20,bottom:50},children:[e.jsx(I,{strokeDasharray:"3 3",stroke:a?"#374151":"#f0f0f0"}),e.jsx(K,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:a?"#9CA3AF":"#6B7280"},angle:-45,textAnchor:"end",height:80}),e.jsx(z,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:a?"#9CA3AF":"#6B7280"},label:{value:"ë°œì£¼ ê¸ˆì•¡ (ë°±ë§Œì›)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:a?"#9CA3AF":"#6B7280",fontSize:"12px"}}}),e.jsx(O,{contentStyle:{backgroundColor:a?"#1f2937":"white",border:a?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:(l,n,b)=>[`${l.toLocaleString()}ë°±ë§Œì›`,"ë°œì£¼ ê¸ˆì•¡"],labelFormatter:(l,n)=>{if(n&&n[0]){const b=n[0].payload.ì›ë³¸ê¸ˆì•¡;return`${l} (${L(b)})`}return`${l} ë°œì£¼ ê¸ˆì•¡`}}),e.jsx(ie,{dataKey:"ê¸ˆì•¡ë°±ë§Œì›",fill:g.success,radius:[4,4,0,0]})]})})})]}),e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${a?"text-white":"text-gray-900"}`,children:"ì›”ë³„ ìƒì„¸ ë°ì´í„°"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:`${a?"bg-gray-600":"bg-gray-50"}`,children:[e.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${a?"text-gray-300":"text-gray-700"}`,children:"ì›”"}),e.jsx("th",{className:`px-4 py-3 text-right text-sm font-medium ${a?"text-gray-300":"text-gray-700"}`,children:"ë°œì£¼ ê±´ìˆ˜"}),e.jsx("th",{className:`px-4 py-3 text-right text-sm font-medium ${a?"text-gray-300":"text-gray-700"}`,children:"ë°œì£¼ ê¸ˆì•¡"}),e.jsx("th",{className:`px-4 py-3 text-right text-sm font-medium ${a?"text-gray-300":"text-gray-700"}`,children:"í‰ê·  ì£¼ë¬¸ì•¡"})]})}),e.jsx("tbody",{children:c.map((l,n)=>e.jsxs("tr",{className:`${n%2===0?a?"bg-gray-700":"bg-white":a?"bg-gray-650":"bg-gray-50"}`,children:[e.jsx("td",{className:`px-4 py-3 text-sm font-medium ${a?"text-white":"text-gray-900"}`,children:l.month}),e.jsxs("td",{className:`px-4 py-3 text-sm text-right ${a?"text-gray-300":"text-gray-600"}`,children:[l.ë°œì£¼ê±´ìˆ˜.toLocaleString(),"ê±´"]}),e.jsx("td",{className:`px-4 py-3 text-sm text-right font-medium ${a?"text-blue-400":"text-blue-600"}`,children:L(l.ì›ë³¸ê¸ˆì•¡)}),e.jsx("td",{className:`px-4 py-3 text-sm text-right ${a?"text-gray-300":"text-gray-600"}`,children:l.ë°œì£¼ê±´ìˆ˜>0?L(Math.round(l.ì›ë³¸ê¸ˆì•¡/l.ë°œì£¼ê±´ìˆ˜)):"-"})]},l.fullMonth))})]})})]})]})]})})}function Xe({isOpen:S,onClose:w,statusStats:x,isDarkMode:a=!1}){const[,g]=ee(),c={primary:"#3B82F6",primaryLight:"#60A5FA",primaryDark:"#2563EB",secondary:"#93C5FD",accent:"#DBEAFE",gray:"#6B7280",success:"#10B981",warning:"#F59E0B",danger:"#EF4444"},$={pending:{label:"ìŠ¹ì¸ëŒ€ê¸°",description:"ìŠ¹ì¸ì„ ê¸°ë‹¤ë¦¬ëŠ” ë°œì£¼ì„œ",color:c.warning,icon:G,priority:"high"},approved:{label:"ìŠ¹ì¸ì™„ë£Œ",description:"ìŠ¹ì¸ì´ ì™„ë£Œëœ ë°œì£¼ì„œ",color:c.success,icon:U,priority:"medium"},sent:{label:"ë°œì†¡ì™„ë£Œ",description:"ê±°ëž˜ì²˜ë¡œ ë°œì†¡ëœ ë°œì£¼ì„œ",color:c.primary,icon:fe,priority:"low"},delivered:{label:"ë‚©í’ˆì™„ë£Œ",description:"ë‚©í’ˆì´ ì™„ë£Œëœ ë°œì£¼ì„œ",color:c.primaryDark,icon:U,priority:"completed"},draft:{label:"ìž„ì‹œì €ìž¥",description:"ìž‘ì„± ì¤‘ì¸ ë°œì£¼ì„œ",color:c.gray,icon:H,priority:"medium"},cancelled:{label:"ì·¨ì†Œë¨",description:"ì·¨ì†Œëœ ë°œì£¼ì„œ",color:c.danger,icon:Ye,priority:"low"}},m=x.filter(o=>o&&Number(o.count)>0).map(o=>{const t=$[o.status]||{label:o.status,description:"ê¸°íƒ€ ìƒíƒœ",color:c.gray,icon:D,priority:"medium"};return{status:o.status,name:t.label,description:t.description,value:Number(o.count),color:t.color,icon:t.icon,priority:t.priority,percentage:0}}),j=m.reduce((o,t)=>o+t.value,0);m.forEach(o=>{o.percentage=Math.round(o.value/j*100)});const A={high:0,medium:1,low:2,completed:3},E=[...m].sort((o,t)=>{const h=A[o.priority]??999,N=A[t.priority]??999;return h-N}),l=()=>{const t=[["ìƒíƒœ","ê±´ìˆ˜","ë¹„ìœ¨(%)"],...m.map(u=>[u.name,u.value,u.percentage])].map(u=>u.join(",")).join(`
`),h=new Blob([t],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),q=URL.createObjectURL(h);N.setAttribute("href",q),N.setAttribute("download",`ë°œì£¼ìƒíƒœ_ë¶„í¬_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(N),N.click(),document.body.removeChild(N)},n=o=>{g(`/orders?status=${o}`),w()},b=m.filter(o=>o.priority==="high").reduce((o,t)=>o+t.value,0),f=m.filter(o=>o.priority==="completed").reduce((o,t)=>o+t.value,0),C=j>0?Math.round(f/j*100):0;return e.jsx(se,{open:S,onOpenChange:w,children:e.jsxs(ae,{className:`max-w-6xl max-h-[90vh] overflow-y-auto ${a?"bg-gray-800 text-white":"bg-white"}`,children:[e.jsx(re,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(le,{className:"flex items-center gap-2 text-xl",children:[e.jsx(_,{className:"h-6 w-6 text-blue-600"}),"ë°œì£¼ ìƒíƒœ ë¶„í¬ ìƒì„¸ ë¶„ì„"]}),e.jsx(oe,{className:a?"text-gray-300":"text-gray-600",children:"í˜„ìž¬ ì‹œìŠ¤í…œì˜ ëª¨ë“  ë°œì£¼ì„œ ìƒíƒœë¥¼ ìƒì„¸ížˆ ë¶„ì„í•©ë‹ˆë‹¤"})]}),e.jsxs(M,{onClick:l,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"ë°ì´í„° ë‚´ë³´ë‚´ê¸°"]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:`rounded-lg p-4 ${a?"bg-gray-700":"bg-blue-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(D,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"ì „ì²´ ë°œì£¼ì„œ"})]}),e.jsxs("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:[j.toLocaleString(),"ê±´"]})]}),e.jsxs("div",{className:`rounded-lg p-4 ${a?"bg-gray-700":"bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(G,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-700",children:"ê¸´ê¸‰ ì²˜ë¦¬"})]}),e.jsxs("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:[b.toLocaleString(),"ê±´"]})]}),e.jsxs("div",{className:`rounded-lg p-4 ${a?"bg-gray-700":"bg-green-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(U,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"ì™„ë£Œìœ¨"})]}),e.jsxs("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:[C,"%"]})]}),e.jsxs("div",{className:`rounded-lg p-4 ${a?"bg-gray-700":"bg-purple-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(_,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-700",children:"í™œì„± ìƒíƒœ"})]}),e.jsxs("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:[m.length,"ê°œ"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${a?"text-white":"text-gray-900"}`,children:"ìƒíƒœë³„ ë¹„ìœ¨"}),e.jsx("div",{className:"h-80",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(de,{children:[e.jsx(xe,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"value",children:m.map((o,t)=>e.jsx(me,{fill:o.color},`cell-${t}`))}),e.jsx(O,{formatter:(o,t)=>[`${o}ê±´ (${(o/j*100).toFixed(1)}%)`,t],contentStyle:{backgroundColor:a?"#1f2937":"white",border:a?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}})]})})})]}),e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${a?"text-white":"text-gray-900"}`,children:"ìƒíƒœë³„ ê±´ìˆ˜"}),e.jsx("div",{className:"h-80",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(ce,{data:E,margin:{top:20,right:30,left:20,bottom:60},children:[e.jsx(I,{strokeDasharray:"3 3",stroke:a?"#374151":"#f0f0f0"}),e.jsx(K,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:a?"#9CA3AF":"#6B7280"},angle:-45,textAnchor:"end",height:80}),e.jsx(z,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:a?"#9CA3AF":"#6B7280"}}),e.jsx(O,{contentStyle:{backgroundColor:a?"#1f2937":"white",border:a?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:o=>[`${o}ê±´`,"ë°œì£¼ ê±´ìˆ˜"]}),e.jsx(ie,{dataKey:"value",fill:c.primary,radius:[4,4,0,0]})]})})})]})]}),e.jsxs("div",{className:`rounded-lg p-6 ${a?"bg-gray-700":"bg-white border"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${a?"text-white":"text-gray-900"}`,children:"ìƒíƒœë³„ ìƒì„¸ ì •ë³´"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map((o,t)=>{const h=o.icon;return e.jsxs("div",{className:`rounded-lg p-4 border transition-all cursor-pointer hover:shadow-md ${a?"border-gray-600 hover:bg-gray-650":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>n(o.status),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${o.color}20`},children:e.jsx(h,{className:"h-5 w-5",style:{color:o.color}})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold ${a?"text-white":"text-gray-900"}`,children:o.name}),e.jsx("p",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:o.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:o.value}),e.jsxs("p",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:[o.percentage,"%"]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-600 hover:underline",children:"í•´ë‹¹ ë°œì£¼ì„œ ëª©ë¡ ë³´ê¸°"})]})]},o.status)})})]}),m.length===0&&e.jsxs("div",{className:`rounded-lg p-8 text-center ${a?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx(D,{className:`h-12 w-12 mx-auto mb-4 ${a?"text-gray-500":"text-gray-400"}`}),e.jsx("p",{className:`text-lg font-medium mb-2 ${a?"text-white":"text-gray-900"}`,children:"ìƒíƒœ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤"}),e.jsx("p",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:"ë°œì£¼ì„œë¥¼ ìƒì„±í•˜ë©´ ìƒíƒœë³„ ë¶„ì„ì´ í‘œì‹œë©ë‹ˆë‹¤"})]})]})})}function St(){const{user:S,isLoading:w}=Le(),{toast:x}=Te(),[,a]=ee();Oe();const{actualTheme:g}=Pe(),[c,$]=p.useState(!1),[m,j]=p.useState(!1),[A,E]=p.useState(!1),[l,n]=p.useState(null),[b,f]=p.useState(!1),[C,o]=p.useState(null),t=p.useMemo(()=>g==="dark"&&document.documentElement.classList.contains("dark"),[g]);p.useEffect(()=>{if(!w&&!S){x({title:"Unauthorized",description:"You are logged out. Redirecting to login...",variant:"destructive"}),setTimeout(()=>{a("/login")},500);return}},[S,w,a]);const{data:h,isLoading:N,error:q}=Be(),u=h?.statistics||{},P=h?.recentOrders||[],W=h?.monthlyStats||[],pe=h?.statusStats||[],ge=h?.orderStatusStats||[];h?.projectStats,h?.categoryStats;const be=s=>!s.emailStatus||s.totalEmailsSent===0?e.jsx("span",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:"ë¯¸ë°œì†¡"}):s.emailStatus==="sent"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fe,{className:"h-3 w-3",style:{color:t?"#60a5fa":"#2563eb"}}),e.jsx("span",{className:"text-xs",style:{color:t?"#60a5fa":"#2563eb"},children:"ë°œì†¡ë¨"})]}):s.emailStatus==="opened"?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"h-3 w-3",style:{color:t?"#34d399":"#059669"}}),e.jsx("span",{className:"text-xs",style:{color:t?"#34d399":"#059669"},children:"ì—´ëžŒë¨"})]}):e.jsx("span",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:"ë¯¸ë°œì†¡"}),ye=p.useCallback(s=>{const r=P.find(i=>i.id===s.id);r&&(n(r),E(!0))},[P]),je=p.useCallback(async s=>{if(l)try{const r=[];if(s.selectedAttachmentIds&&s.selectedAttachmentIds.length>0)for(const y of s.selectedAttachmentIds){const d=`/api/attachments/${y}/download`;r.push(d)}const i={orderNumber:l.orderNumber,vendorName:l.vendor?.name||"",orderDate:l.orderDate,totalAmount:l.totalAmount,siteName:l.project?.projectName||l.project?.name,filePath:l.filePath||"",attachmentUrls:r};await ze.sendPurchaseOrderEmail(i,s),x({title:"ì´ë©”ì¼ ë°œì†¡ ì™„ë£Œ",description:`${l.vendor?.name}ì—ê²Œ ë°œì£¼ì„œ ${l.orderNumber}ë¥¼ ì „ì†¡í–ˆìŠµë‹ˆë‹¤.`})}catch(r){x({title:"ì´ë©”ì¼ ë°œì†¡ ì‹¤íŒ¨",description:r instanceof Error?r.message:"ì´ë©”ì¼ ë°œì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",variant:"destructive"})}},[l,x]),Ne=p.useCallback(s=>{const r=P.find(i=>i.id===s.id);r&&(o(r),f(!0))},[P]),ve=p.useCallback(async s=>{try{console.log("ðŸ”„ Professional PDF ë‹¤ìš´ë¡œë“œ ì‹œìž‘:",s.id);const r=await V("GET",`/api/orders/${s.id}`);if(!r){console.error("API returned no data for order:",s.id),x({title:"ë°ì´í„° ì˜¤ë¥˜",description:"ë°œì£¼ì„œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",variant:"destructive"});return}const i=r;let y=null;if(i.attachments&&Array.isArray(i.attachments)&&(y=i.attachments.find(d=>(d.mimeType?.includes("pdf")||d.originalName?.toLowerCase().endsWith(".pdf"))&&(d.originalName?.includes("Professional")||d.filePath?.includes("professional")))),!y){console.log("ðŸ“„ Professional PDF íŒŒì¼ ì—†ìŒ, ìƒˆë¡œ ìƒì„± ì¤‘..."),x({title:"PDF ìƒì„± ì¤‘",description:"ì „ë¬¸ì ì¸ ë°œì£¼ì„œ PDFë¥¼ ìƒì„±í•˜ê³  ìžˆìŠµë‹ˆë‹¤..."});try{const d=await V("POST",`/api/orders/${s.id}/generate-professional-pdf`);if(d.success&&d.attachmentId)console.log("âœ… Professional PDF ìƒì„± ì„±ê³µ:",d),y={id:d.attachmentId};else throw new Error(d.error||"PDF ìƒì„± ì‹¤íŒ¨")}catch(d){console.error("âŒ Professional PDF ìƒì„± ì‹¤íŒ¨:",d),x({title:"PDF ìƒì„± ì‹¤íŒ¨",description:"ì „ë¬¸ì ì¸ PDF ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ê¸°ë³¸ PDFë¥¼ ì‹œë„í•©ë‹ˆë‹¤.",variant:"destructive"}),i.attachments&&Array.isArray(i.attachments)&&(y=i.attachments.find(v=>v.mimeType?.includes("pdf")||v.originalName?.toLowerCase().endsWith(".pdf")))}}if(y){console.log("ðŸ“¥ PDF ë‹¤ìš´ë¡œë“œ ì‹œìž‘:",y);const d=`/api/attachments/${y.id}/download?download=true`,v=document.createElement("a");v.href=d,v.download=`ë°œì£¼ì„œ_${s.orderNumber}.pdf`,v.style.display="none",document.body.appendChild(v),v.click(),document.body.removeChild(v),x({title:"PDF ë‹¤ìš´ë¡œë“œ",description:`ë°œì£¼ì„œ ${s.orderNumber}ì˜ ì „ë¬¸ì ì¸ PDFë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.`})}else console.log("âŒ PDF íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ"),x({title:"PDF íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤",description:"ë°œì£¼ì„œ ìƒì„¸ì—ì„œ PDFë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.",variant:"destructive"})}catch(r){console.error("PDF download error:",r);const i=r instanceof Error?r.message:"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜";x({title:"ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨",description:`PDF ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${i}`,variant:"destructive"})}},[x]);if(w)return e.jsx(Y,{});if(!S)return e.jsx(Y,{});if(N)return e.jsx(Y,{});const F={primary:"#3B82F6",primaryLight:"#60A5FA",primaryDark:"#2563EB",secondary:"#93C5FD",accent:"#DBEAFE",gray:"#6B7280",success:"#10B981",warning:"#F59E0B",danger:"#EF4444"},we=W.sort((s,r)=>s.month.localeCompare(r.month)).map(s=>{const[r,i]=s.month.split("-"),y=new Date().getFullYear();return{month:parseInt(r)===y?`${i}ì›”`:`${r.substring(2)}.${i}`,fullMonth:s.month,ë°œì£¼ê±´ìˆ˜:Number(s.count)||0,ê¸ˆì•¡ë°±ë§Œì›:Math.round(Number(s.amount||s.totalAmount)/1e6)||0}}),Ce=[{status:"draft",name:"ìž„ì‹œì €ìž¥",color:F.gray},{status:"created",name:"ë°œì£¼ìƒì„±",color:F.warning},{status:"sent",name:"ë°œì£¼ì™„ë£Œ",color:F.primary},{status:"completed",name:"ë‚©í’ˆê²€ìˆ˜ì™„ë£Œ",color:F.primaryDark}],ke=new Map(ge.map(s=>[s.status,Number(s.count)||0])),B=Ce.map(s=>({name:s.name,value:ke.get(s.status)||0,color:s.color,status:s.status})),Se=s=>({draft:"ìž„ì‹œì €ìž¥",created:"ë°œì£¼ìƒì„±",sent:"ë°œì£¼ì™„ë£Œ",delivered:"ë‚©í’ˆì™„ë£Œ"})[s]||s||"-",$e=s=>({not_required:"ìŠ¹ì¸ë¶ˆí•„ìš”",pending:"ìŠ¹ì¸ëŒ€ê¸°",approved:"ìŠ¹ì¸ì™„ë£Œ",rejected:"ë°˜ë ¤"})[s]||s||"-",Ae=s=>{switch(s){case"draft":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-500/25 dark:text-gray-200 dark:border-gray-400/50";case"created":return"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-500/25 dark:text-blue-200 dark:border-blue-400/50";case"sent":return"bg-indigo-100 text-indigo-800 border-indigo-300 dark:bg-indigo-500/25 dark:text-indigo-200 dark:border-indigo-400/50";case"delivered":return"bg-green-100 text-green-800 border-green-300 dark:bg-green-500/25 dark:text-green-200 dark:border-green-400/50";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-500/25 dark:text-gray-200 dark:border-gray-400/50"}},Ee=s=>{switch(s){case"not_required":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-500/25 dark:text-gray-200 dark:border-gray-400/50";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300 dark:bg-yellow-500/25 dark:text-yellow-200 dark:border-yellow-400/50";case"approved":return"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-500/25 dark:text-blue-200 dark:border-blue-400/50";case"rejected":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-500/25 dark:text-red-200 dark:border-red-400/50";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-500/25 dark:text-gray-200 dark:border-gray-400/50"}};return e.jsx("div",{className:"min-h-screen",style:{backgroundColor:t?"#111827":"#f9fafb"},children:e.jsxs("div",{className:"max-w-[1366px] mx-auto p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",style:{color:t?"#f9fafb":"#1f2937"},children:"ëŒ€ì‹œë³´ë“œ"}),e.jsx("p",{className:"text-sm mt-1",style:{color:t?"#9ca3af":"#6b7280"},children:"ì‹¤ì‹œê°„ ë°œì£¼ í˜„í™©ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>a("/create-order"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[e.jsx(Re,{className:"h-5 w-5"}),"ìƒˆ ë°œì£¼ì„œ"]}),e.jsxs("div",{className:"text-sm",style:{color:t?"#9ca3af":"#6b7280"},children:["ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: ",new Date().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#9ca3af":"#4b5563"},children:"ì´ ë°œì£¼ì„œ"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:t?"#f3f4f6":"#111827"},children:u.totalOrders||0}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(Z,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600",children:"12% ì¦ê°€"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:t?"rgba(30, 58, 138, 0.3)":"#dbeafe"},children:e.jsx(H,{className:"h-6 w-6",style:{color:t?"#60a5fa":"#2563eb"}})})]})}),e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#9ca3af":"#4b5563"},children:"ì´ ë°œì£¼ ê¸ˆì•¡"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:t?"#60a5fa":"#2563eb"},children:L(u.totalAmount||0)}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(Z,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600",children:"8.5% ì¦ê°€"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:t?"rgba(5, 150, 105, 0.3)":"#d1fae5"},children:e.jsx(He,{className:"h-6 w-6",style:{color:t?"#34d399":"#059669"}})})]})}),e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer",style:{backgroundColor:t?"#1f2937":"#ffffff"},onClick:()=>a("/orders?status=completed"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#9ca3af":"#4b5563"},children:"ê¸ˆì›” ë°œì£¼ì™„ë£Œ"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:t?"#34d399":"#059669"},children:u.completedOrders||0}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(R,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600",children:"ì²˜ë¦¬ ì™„ë£Œ"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:t?"rgba(5, 150, 105, 0.3)":"#d1fae5"},children:e.jsx(R,{className:"h-6 w-6",style:{color:t?"#34d399":"#059669"}})})]})}),e.jsx("div",{className:"rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#9ca3af":"#4b5563"},children:"í™œì„± í˜„ìž¥"}),e.jsx("p",{className:"text-2xl font-bold mt-2",style:{color:t?"#f3f4f6":"#111827"},children:u.activeProjects||0}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx(_e,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{style:{color:t?"#9ca3af":"#6b7280"},children:"ë³€ë™ ì—†ìŒ"})]})]}),e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:t?"rgba(107, 33, 168, 0.3)":"#ede9fe"},children:e.jsx(X,{className:"h-6 w-6",style:{color:t?"#a855f7":"#7c3aed"}})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"rounded-xl shadow-sm p-6",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:t?"#f3f4f6":"#111827"},children:"ì›”ë³„ ë°œì£¼ ì¶”ì´"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm font-medium transition-colors hover:underline",style:{color:t?"#60a5fa":"#2563eb"},onMouseEnter:s=>{s.currentTarget.style.color=t?"#3b82f6":"#1d4ed8"},onMouseLeave:s=>{s.currentTarget.style.color=t?"#60a5fa":"#2563eb"},children:"ì „ì²´ ë³´ê¸°"})]}),e.jsx("div",{className:"h-64",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(he,{data:we,margin:{top:10,right:30,left:20,bottom:30},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorAmount",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:F.primary,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:F.primary,stopOpacity:0})]})}),e.jsx(I,{strokeDasharray:"3 3",stroke:t?"#374151":"#f0f0f0"}),e.jsx(K,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:t?"#9CA3AF":"#6B7280"},interval:0,angle:-45,textAnchor:"end",height:60}),e.jsx(z,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:t?"#9CA3AF":"#6B7280"},label:{value:"ë°œì£¼ ê±´ìˆ˜",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:t?"#9CA3AF":"#6B7280",fontSize:"12px"}}}),e.jsx(O,{contentStyle:{backgroundColor:t?"#1f2937":"white",border:t?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",color:t?"#f9fafb":"#1f2937"},formatter:(s,r)=>[`${s}ê±´`,"ë°œì£¼ ê±´ìˆ˜"],labelFormatter:s=>`${s} ë°œì£¼ í˜„í™©`}),e.jsx(ue,{type:"monotone",dataKey:"ë°œì£¼ê±´ìˆ˜",stroke:F.primary,fillOpacity:1,fill:"url(#colorAmount)",strokeWidth:2})]})})})]}),e.jsxs("div",{className:"rounded-xl shadow-sm p-6",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5",style:{color:t?"#60a5fa":"#2563eb"}}),e.jsx("h3",{className:"text-lg font-semibold",style:{color:t?"#f3f4f6":"#111827"},children:"ë°œì£¼ ìƒíƒœ ë¶„í¬"})]})}),B&&B.length>0?e.jsxs("div",{className:"h-64 flex items-center",children:[e.jsx("div",{className:"w-1/2 h-full",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(de,{width:200,height:200,children:[e.jsx(xe,{data:B,cx:"50%",cy:"50%",innerRadius:50,outerRadius:90,paddingAngle:2,dataKey:"value",children:B.map((s,r)=>e.jsx(me,{fill:s.color},`cell-${r}`))}),e.jsx(O,{formatter:(s,r)=>[`${s}ê±´`,r],contentStyle:{backgroundColor:t?"#1f2937":"white",border:t?"1px solid #374151":"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",color:t?"#f9fafb":"#1f2937"}})]})})}),e.jsx("div",{className:"w-1/2 pl-6",children:B.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-sm font-medium",style:{color:t?"#d1d5db":"#374151"},children:s.name})]}),e.jsxs("span",{className:"text-sm font-semibold",style:{color:t?"#f3f4f6":"#111827"},children:[s.value,"ê±´"]})]},r))})]}):e.jsx("div",{className:"h-64 flex items-center justify-center",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(R,{className:"h-12 w-12 mx-auto mb-2",style:{color:t?"#4b5563":"#d1d5db"}}),e.jsx("p",{className:"text-sm",children:"ë°œì£¼ ìƒíƒœë³„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤."}),e.jsx("p",{className:"text-xs mt-1",style:{color:t?"#6b7280":"#9ca3af"},children:"ë°œì£¼ì„œë¥¼ ìƒì„±í•˜ë©´ ì°¨íŠ¸ê°€ í‘œì‹œë©ë‹ˆë‹¤."})]})})]})]}),e.jsxs("div",{className:"rounded-xl shadow-sm",style:{backgroundColor:t?"#1f2937":"#ffffff"},children:[e.jsx("div",{className:"p-6 border-b",style:{borderColor:t?"#374151":"#e5e7eb"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:t?"#f3f4f6":"#111827"},children:"ìµœê·¼ ë°œì£¼ ë‚´ì—­"}),e.jsxs("button",{onClick:()=>a("/orders"),className:"text-sm font-medium flex items-center gap-1 transition-colors",style:{color:t?"#60a5fa":"#2563eb"},onMouseEnter:s=>{s.currentTarget.style.color=t?"#3b82f6":"#1d4ed8"},onMouseLeave:s=>{s.currentTarget.style.color=t?"#60a5fa":"#2563eb"},children:["ì „ì²´ ë³´ê¸°",e.jsx(De,{className:"h-4 w-4"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{style:{backgroundColor:t?"#374151":"#f9fafb"},children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["ë°œì£¼ë²ˆí˜¸",e.jsx(k,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["ê±°ëž˜ì²˜",e.jsx(k,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["í˜„ìž¥",e.jsx(k,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["ë°œì£¼ì¼",e.jsx(k,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["ë“±ë¡ì¼",e.jsx(k,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["ê¸ˆì•¡",e.jsx(k,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["ë°œì£¼ìƒíƒœ",e.jsx(k,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:e.jsxs("button",{className:`flex items-center gap-1 transition-colors ${t?"hover:text-gray-300":"hover:text-gray-700"}`,children:["ìŠ¹ì¸ìƒíƒœ",e.jsx(k,{className:"h-3 w-3"})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:"ì´ë©”ì¼"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium uppercase tracking-wider",style:{color:t?"#9ca3af":"#6b7280"},children:"ì•¡ì…˜"})]})}),e.jsx("tbody",{style:{backgroundColor:t?"#1f2937":"#ffffff"},children:P.slice(0,5).map(s=>e.jsxs("tr",{className:"transition-colors",style:{backgroundColor:"transparent",borderBottom:`1px solid ${t?"#374151":"#e5e7eb"}`},onMouseEnter:r=>{r.currentTarget.style.backgroundColor=t?"#374151":"#f9fafb"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent"},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>a(`/orders/${s.id}`),className:"transition-colors hover:underline",style:{color:t?"#60a5fa":"#2563eb"},onMouseEnter:r=>{r.currentTarget.style.color=t?"#3b82f6":"#1d4ed8"},onMouseLeave:r=>{r.currentTarget.style.color=t?"#60a5fa":"#2563eb"},children:s.orderNumber})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.vendor?.id?e.jsx("button",{onClick:()=>a(`/vendors/${s.vendor.id}`),className:"text-sm font-medium transition-colors hover:underline",style:{color:t?"#60a5fa":"#2563eb"},title:"ê±°ëž˜ì²˜ ìƒì„¸ ì •ë³´ ë³´ê¸°",children:s.vendor.name}):e.jsx("div",{className:"text-sm",style:{color:t?"#f3f4f6":"#111827"},children:s.vendor?.name||"-"}),s.vendor?.email&&e.jsx("div",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:s.vendor.email})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.project?.id?e.jsx("button",{onClick:()=>a(`/projects/${s.project.id}`),className:"text-sm font-medium transition-colors hover:underline",style:{color:t?"#60a5fa":"#2563eb"},title:"í˜„ìž¥ ìƒì„¸ ì •ë³´ ë³´ê¸°",children:s.project.projectName||s.project.name}):e.jsx("div",{className:"text-sm",style:{color:t?"#f3f4f6":"#111827"},children:s.project?.projectName||s.project?.name||"-"}),s.project?.projectCode&&e.jsx("div",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:s.project.projectCode})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:t?"#f3f4f6":"#111827"},children:s.orderDate?new Date(s.orderDate).toLocaleDateString("ko-KR"):s.createdAt?new Date(s.createdAt).toLocaleDateString("ko-KR"):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",style:{color:t?"#f3f4f6":"#111827"},children:s.createdAt?new Date(s.createdAt).toLocaleDateString("ko-KR"):"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold",style:{color:t?"#60a5fa":"#2563eb"},children:L(s.totalAmount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${Ae(s.orderStatus||"draft")}`,children:Se(s.orderStatus||"draft")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${Ee(s.approvalStatus||"not_required")}`,children:$e(s.approvalStatus||"not_required")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:be(s)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("button",{onClick:()=>a(`/orders/${s.id}`),className:"p-1.5 rounded-md transition-all duration-200",style:{color:t?"#60a5fa":"#2563eb",backgroundColor:"transparent"},onMouseEnter:r=>{r.currentTarget.style.color=t?"#93c5fd":"#1d4ed8",r.currentTarget.style.backgroundColor=t?"rgba(59, 130, 246, 0.2)":"rgba(37, 99, 235, 0.1)"},onMouseLeave:r=>{r.currentTarget.style.color=t?"#60a5fa":"#2563eb",r.currentTarget.style.backgroundColor="transparent"},title:"ìƒì„¸ë³´ê¸°",children:e.jsx(te,{className:"h-4 w-4"})}),(s.orderStatus==="draft"||s.orderStatus==="created"||!s.orderStatus&&s.status!=="sent"&&s.status!=="delivered")&&e.jsx("button",{onClick:()=>a(`/orders/${s.id}/edit`),className:"p-1.5 rounded-md transition-all duration-200",style:{color:t?"#34d399":"#059669",backgroundColor:"transparent"},onMouseEnter:r=>{r.currentTarget.style.color=t?"#6ee7b7":"#047857",r.currentTarget.style.backgroundColor=t?"rgba(16, 185, 129, 0.2)":"rgba(5, 150, 105, 0.1)"},onMouseLeave:r=>{r.currentTarget.style.color=t?"#34d399":"#059669",r.currentTarget.style.backgroundColor="transparent"},title:"ìˆ˜ì •",children:e.jsx(qe,{className:"h-4 w-4"})}),(s.orderStatus==="created"||s.orderStatus==="sent"||s.orderStatus==="delivered"||!s.orderStatus&&(s.status==="approved"||s.status==="sent"||s.status==="completed"))&&e.jsx("button",{onClick:()=>ve(s),className:"p-1.5 rounded-md transition-all duration-200",style:{color:t?"#fb923c":"#ea580c",backgroundColor:"transparent"},onMouseEnter:r=>{r.currentTarget.style.color=t?"#fdba74":"#c2410c",r.currentTarget.style.backgroundColor=t?"rgba(249, 115, 22, 0.2)":"rgba(234, 88, 12, 0.1)"},onMouseLeave:r=>{r.currentTarget.style.color=t?"#fb923c":"#ea580c",r.currentTarget.style.backgroundColor="transparent"},title:"PDF ë‹¤ìš´ë¡œë“œ",children:e.jsx(H,{className:"h-4 w-4"})}),(s.orderStatus==="created"||!s.orderStatus&&s.status==="approved")&&e.jsx("button",{onClick:()=>ye(s),className:"p-1.5 rounded-md transition-all duration-200",style:{color:t?"#a855f7":"#7c3aed",backgroundColor:"transparent"},onMouseEnter:r=>{r.currentTarget.style.color=t?"#c084fc":"#6d28d9",r.currentTarget.style.backgroundColor=t?"rgba(147, 51, 234, 0.2)":"rgba(124, 58, 237, 0.1)"},onMouseLeave:r=>{r.currentTarget.style.color=t?"#a855f7":"#7c3aed",r.currentTarget.style.backgroundColor="transparent"},title:"ì´ë©”ì¼ ì „ì†¡",children:e.jsx(Q,{className:"h-4 w-4"})}),s.totalEmailsSent>0&&e.jsx("button",{onClick:()=>Ne(s),className:"p-1.5 rounded-md transition-all duration-200",style:{color:t?"#94a3b8":"#64748b",backgroundColor:"transparent"},onMouseEnter:r=>{r.currentTarget.style.color=t?"#cbd5e1":"#475569",r.currentTarget.style.backgroundColor=t?"rgba(148, 163, 184, 0.2)":"rgba(100, 116, 139, 0.1)"},onMouseLeave:r=>{r.currentTarget.style.color=t?"#94a3b8":"#64748b",r.currentTarget.style.backgroundColor="transparent"},title:`ì´ë©”ì¼ ì´ë ¥ (${s.totalEmailsSent}ê±´)`,children:e.jsx(Ge,{className:"h-4 w-4"})}),s.orderStatus==="draft"&&e.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{color:t?"#fbbf24":"#d97706",backgroundColor:t?"rgba(251, 191, 36, 0.1)":"rgba(217, 119, 6, 0.1)"},title:"ìž„ì‹œì €ìž¥ ìƒíƒœ",children:"ðŸ“"})]})})]},s.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[e.jsxs("button",{onClick:()=>a("/orders?status=completed"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:t?"#1f2937":"#ffffff",borderColor:t?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:t?"rgba(5, 150, 105, 0.3)":"#d1fae5"},children:e.jsx(R,{className:"h-5 w-5",style:{color:t?"#34d399":"#059669"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#f3f4f6":"#111827"},children:"ê¸ˆì›” ë°œì£¼ì™„ë£Œ"}),e.jsxs("p",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:[u.completedOrders||0,"ê±´ ì™„ë£Œ"]})]})]}),e.jsxs("button",{onClick:()=>a("/vendors"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:t?"#1f2937":"#ffffff",borderColor:t?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:t?"rgba(30, 58, 138, 0.3)":"#dbeafe"},children:e.jsx(We,{className:"h-5 w-5",style:{color:t?"#60a5fa":"#2563eb"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#f3f4f6":"#111827"},children:"ê±°ëž˜ì²˜ ê´€ë¦¬"}),e.jsxs("p",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:[u.activeVendors||0,"ê°œ í™œì„±"]})]})]}),e.jsxs("button",{onClick:()=>a("/projects"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:t?"#1f2937":"#ffffff",borderColor:t?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:t?"rgba(107, 33, 168, 0.3)":"#ede9fe"},children:e.jsx(X,{className:"h-5 w-5",style:{color:t?"#a855f7":"#7c3aed"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#f3f4f6":"#111827"},children:"í˜„ìž¥ ê´€ë¦¬"}),e.jsxs("p",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:[u.activeProjects||0,"ê°œ ì§„í–‰ì¤‘"]})]})]}),e.jsxs("button",{onClick:()=>a("/reports"),className:"rounded-lg p-4 hover:shadow-md transition-shadow flex items-center gap-3 border",style:{backgroundColor:t?"#1f2937":"#ffffff",borderColor:t?"#374151":"#e5e7eb"},children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:t?"rgba(5, 150, 105, 0.3)":"#d1fae5"},children:e.jsx(_,{className:"h-5 w-5",style:{color:t?"#34d399":"#059669"}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:t?"#f3f4f6":"#111827"},children:"ë³´ê³ ì„œ ìƒì„±"}),e.jsx("p",{className:"text-xs",style:{color:t?"#9ca3af":"#6b7280"},children:"ìƒì„¸ ë¶„ì„"})]})]})]}),e.jsx(Ve,{isOpen:c,onClose:()=>$(!1),monthlyStats:W,isDarkMode:t}),e.jsx(Xe,{isOpen:m,onClose:()=>j(!1),statusStats:pe,isDarkMode:t}),l&&e.jsx(Ie,{open:A,onOpenChange:E,orderData:{orderNumber:l.orderNumber,vendorName:l.vendor?.name||"",vendorEmail:l.vendor?.email,orderDate:new Date(l.orderDate||l.createdAt).toLocaleDateString(),totalAmount:l.totalAmount,siteName:l.project?.projectName||l.project?.name,orderId:l.id},onSendEmail:je}),C&&e.jsx(Ke,{orderId:C.id,orderNumber:C.orderNumber,isOpen:b,onClose:()=>{f(!1),o(null)}})]})})}export{St as default};
