import{n as de,e as me,r as o,k as xe,j as s,M as he,ac as G,I as ue,ad as Q,O as m,y as T,B as h,o as j,X as Z,ab as ge,F as J,T as pe,Q as fe}from"./index-B21vhqsh-1757333151053.js";import{D as je,a as Ne,b as ve,c as be,d as ye,e as we}from"./dialog-BTPhKNrH-1757333151053.js";import{T as Ee}from"./textarea-BIqEf1Z5-1757333151053.js";import{C as Y}from"./checkbox-D1eR18C3-1757333151053.js";import{T as Ce}from"./triangle-alert-Cq1QvSqa-1757333151053.js";import{P as Se}from"./paperclip-B8YZWvXx-1757333151053.js";import{U as k}from"./upload-D1NA8-YC-1757333151053.js";import{S as Ae}from"./send-BNGtoHde-1757333151053.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=de("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);function Me({open:E,onOpenChange:C,orderData:c,onSendEmail:ee,attachments:N}){const{toast:v}=me(),b=o.useRef(null),se=`ì•ˆë…•í•˜ì„¸ìš”.

${c.vendorName} ë‹´ë‹¹ìë‹˜ê»˜ ë°œì£¼ì„œë¥¼ ì „ì†¡ë“œë¦½ë‹ˆë‹¤.

â–  ë°œì£¼ ì •ë³´
- ë°œì£¼ë²ˆí˜¸: ${c.orderNumber}
- ë°œì£¼ì¼ì: ${c.orderDate}
- í˜„ì¥ëª…: ${c.siteName||"N/A"}
- ë°œì£¼ê¸ˆì•¡: ${c.totalAmount.toLocaleString()}ì›

ì²¨ë¶€ëœ ë°œì£¼ì„œë¥¼ í™•ì¸í•˜ì‹œê³ , ë‚©ê¸°ì¼ì •ì— ë§ì¶° ì§„í–‰ ë¶€íƒë“œë¦½ë‹ˆë‹¤.

ê°ì‚¬í•©ë‹ˆë‹¤.`,[r,d]=o.useState({to:c.vendorEmail?[c.vendorEmail]:[""],cc:[],subject:`ë°œì£¼ì„œ ì „ì†¡ - ${c.orderNumber}`,message:se,selectedAttachmentIds:[],customFiles:[]}),[S,$]=o.useState(!1),[L,u]=o.useState([]),[g,z]=o.useState(""),[p,D]=o.useState(""),[A,I]=o.useState([]),[te,M]=o.useState(!1),[x,P]=o.useState([]),[f,F]=o.useState(!1);o.useEffect(()=>{E&&(N?(console.log("ğŸ“ Using provided attachments:",N.length),I(N.map(e=>({...e,isSelected:!1})))):c.orderId&&(console.log("ğŸ“ No provided attachments, fetching from API for order:",c.orderId),ae()))},[E,c.orderId,N]);const ae=async()=>{if(c.orderId){M(!0);try{console.log("ğŸ“ Fetching attachments for order:",c.orderId);const e=await xe("GET",`/api/orders/${c.orderId}/attachments`);if(Array.isArray(e)){const t=e.map(i=>({id:i.id,originalName:i.originalName,filePath:i.filePath,fileSize:i.fileSize,mimeType:i.mimeType,isSelected:!1}));I(t);const a=t.filter(i=>i.mimeType?.includes("pdf")||i.originalName?.toLowerCase().endsWith(".pdf")||i.mimeType?.includes("excel")||i.mimeType?.includes("spreadsheet")||i.originalName?.toLowerCase().endsWith(".xlsx")||i.originalName?.toLowerCase().endsWith(".xls")).map(i=>i.id);d(i=>({...i,selectedAttachmentIds:a})),console.log("ğŸ“ Loaded attachments:",{total:t.length,autoSelected:a.length})}else I([]),console.log("ğŸ“ No attachments found for order:",c.orderId)}catch(e){console.error("âŒ Failed to fetch attachments:",e),v({title:"ì²¨ë¶€íŒŒì¼ ì¡°íšŒ ì‹¤íŒ¨",description:"ì²¨ë¶€íŒŒì¼ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",variant:"destructive"})}finally{M(!1)}}},y=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),R=()=>{g&&y(g)?r.to.includes(g)||(d(e=>({...e,to:[...e.to.filter(t=>t!==""),g]})),z(""),u(e=>e.filter(t=>!t.includes("ìˆ˜ì‹ ì")))):u(e=>[...e,"ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”."])},O=()=>{p&&y(p)&&(r.cc?.includes(p)||(d(e=>({...e,cc:[...e.cc||[],p]})),D("")))},U=(e,t)=>{d(a=>({...a,[t]:a[t]?.filter(i=>i!==e)||[]}))},W=e=>{d(t=>{const a=t.selectedAttachmentIds,l=a.includes(e)?a.filter(n=>n!==e):[...a,e];return{...t,selectedAttachmentIds:l}})},B=e=>{if(!e)return"";const t=e/(1024*1024);return t>1?`${t.toFixed(1)}MB`:`${Math.round(e/1024)}KB`},X=(e,t)=>e?.includes("pdf")||t?.toLowerCase().endsWith(".pdf")?s.jsx(J,{className:"h-4 w-4 text-red-500"}):e?.includes("excel")||e?.includes("spreadsheet")||t?.toLowerCase().endsWith(".xlsx")||t?.toLowerCase().endsWith(".xls")?s.jsx(w,{className:"h-4 w-4 text-green-600"}):e?.includes("image")?s.jsx(w,{className:"h-4 w-4 text-purple-500"}):e?.includes("word")||t?.toLowerCase().endsWith(".docx")||t?.toLowerCase().endsWith(".doc")?s.jsx(w,{className:"h-4 w-4 text-blue-500"}):s.jsx(w,{className:"h-4 w-4 text-gray-500"}),K=e=>{const t=[],a=[],l=[];Array.from(e).forEach(n=>{if(n.size>10485760){l.push(`${n.name}: íŒŒì¼ í¬ê¸°ê°€ 10MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.`);return}if(x.some(oe=>oe.originalName===n.name)){l.push(`${n.name}: ì´ë¯¸ ì¶”ê°€ëœ íŒŒì¼ì…ë‹ˆë‹¤.`);return}const ne=-Date.now()-Math.random();t.push({id:ne,originalName:n.name,filePath:"",fileSize:n.size,mimeType:n.type,isSelected:!0,isCustom:!0,file:n}),a.push(n)}),l.length>0&&v({title:"íŒŒì¼ ì—…ë¡œë“œ ê²½ê³ ",description:l.join(`
`),variant:"destructive"}),t.length>0&&(P(n=>[...n,...t]),d(n=>({...n,customFiles:[...n.customFiles||[],...a],selectedAttachmentIds:[...n.selectedAttachmentIds,...t.map(_=>_.id)]})),v({title:"íŒŒì¼ ì¶”ê°€ ì™„ë£Œ",description:`${t.length}ê°œì˜ íŒŒì¼ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.`}))},ie=e=>{const t=e.target.files;!t||t.length===0||(K(t),b.current&&(b.current.value=""))},q=e=>{e.preventDefault(),e.stopPropagation(),F(!0)},H=e=>{e.preventDefault(),e.stopPropagation(),F(!1)},V=e=>{e.preventDefault(),e.stopPropagation(),F(!1);const t=e.dataTransfer.files;t&&t.length>0&&K(t)},re=e=>{P(t=>t.filter(a=>a.id!==e)),d(t=>({...t,customFiles:t.customFiles?.filter((a,i)=>x[i]?.id!==e),selectedAttachmentIds:t.selectedAttachmentIds.filter(a=>a!==e)}))},le=()=>{const e=[];return(!r.to.length||r.to.every(i=>!i.trim()))&&e.push("ìµœì†Œ í•˜ë‚˜ì˜ ìˆ˜ì‹ ì ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”."),r.to.filter(i=>i&&!y(i)).length>0&&e.push("ìˆ˜ì‹ ì ì´ë©”ì¼ ì£¼ì†Œê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤."),(r.cc?.filter(i=>i&&!y(i))||[]).length>0&&e.push("ì°¸ì¡° ì´ë©”ì¼ ì£¼ì†Œê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤."),r.subject.trim()||e.push("ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”."),u(e),e.length===0},ce=async()=>{if(le()){$(!0),u([]);try{console.log("ğŸ“§ Sending email with data:",{to:r.to,cc:r.cc,subject:r.subject,message:r.message,selectedAttachmentIds:r.selectedAttachmentIds}),await ee(r),C(!1)}catch(e){console.error("âŒ Email sending error:",e);let t="ì´ë©”ì¼ ë°œì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",a=[];if(e?.response?.data){const l=e.response.data;if(l.message&&(t=l.message),l.errors&&Array.isArray(l.errors)?a=l.errors:l.details&&(a=[l.details]),l.code)switch(l.code){case"EAUTH":a.push("ì´ë©”ì¼ ê³„ì • ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.");break;case"ECONNECTION":case"ETIMEDOUT":a.push("ì´ë©”ì¼ ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”.");break;case"EMESSAGE":a.push("ì´ë©”ì¼ ë‚´ìš©ì— ì˜¤ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤. ì…ë ¥ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”.");break;case"EENVELOPE":a.push("ìˆ˜ì‹ ì ë˜ëŠ” ë°œì‹ ì ì´ë©”ì¼ ì£¼ì†Œì— ì˜¤ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤.");break;default:l.code&&a.push(`ì´ë©”ì¼ ì„œë²„ ì˜¤ë¥˜: ${l.code}`)}(t.includes("attachment")||t.includes("ì²¨ë¶€"))&&a.push("ì²¨ë¶€íŒŒì¼ ì²˜ë¦¬ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. íŒŒì¼ í¬ê¸°ë‚˜ í˜•ì‹ì„ í™•ì¸í•˜ì„¸ìš”."),t.includes("invalid")&&t.includes("email")&&a.push("ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ ì£¼ì†Œê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.")}else e?.message&&(t=e.message);(e?.code==="NETWORK_ERROR"||e?.name==="NetworkError")&&(t="ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.",a.push("ì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•˜ê³  ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”.")),(e?.code==="TIMEOUT_ERROR"||e?.message?.includes("timeout"))&&(t="ì´ë©”ì¼ ë°œì†¡ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.",a.push("ì„œë²„ê°€ ì‘ë‹µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”."));const i=[t,...a].filter(Boolean);u(i),v({title:"ì´ë©”ì¼ ë°œì†¡ ì‹¤íŒ¨",description:a.length>0?a[0]:t,variant:"destructive"})}finally{$(!1)}}};return s.jsx(je,{open:E,onOpenChange:C,children:s.jsxs(Ne,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(ve,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(he,{className:"h-5 w-5"}),"ë°œì£¼ì„œ ì´ë©”ì¼ ë°œì†¡"]}),s.jsxs(ye,{children:[c.vendorName,"ì—ê²Œ ë°œì£¼ì„œ ",c.orderNumber,"ë¥¼ ì´ë©”ì¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤."]})]}),s.jsxs(G,{className:"border-blue-200 bg-blue-50",children:[s.jsx(ue,{className:"h-4 w-4 text-blue-600"}),s.jsxs(Q,{className:"text-blue-800",children:[s.jsx("strong",{children:"ğŸ“§ ì•ˆë‚´:"})," ë°œì£¼ìƒì„±ì´ ë˜ì—ˆë”ë¼ë„ ë°œì£¼ ì´ë©”ì¼ ì „ì†¡ ë²„íŠ¼ì´ í´ë¦­ë˜ì–´ì•¼ 'ë°œì£¼ì™„ë£Œ' ìƒíƒœë¡œ ë³€ê²½ë©ë‹ˆë‹¤."]})]}),s.jsxs("div",{className:"space-y-4",children:[L.length>0&&s.jsxs(G,{variant:"destructive",className:"border-red-200 bg-red-50",children:[s.jsx(Ce,{className:"h-4 w-4 text-red-600"}),s.jsx(Q,{className:"text-red-800",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"font-semibold text-sm",children:"âš ï¸ ì´ë©”ì¼ ë°œì†¡ ì‹¤íŒ¨"}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:L.map((e,t)=>s.jsx("li",{className:"break-words",children:e},t))}),s.jsx("div",{className:"text-xs text-red-600 mt-2 pt-1 border-t border-red-200",children:"ğŸ’¡ ë¬¸ì œê°€ ì§€ì†ë˜ë©´ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”."})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"to-email",children:"ìˆ˜ì‹ ì *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(T,{id:"to-email",type:"email",placeholder:"example@company.com",value:g,onChange:e=>z(e.target.value),onKeyPress:e=>e.key==="Enter"&&R()}),s.jsx(h,{type:"button",onClick:R,variant:"outline",size:"sm",children:"ì¶”ê°€"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.to.filter(e=>e.trim()).map((e,t)=>s.jsxs(j,{variant:"secondary",className:"flex items-center gap-1",children:[e,s.jsx(Z,{className:"h-3 w-3 cursor-pointer hover:text-red-500",onClick:()=>U(e,"to")})]},t))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"cc-email",children:"ì°¸ì¡° (ì„ íƒ)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(T,{id:"cc-email",type:"email",placeholder:"cc@company.com",value:p,onChange:e=>D(e.target.value),onKeyPress:e=>e.key==="Enter"&&O()}),s.jsx(h,{type:"button",onClick:O,variant:"outline",size:"sm",children:"ì¶”ê°€"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.cc?.map((e,t)=>s.jsxs(j,{variant:"outline",className:"flex items-center gap-1",children:[e,s.jsx(Z,{className:"h-3 w-3 cursor-pointer hover:text-red-500",onClick:()=>U(e,"cc")})]},t))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"subject",children:"ì œëª© *"}),s.jsx(T,{id:"subject",value:r.subject,onChange:e=>d(t=>({...t,subject:e.target.value})),placeholder:"ë°œì£¼ì„œ ì „ì†¡ - PO-XXXX-XXX"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(m,{className:"text-base font-medium",children:"ì²¨ë¶€íŒŒì¼"}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsx("div",{className:"border-b p-3 bg-gray-50",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium",children:"ë°œì£¼ì„œ ì²¨ë¶€íŒŒì¼"}),s.jsxs(j,{variant:"secondary",className:"text-xs",children:[A.length,"ê°œ"]})]})})}),te?s.jsxs("div",{className:"p-4 flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ge,{className:"h-4 w-4 animate-spin"}),"ì²¨ë¶€íŒŒì¼ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."]}):A.length===0?s.jsxs("div",{className:"p-4 text-sm text-muted-foreground text-center",children:[s.jsx(J,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),"ë°œì£¼ì„œì— ì²¨ë¶€ëœ íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤."]}):s.jsx("div",{className:"max-h-48 overflow-y-auto p-3 space-y-2",children:A.map(e=>{const t=r.selectedAttachmentIds.includes(e.id);return s.jsxs("div",{className:`flex items-center space-x-3 p-2 rounded-md hover:bg-gray-50 transition-colors ${t?"bg-blue-50 border border-blue-200":"border border-gray-200"}`,children:[s.jsx(Y,{id:`attach-${e.id}`,checked:t,onCheckedChange:()=>W(e.id)}),s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[X(e.mimeType,e.originalName),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(m,{htmlFor:`attach-${e.id}`,className:"text-sm font-medium cursor-pointer block truncate",title:e.originalName,children:e.originalName}),e.fileSize&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[B(e.fileSize),e.mimeType&&s.jsxs("span",{className:"ml-2",children:["â€¢ ",e.mimeType.split("/")[1]?.toUpperCase()]})]})]})]})]},e.id)})}),s.jsxs("div",{className:"border-t",onDragOver:q,onDragLeave:H,onDrop:V,children:[s.jsx("div",{className:"p-3 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(k,{className:"h-4 w-4 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium",children:"ì¶”ê°€ íŒŒì¼ ì²¨ë¶€"}),x.length>0&&s.jsxs(j,{variant:"secondary",className:"text-xs",children:[x.length,"ê°œ"]})]}),s.jsxs(h,{type:"button",variant:"outline",size:"sm",onClick:()=>b.current?.click(),className:"text-xs",children:[s.jsx(k,{className:"h-3 w-3 mr-1"}),"íŒŒì¼ ì„ íƒ"]})]})}),s.jsx("input",{ref:b,type:"file",multiple:!0,onChange:ie,className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif,.txt,.zip,.rar"}),x.length>0?s.jsx("div",{className:"max-h-48 overflow-y-auto p-3 space-y-2",children:x.map(e=>{const t=r.selectedAttachmentIds.includes(e.id);return s.jsxs("div",{className:`flex items-center space-x-3 p-2 rounded-md hover:bg-gray-50 transition-colors ${t?"bg-green-50 border border-green-200":"border border-gray-200"}`,children:[s.jsx(Y,{id:`custom-${e.id}`,checked:t,onCheckedChange:()=>W(e.id)}),s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[X(e.mimeType,e.originalName),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs(m,{htmlFor:`custom-${e.id}`,className:"text-sm font-medium cursor-pointer block truncate",title:e.originalName,children:[e.originalName,s.jsx(j,{variant:"outline",className:"ml-2 text-xs",children:"ìƒˆ íŒŒì¼"})]}),e.fileSize&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[B(e.fileSize),e.mimeType&&s.jsxs("span",{className:"ml-2",children:["â€¢ ",e.mimeType.split("/")[1]?.toUpperCase()]})]})]}),s.jsx(h,{type:"button",variant:"ghost",size:"sm",onClick:()=>re(e.id),className:"h-6 w-6 p-0 hover:bg-red-100",children:s.jsx(pe,{className:"h-3 w-3 text-red-500"})})]})]},e.id)})}):s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",onDragOver:q,onDragLeave:H,onDrop:V,children:s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 transition-colors ${f?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx(k,{className:`h-8 w-8 mx-auto mb-2 ${f?"text-blue-500":"text-gray-400"}`}),s.jsx("p",{className:f?"text-blue-600 font-medium":"",children:f?"íŒŒì¼ì„ ë†“ìœ¼ì„¸ìš”":"ì¶”ê°€ë¡œ ì²¨ë¶€í•  íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”"}),s.jsx("p",{className:"text-xs mt-1",children:f?"ì—¬ê¸°ì— íŒŒì¼ì„ ë“œë¡­í•˜ì„¸ìš”":"ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë˜ëŠ” í´ë¦­í•˜ì—¬ íŒŒì¼ ì„ íƒ"}),s.jsx("p",{className:"text-xs mt-1 text-gray-500",children:"ìµœëŒ€ 10MB, ì—¬ëŸ¬ íŒŒì¼ ì„ íƒ ê°€ëŠ¥"})]})})]}),r.selectedAttachmentIds.length>0&&s.jsx("div",{className:"p-3 bg-blue-50 border-t border-blue-200",children:s.jsxs("div",{className:"text-sm text-blue-700 font-medium flex items-center gap-2",children:[s.jsx(fe,{className:"h-4 w-4"}),"ì´ ",r.selectedAttachmentIds.length,"ê°œ íŒŒì¼ì´ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤"]})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"message",children:"ë©”ì‹œì§€ (ì„ íƒ)"}),s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"ì´ ë©”ì‹œì§€ëŠ” ì´ë©”ì¼ ë³¸ë¬¸ì— í¬í•¨ë˜ì–´ ìˆ˜ì‹ ìì—ê²Œ ì „ë‹¬ë©ë‹ˆë‹¤."}),s.jsx(Ee,{id:"message",value:r.message,onChange:e=>d(t=>({...t,message:e.target.value})),placeholder:"ì¶”ê°€ ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...",rows:8,className:"resize-none"})]})]}),s.jsxs(we,{children:[s.jsx(h,{variant:"outline",onClick:()=>C(!1),disabled:S,children:"ì·¨ì†Œ"}),s.jsx(h,{onClick:ce,disabled:S,children:S?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"ë°œì†¡ ì¤‘..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ae,{className:"h-4 w-4 mr-2"}),"ì´ë©”ì¼ ë°œì†¡"]})})]})]})})}export{Me as E};
