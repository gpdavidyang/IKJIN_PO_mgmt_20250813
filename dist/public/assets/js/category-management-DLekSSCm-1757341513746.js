import{n as H,ao as vs,ap as De,r,j as e,aq as ys,ar as Ns,as as X,at as bs,au as Cs,av as ws,aw as Ms,ax as Ss,ay as ks,az as Ts,aA as Is,aB as Ds,aC as As,aD as Rs,aE as Ps,aF as Es,aG as Os,aH as _s,aI as zs,aJ as $s,an as O,m as Ae,Q as Ls,J as Hs,e as Fs,g as Us,q as Gs,s as ge,af as se,w as Y,L as qs,N as Bs,aK as B,aL as K,B as p,aM as Z,aN as ke,O as le,aa as Ks,o as L,T as q,P as de,y as Te,S as fe,z as je,A as ve,D as ye,G as A,v as Re,t as Zs,aO as Qs,aP as Vs,x as ee,aQ as Js,k as oe,I as Ws}from"./index-Cq_ZAPR7-1757341513746.js";import{D as Xs,a as Ys,b as et,c as st,d as tt}from"./dialog-COOX7BSF-1757341513746.js";import{L as at}from"./layers-C0mP_h2V-1757341513746.js";import{G as Pe}from"./grid-3x3-llHNEim_-1757341513746.js";import{D as rt}from"./download-ByvuypWs-1757341513746.js";import{S as nt}from"./search-C-X4w1ww-1757341513746.js";import{A as Ie}from"./archive-DDIVgfV2-1757341513746.js";import{S as te}from"./square-pen-CY1Z5ccH-1757341513746.js";import{Z as it}from"./zap-04FvRUnc-1757341513746.js";import"./index-BXtUl0e1-1757341513746.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=H("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=H("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=H("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=H("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=H("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=H("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=H("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);var Ce="ContextMenu",[ht,Xt]=vs(Ce,[De]),v=De(),[ut,Ee]=ht(Ce),Oe=s=>{const{__scopeContextMenu:a,children:n,onOpenChange:l,dir:c,modal:f=!0}=s,[h,g]=r.useState(!1),N=v(a),M=Es(l),u=r.useCallback(k=>{g(k),M(k)},[M]);return e.jsx(ut,{scope:a,open:h,onOpenChange:u,modal:f,children:e.jsx(Os,{...N,dir:c,open:h,onOpenChange:u,modal:f,children:n})})};Oe.displayName=Ce;var _e="ContextMenuTrigger",ze=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,disabled:l=!1,...c}=s,f=Ee(_e,n),h=v(n),g=r.useRef({x:0,y:0}),N=r.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...g.current})}),M=r.useRef(0),u=r.useCallback(()=>window.clearTimeout(M.current),[]),k=S=>{g.current={x:S.clientX,y:S.clientY},f.onOpenChange(!0)};return r.useEffect(()=>u,[u]),r.useEffect(()=>void(l&&u()),[l,u]),e.jsxs(e.Fragment,{children:[e.jsx(ys,{...h,virtualRef:N}),e.jsx(Ns.span,{"data-state":f.open?"open":"closed","data-disabled":l?"":void 0,...c,ref:a,style:{WebkitTouchCallout:"none",...s.style},onContextMenu:l?s.onContextMenu:X(s.onContextMenu,S=>{u(),k(S),S.preventDefault()}),onPointerDown:l?s.onPointerDown:X(s.onPointerDown,ce(S=>{u(),M.current=window.setTimeout(()=>k(S),700)})),onPointerMove:l?s.onPointerMove:X(s.onPointerMove,ce(u)),onPointerCancel:l?s.onPointerCancel:X(s.onPointerCancel,ce(u)),onPointerUp:l?s.onPointerUp:X(s.onPointerUp,ce(u))})]})});ze.displayName=_e;var pt="ContextMenuPortal",$e=s=>{const{__scopeContextMenu:a,...n}=s,l=v(a);return e.jsx(_s,{...l,...n})};$e.displayName=pt;var Le="ContextMenuContent",He=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=Ee(Le,n),f=v(n),h=r.useRef(!1);return e.jsx(bs,{...f,...l,ref:a,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:g=>{s.onCloseAutoFocus?.(g),!g.defaultPrevented&&h.current&&g.preventDefault(),h.current=!1},onInteractOutside:g=>{s.onInteractOutside?.(g),!g.defaultPrevented&&!c.modal&&(h.current=!0)},style:{...s.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});He.displayName=Le;var gt="ContextMenuGroup",ft=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(Cs,{...c,...l,ref:a})});ft.displayName=gt;var jt="ContextMenuLabel",Fe=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(ws,{...c,...l,ref:a})});Fe.displayName=jt;var vt="ContextMenuItem",Ue=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(Ms,{...c,...l,ref:a})});Ue.displayName=vt;var yt="ContextMenuCheckboxItem",Ge=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(Ss,{...c,...l,ref:a})});Ge.displayName=yt;var Nt="ContextMenuRadioGroup",bt=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(ks,{...c,...l,ref:a})});bt.displayName=Nt;var Ct="ContextMenuRadioItem",qe=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(Ts,{...c,...l,ref:a})});qe.displayName=Ct;var wt="ContextMenuItemIndicator",Be=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(Is,{...c,...l,ref:a})});Be.displayName=wt;var Mt="ContextMenuSeparator",Ke=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(Ds,{...c,...l,ref:a})});Ke.displayName=Mt;var St="ContextMenuArrow",kt=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(As,{...c,...l,ref:a})});kt.displayName=St;var Tt="ContextMenuSub",Ze=s=>{const{__scopeContextMenu:a,children:n,onOpenChange:l,open:c,defaultOpen:f}=s,h=v(a),[g,N]=zs({prop:c,defaultProp:f,onChange:l});return e.jsx($s,{...h,open:g,onOpenChange:N,children:n})};Ze.displayName=Tt;var It="ContextMenuSubTrigger",Qe=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(Rs,{...c,...l,ref:a})});Qe.displayName=It;var Dt="ContextMenuSubContent",Ve=r.forwardRef((s,a)=>{const{__scopeContextMenu:n,...l}=s,c=v(n);return e.jsx(Ps,{...c,...l,ref:a,style:{...s.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ve.displayName=Dt;function ce(s){return a=>a.pointerType!=="mouse"?s(a):void 0}var At=Oe,Rt=ze,Pt=$e,Je=He,We=Fe,Xe=Ue,Ye=Ge,es=qe,ss=Be,ts=Ke,Et=Ze,as=Qe,rs=Ve;const Ot=At,_t=Rt,zt=Et,ns=r.forwardRef(({className:s,inset:a,children:n,...l},c)=>e.jsxs(as,{ref:c,className:O("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",a&&"pl-8",s),...l,children:[n,e.jsx(Ae,{className:"ml-auto h-4 w-4"})]}));ns.displayName=as.displayName;const is=r.forwardRef(({className:s,...a},n)=>e.jsx(rs,{ref:n,className:O("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",s),...a}));is.displayName=rs.displayName;const ls=r.forwardRef(({className:s,...a},n)=>e.jsx(Pt,{children:e.jsx(Je,{ref:n,className:O("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",s),...a})}));ls.displayName=Je.displayName;const $=r.forwardRef(({className:s,inset:a,...n},l)=>e.jsx(Xe,{ref:l,className:O("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",s),...n}));$.displayName=Xe.displayName;const $t=r.forwardRef(({className:s,children:a,checked:n,...l},c)=>e.jsxs(Ye,{ref:c,className:O("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...l,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ss,{children:e.jsx(Ls,{className:"h-4 w-4"})})}),a]}));$t.displayName=Ye.displayName;const Lt=r.forwardRef(({className:s,children:a,...n},l)=>e.jsxs(es,{ref:l,className:O("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ss,{children:e.jsx(Hs,{className:"h-2 w-2 fill-current"})})}),a]}));Lt.displayName=es.displayName;const Ht=r.forwardRef(({className:s,inset:a,...n},l)=>e.jsx(We,{ref:l,className:O("px-2 py-1.5 text-sm font-semibold text-foreground",a&&"pl-8",s),...n}));Ht.displayName=We.displayName;const be=r.forwardRef(({className:s,...a},n)=>e.jsx(ts,{ref:n,className:O("-mx-1 my-1 h-px bg-border",s),...a}));be.displayName=ts.displayName;const E={major:{label:"대분류",color:"bg-blue-100 text-blue-800 border-blue-200",icon:"🏗️",maxLevel:0,canHaveChildren:!0},middle:{label:"중분류",color:"bg-green-100 text-green-800 border-green-200",icon:"📁",maxLevel:1,canHaveChildren:!0},minor:{label:"소분류",color:"bg-orange-100 text-orange-800 border-orange-200",icon:"📄",maxLevel:2,canHaveChildren:!1}};function os({node:s,onEdit:a,onDelete:n,onToggle:l,onSelect:c,onAddChild:f,onMove:h,searchTerm:g,isMultiSelectMode:N,selectedNodes:M}){const u=r.useRef(null),[k,S]=r.useState(!1),[I,Q]=r.useState(!1),[R,T]=r.useState(null),ae=d=>{console.log("Drag started for:",s.categoryName),Q(!0);const j={id:s.id,categoryName:s.categoryName,categoryType:s.categoryType,parentId:s.parentId,displayOrder:s.displayOrder,node:{id:s.id,categoryName:s.categoryName,categoryType:s.categoryType,parentId:s.parentId,displayOrder:s.displayOrder,isActive:s.isActive}};if(d.dataTransfer.setData("application/json",JSON.stringify(j)),d.dataTransfer.setData("text/plain",`category-${s.id}`),d.dataTransfer.effectAllowed="move",u.current){const x=u.current.cloneNode(!0);x.style.transform="rotate(2deg)",x.style.opacity="0.9",x.style.backgroundColor="#3b82f6",x.style.color="white",x.style.borderRadius="8px",x.style.padding="8px",x.style.position="absolute",x.style.top="-1000px",x.style.left="-1000px",x.style.pointerEvents="none",x.style.maxWidth="250px",x.style.zIndex="9999",document.body.appendChild(x),d.dataTransfer.setDragImage(x,20,20),setTimeout(()=>{document.body.contains(x)&&document.body.removeChild(x)},100)}},V=()=>{console.log("Drag ended for:",s.categoryName),Q(!1),T(null)},me=d=>{if(d.preventDefault(),d.stopPropagation(),d.dataTransfer.dropEffect="move",u.current){const j=u.current.getBoundingClientRect(),x=d.clientY-j.top,C=j.height;x<C*.25?T("before"):x>C*.75?T("after"):E[s.categoryType].canHaveChildren?T("inside"):T(x<C*.5?"before":"after")}},F=d=>{u.current&&!u.current.contains(d.relatedTarget)&&T(null)},xe=d=>{d.preventDefault(),d.stopPropagation();const j=R;T(null);try{const x=JSON.parse(d.dataTransfer.getData("application/json"));if(console.log("Drop data:",x,"Target:",s,"Position:",j),x.node&&x.node.id!==s.id&&j){if(x.node.id===s.id){console.log("Cannot drop on self");return}if(j==="inside"&&!E[s.categoryType].canHaveChildren){console.log("Target cannot have children");return}console.log("Executing move:",x.node.categoryName,j,s.categoryName),h(x.node,s,j)}}catch(x){console.error("Error parsing drag data:",x)}},_=(d,j)=>{if(!j.trim())return d;const x=new RegExp(`(${j})`,"gi");return d.split(x).map((D,y)=>x.test(D)?e.jsx("mark",{className:"bg-yellow-200 px-1 rounded",children:D},y):D)},U=E[s.categoryType],b=s.children.length>0,G=M.has(s.id),z=U.canHaveChildren;return e.jsxs("div",{ref:u,className:`relative ${I?"opacity-50":""}`,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),onDragOver:me,onDragLeave:F,onDrop:xe,children:[R==="before"&&e.jsx("div",{className:"absolute -top-1 left-0 right-0 h-1 bg-blue-500 rounded-full shadow-lg z-10 animate-pulse"}),R==="after"&&e.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-1 bg-blue-500 rounded-full shadow-lg z-10 animate-pulse"}),e.jsxs(Ot,{children:[e.jsx(_t,{children:e.jsxs("div",{draggable:!0,onDragStart:ae,onDragEnd:V,className:`
              flex items-center gap-3 p-3 rounded-lg border transition-all duration-200 cursor-pointer
              ${G?"bg-blue-50 border-blue-300 shadow-sm":"hover:bg-gray-50 border-gray-200"}
              ${R==="inside"?"bg-blue-100 border-blue-400 shadow-lg":""}
              ${I?"shadow-lg transform scale-95":""}
              ${R?"ring-2 ring-blue-300 ring-opacity-50":""}
            `,style:{marginLeft:`${s.level*24}px`},onClick:d=>{d.preventDefault(),c(s,d.ctrlKey||d.metaKey||N)},children:[e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:b&&e.jsx(p,{variant:"ghost",size:"sm",className:"w-5 h-5 p-0 hover:bg-gray-200",onClick:d=>{d.stopPropagation(),l(s)},children:s.isExpanded?e.jsx(Re,{className:"w-4 h-4"}):e.jsx(Ae,{className:"w-4 h-4"})})}),N&&e.jsx("input",{type:"checkbox",checked:G,onChange:()=>c(s,!0),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500",onClick:d=>d.stopPropagation()}),e.jsxs(L,{variant:"secondary",className:`${U.color} text-xs font-medium px-2 py-1 border`,children:[e.jsx("span",{className:"mr-1",children:U.icon}),U.label]}),e.jsxs("span",{className:"flex-1 font-medium text-gray-900",children:[_(s.categoryName,g),I&&e.jsx("span",{className:"ml-2 text-xs text-blue-600",children:"(드래그 중)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!s.isActive&&e.jsx(L,{variant:"outline",className:"text-gray-500 border-gray-300",children:"비활성"}),b&&e.jsxs(L,{variant:"outline",className:"text-blue-600 border-blue-300 text-xs",children:[s.children.length,"개"]})]}),(k||G)&&e.jsxs("div",{className:"flex items-center gap-1 transition-opacity duration-200",children:[e.jsx(se,{children:e.jsxs(B,{children:[e.jsx(K,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 hover:bg-blue-100",onClick:d=>{d.stopPropagation(),a(s)},children:e.jsx(te,{className:"w-4 h-4"})})}),e.jsx(Z,{children:e.jsx("p",{children:"편집"})})]})}),z&&e.jsx(se,{children:e.jsxs(B,{children:[e.jsx(K,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 hover:bg-green-100",onClick:d=>{d.stopPropagation(),f(s)},children:e.jsx(lt,{className:"w-4 h-4"})})}),e.jsx(Z,{children:e.jsx("p",{children:"하위 분류 추가"})})]})}),e.jsx(se,{children:e.jsxs(B,{children:[e.jsx(K,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 hover:bg-red-100",onClick:d=>{d.stopPropagation(),n(s)},children:e.jsx(q,{className:"w-4 h-4"})})}),e.jsx(Z,{children:e.jsx("p",{children:"삭제"})})]})})]})]})}),e.jsxs(ls,{className:"w-56",children:[e.jsxs($,{onClick:()=>a(s),children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"편집"]}),z&&e.jsxs($,{onClick:()=>f(s),children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"하위 분류 추가"]}),e.jsx(be,{}),e.jsxs(zt,{children:[e.jsxs(ns,{children:[e.jsx(Js,{className:"w-4 h-4 mr-2"}),"복사"]}),e.jsxs(is,{children:[e.jsx($,{children:"이름만 복사"}),e.jsx($,{children:"구조와 함께 복사"})]})]}),e.jsxs($,{children:[e.jsx(ot,{className:"w-4 h-4 mr-2"}),"이동"]}),e.jsx(be,{}),e.jsxs($,{onClick:()=>n(s),className:"text-red-600 focus:text-red-600",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"삭제"]})]})]}),b&&s.isExpanded&&e.jsx("div",{className:"mt-2 space-y-1",children:s.children.map(d=>e.jsx(os,{node:d,onEdit:a,onDelete:n,onToggle:l,onSelect:c,onAddChild:f,onMove:h,searchTerm:g,isMultiSelectMode:N,selectedNodes:M},d.id))})]})}function Ft(){const{toast:s}=Fs(),a=Us(),[n,l]=r.useState("tree"),[c,f]=r.useState(!1),[h,g]=r.useState(new Set),[N,M]=r.useState(new Set),[u,k]=r.useState(null),[S,I]=r.useState(!1),[Q,R]=r.useState(null),[T,ae]=r.useState(!1),[V,me]=r.useState([]),[F,xe]=r.useState(-1),[_,U]=r.useState(""),[b,G]=r.useState({searchTerm:"",categoryType:"all",isActive:"all",parentId:null}),[z,d]=r.useState(100),[j,x]=r.useState(!0),[C,D]=r.useState({categoryType:"major",categoryName:"",parentId:null,displayOrder:0,isActive:!0}),{data:y=[],isLoading:cs}=Gs({queryKey:["/api/item-categories"],queryFn:()=>oe("GET","/api/item-categories")}),we=ge({mutationFn:t=>oe("POST","/api/item-categories",t),onSuccess:t=>{a.invalidateQueries({queryKey:["/api/item-categories"]}),I(!1),Se(),W("Created category: "+t.categoryName),s({title:"분류 추가 완료",description:"새로운 분류가 추가되었습니다."})},onError:()=>{s({title:"오류",description:"분류 추가 중 오류가 발생했습니다.",variant:"destructive"})}}),re=ge({mutationFn:({id:t,data:i})=>oe("PUT",`/api/item-categories/${t}`,i),onSuccess:t=>{a.invalidateQueries({queryKey:["/api/item-categories"]}),a.refetchQueries({queryKey:["/api/item-categories"]}),k(null),W("Updated category: "+(t.categoryName||"Unknown")),console.log("Category updated successfully:",t)},onError:t=>{console.error("Category update error:",t),s({title:"오류",description:"분류 수정 중 오류가 발생했습니다.",variant:"destructive"})}}),J=ge({mutationFn:t=>oe("DELETE",`/api/item-categories/${t}`),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/item-categories"]}),g(new Set),W("Deleted category"),s({title:"분류 삭제 완료",description:"분류가 삭제되었습니다."})},onError:()=>{s({title:"오류",description:"분류 삭제 중 오류가 발생했습니다.",variant:"destructive"})}}),Me=r.useMemo(()=>{const t=(i,o=0)=>y.filter(m=>m.parentId===i).filter(m=>!(!j&&!m.isActive||b.categoryType!=="all"&&m.categoryType!==b.categoryType||b.isActive!=="all"&&(b.isActive==="active"&&!m.isActive||b.isActive==="inactive"&&m.isActive)||_&&!m.categoryName.toLowerCase().includes(_.toLowerCase()))).sort((m,w)=>m.displayOrder-w.displayOrder).map(m=>({...m,level:o,path:[],children:t(m.id,o+1),isExpanded:N.has(m.id),isVisible:!0,isEditing:!1,isSelected:h.has(m.id),isDragging:!1,isDropTarget:!1}));return t(null)},[y,N,h,j,b,_]),W=r.useCallback(t=>{const i={categories:[...y],timestamp:Date.now(),action:t},o=V.slice(0,F+1);o.push(i),o.length>50&&o.shift(),me(o),xe(o.length-1)},[y,V,F]),ds=r.useCallback((t,i=!1)=>{if(i||c){const o=new Set(h);o.has(t.id)?o.delete(t.id):o.add(t.id),g(o)}else g(new Set([t.id]))},[h,c]),ms=r.useCallback(t=>{const i=new Set(N);i.has(t.id)?i.delete(t.id):i.add(t.id),M(i)},[N]),ne=r.useCallback(t=>{k(t),D({categoryType:t.categoryType,categoryName:t.categoryName,parentId:t.parentId,displayOrder:t.displayOrder,isActive:t.isActive}),I(!0)},[]),he=r.useCallback(t=>{const i=t.categoryType==="major"?"middle":"minor";R(t),D({categoryType:i,categoryName:"",parentId:t.id,displayOrder:t.children.length,isActive:!0}),I(!0)},[]),ue=r.useCallback((t,i)=>{if(t.parentId===i.id)return!0;if(t.parentId===null)return!1;const o=y.find(m=>m.id===t.parentId);return o?ue(o,i):!1},[y]),xs=r.useCallback(async(t,i,o)=>{if(T){console.log("Drag operation already in progress, skipping...");return}console.log(`Starting move operation: ${t.categoryName} ${o} ${i.categoryName}`),ae(!0);try{let m=null,w=0;if(o==="inside"){if(!E[i.categoryType].canHaveChildren){s({title:"이동 불가",description:`${E[i.categoryType].label}는 하위 분류를 가질 수 없습니다.`,variant:"destructive"});return}if(ue(i,t)){s({title:"이동 불가",description:"상위 분류를 하위 분류로 이동할 수 없습니다.",variant:"destructive"});return}m=i.id,w=i.children.length,console.log(`Moving as child: parentId=${m}, displayOrder=${w}`)}else{m=i.parentId;const pe=y.filter(js=>js.parentId===m);console.log(`Found ${pe.length} siblings at level ${m}`),o==="before"?(w=i.displayOrder,console.log(`Moving before: displayOrder=${w}`)):(w=i.displayOrder+1,console.log(`Moving after: displayOrder=${w}`))}const P={parentId:m,displayOrder:w};console.log("Updating dragged node with data:",P),await re.mutateAsync({id:t.id,data:P}),W(`Moved "${t.categoryName}" ${o} "${i.categoryName}"`),s({title:"이동 완료",description:`"${t.categoryName}"가 "${i.categoryName}" ${o==="inside"?"하위로":o==="before"?"앞으로":"뒤로"} 이동되었습니다.`}),console.log("Move operation completed successfully")}catch(m){console.error("Error moving category:",m),s({title:"이동 실패",description:"분류 이동 중 오류가 발생했습니다. 콘솔을 확인해주세요.",variant:"destructive"})}finally{ae(!1),console.log("Move operation finished")}},[y,re,W,s,T,ue]),ie=r.useCallback(t=>{confirm(`"${t.categoryName}" 분류를 삭제하시겠습니까?`)&&J.mutate(t.id)},[J]),Se=()=>{D({categoryType:"major",categoryName:"",parentId:null,displayOrder:0,isActive:!0}),k(null),R(null)},hs=()=>{if(!C.categoryName.trim()){s({title:"입력 오류",description:"분류명을 입력해주세요.",variant:"destructive"});return}u?re.mutate({id:u.id,data:C}):we.mutate(C)};r.useEffect(()=>{const t=i=>{if(i.ctrlKey||i.metaKey)switch(i.key){case"z":i.preventDefault(),i.shiftKey?console.log("Redo"):console.log("Undo");break;case"a":i.preventDefault(),f(!0),g(new Set(y.map(o=>o.id)));break;case"f":i.preventDefault(),document.getElementById("search-input")?.focus();break}if(i.key==="Escape"&&(g(new Set),f(!1)),i.key==="Delete"&&h.size>0&&confirm(`선택된 ${h.size}개의 분류를 삭제하시겠습니까?`)&&h.forEach(o=>J.mutate(o)),i.key==="ArrowUp"||i.key==="ArrowDown"){i.preventDefault();const o=y.filter(m=>m.isActive);if(h.size===1){const m=Array.from(h)[0],w=o.findIndex(pe=>pe.id===m);let P;i.key==="ArrowUp"?P=w>0?w-1:o.length-1:P=w<o.length-1?w+1:0,P>=0&&P<o.length&&g(new Set([o[P].id]))}}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[y,h,J]);const us=()=>{const t=y.map(i=>i.id);M(new Set(t))},ps=()=>{M(new Set)},gs=()=>{h.size!==0&&confirm(`선택된 ${h.size}개의 분류를 삭제하시겠습니까?`)&&h.forEach(t=>J.mutate(t))},fs=()=>{const t=JSON.stringify(y,null,2),i="data:application/json;charset=utf-8,"+encodeURIComponent(t),o="categories.json",m=document.createElement("a");m.setAttribute("href",i),m.setAttribute("download",o),m.click()};return e.jsxs(se,{children:[e.jsxs(Y,{className:"h-full",children:[e.jsxs(qs,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Bs,{className:"flex items-center gap-3",children:[e.jsx(at,{className:"w-6 h-6"}),"계층 분류 관리 시스템",e.jsx(se,{children:e.jsxs(B,{children:[e.jsx(K,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(mt,{className:"w-4 h-4 text-gray-400"})})}),e.jsx(Z,{className:"max-w-md",children:e.jsxs("div",{className:"space-y-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-blue-800 mb-2 flex items-center gap-1",children:"🚀 주요 기능"}),e.jsxs("div",{className:"grid grid-cols-1 gap-1 text-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-3 h-3 text-blue-600"}),e.jsxs("span",{children:[e.jsx("strong",{children:"드래그 앤 드롭:"})," 직관적인 재배열"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-green-100 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-green-600 rounded"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"실시간 편집:"})," 즉시 반영되는 변경사항"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-purple-100 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-purple-600 rounded"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"다중 선택:"})," 일괄 작업 지원"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded bg-orange-100 flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-orange-600 rounded"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"스마트 검색:"})," 고급 필터링"]})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-blue-800 mb-2 flex items-center gap-1",children:"⌨️ 단축키 및 조작법"}),e.jsxs("div",{className:"space-y-1 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"드래그 앤 드롭:"})," 분류를 드래그하여 재정렬하거나 다른 부모로 이동"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"키보드:"})," 화살표 키로 탐색, Delete로 삭제, Ctrl+A로 전체 선택"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"다중 선택:"})," Ctrl+클릭 또는 다중 선택 모드 활성화"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"검색:"})," Ctrl+F로 빠른 검색, 실시간 필터링"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"확장/축소:"})," 전체 확장/축소, 줌 조절 기능"]})]})]})]})})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[e.jsx(p,{variant:n==="tree"?"default":"ghost",size:"sm",onClick:()=>l("tree"),className:"h-8",children:e.jsx(Ne,{className:"w-4 h-4"})}),e.jsx(p,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>l("grid"),className:"h-8",children:e.jsx(Pe,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{checked:c,onCheckedChange:f,id:"multi-select"}),e.jsx(le,{htmlFor:"multi-select",className:"text-sm",children:"다중 선택"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(B,{children:[e.jsx(K,{asChild:!0,children:e.jsx(p,{variant:"outline",size:"sm",disabled:F<=0,onClick:()=>{},className:"h-8 w-8 p-0",children:e.jsx(xt,{className:"w-4 h-4"})})}),e.jsx(Z,{children:e.jsx("p",{children:"실행 취소 (Ctrl+Z)"})})]}),e.jsxs(B,{children:[e.jsx(K,{asChild:!0,children:e.jsx(p,{variant:"outline",size:"sm",disabled:F>=V.length-1,onClick:()=>{},className:"h-8 w-8 p-0",children:e.jsx(ct,{className:"w-4 h-4"})})}),e.jsx(Z,{children:e.jsx("p",{children:"다시 실행 (Ctrl+Shift+Z)"})})]})]}),e.jsx(Ks,{orientation:"vertical",className:"h-6"}),h.size>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"secondary",className:"text-blue-600",children:[h.size,"개 선택됨"]}),e.jsxs(p,{variant:"destructive",size:"sm",onClick:gs,className:"h-8",children:[e.jsx(q,{className:"w-4 h-4 mr-1"}),"일괄 삭제"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:fs,className:"h-8",children:[e.jsx(rt,{className:"w-4 h-4 mr-1"}),"내보내기"]}),e.jsxs(p,{size:"sm",onClick:()=>{Se(),I(!0)},className:"h-8",children:[e.jsx(de,{className:"w-4 h-4 mr-1"}),"분류 추가"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(Te,{id:"search-input",placeholder:"분류명 검색... (Ctrl+F)",value:_,onChange:t=>U(t.target.value),className:"pl-10"})]}),e.jsxs(fe,{value:b.categoryType,onValueChange:t=>G({...b,categoryType:t}),children:[e.jsx(je,{className:"w-32",children:e.jsx(ve,{})}),e.jsxs(ye,{children:[e.jsx(A,{value:"all",children:"모든 유형"}),e.jsx(A,{value:"major",children:"대분류"}),e.jsx(A,{value:"middle",children:"중분류"}),e.jsx(A,{value:"minor",children:"소분류"})]})]}),e.jsxs(fe,{value:b.isActive,onValueChange:t=>G({...b,isActive:t}),children:[e.jsx(je,{className:"w-32",children:e.jsx(ve,{})}),e.jsxs(ye,{children:[e.jsx(A,{value:"all",children:"모든 상태"}),e.jsx(A,{value:"active",children:"활성"}),e.jsx(A,{value:"inactive",children:"비활성"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"outline",size:"sm",onClick:us,children:e.jsx(Re,{className:"w-4 h-4"})}),e.jsx(p,{variant:"outline",size:"sm",onClick:ps,children:e.jsx(Zs,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"outline",size:"sm",onClick:()=>d(Math.max(50,z-10)),className:"h-8 w-8 p-0",children:e.jsx(Qs,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm font-medium w-12 text-center",children:[z,"%"]}),e.jsx(p,{variant:"outline",size:"sm",onClick:()=>d(Math.min(200,z+10)),className:"h-8 w-8 p-0",children:e.jsx(Vs,{className:"w-4 h-4"})})]})]})]}),e.jsxs(ee,{className:"flex-1 overflow-hidden relative",children:[T&&e.jsx("div",{className:"absolute inset-0 bg-white/50 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg shadow-lg border",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:"분류 이동 중..."})]})}),n==="tree"&&e.jsx("div",{className:"h-full overflow-auto space-y-2 p-2",style:{fontSize:`${z}%`},children:cs?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-500",children:"로딩 중..."})}):Me.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[e.jsx(Ie,{className:"w-12 h-12 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"등록된 분류가 없습니다"}),e.jsx("p",{className:"text-sm",children:"새로운 분류를 추가해보세요"})]}):Me.map(t=>e.jsx(os,{node:t,onEdit:ne,onDelete:ie,onToggle:ms,onSelect:ds,onAddChild:he,onMove:xs,searchTerm:_,isMultiSelectMode:c,selectedNodes:h},t.id))}),n==="grid"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"🏗️"}),"대분류"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[filteredData.filter(t=>t.categoryType==="major").map(t=>e.jsx(Y,{className:"hover:shadow-md transition-shadow cursor-pointer group",children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm truncate",children:t.categoryName}),e.jsx(L,{variant:"outline",className:E.major.color,children:"대분류"})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(p,{size:"sm",variant:"ghost",onClick:()=>ne(t),className:"h-6 w-6 p-0",children:e.jsx(te,{className:"h-3 w-3"})}),e.jsx(p,{size:"sm",variant:"ghost",onClick:()=>he(t),className:"h-6 w-6 p-0",children:e.jsx(de,{className:"h-3 w-3"})}),e.jsx(p,{size:"sm",variant:"ghost",onClick:()=>ie(t),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(q,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[filteredData.filter(i=>i.parentId===t.id&&i.categoryType==="middle").length,"개 중분류"]})]})},t.id)),filteredData.filter(t=>t.categoryType==="major").length===0&&e.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"등록된 대분류가 없습니다"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"📁"}),"중분류"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[filteredData.filter(t=>t.categoryType==="middle").map(t=>{const i=filteredData.find(o=>o.id===t.parentId);return e.jsx(Y,{className:"hover:shadow-md transition-shadow cursor-pointer group",children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm truncate",children:t.categoryName}),e.jsx(L,{variant:"outline",className:E.middle.color,children:"중분류"}),i&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["상위: ",i.categoryName]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(p,{size:"sm",variant:"ghost",onClick:()=>ne(t),className:"h-6 w-6 p-0",children:e.jsx(te,{className:"h-3 w-3"})}),e.jsx(p,{size:"sm",variant:"ghost",onClick:()=>he(t),className:"h-6 w-6 p-0",children:e.jsx(de,{className:"h-3 w-3"})}),e.jsx(p,{size:"sm",variant:"ghost",onClick:()=>ie(t),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(q,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[filteredData.filter(o=>o.parentId===t.id&&o.categoryType==="minor").length,"개 소분류"]})]})},t.id)}),filteredData.filter(t=>t.categoryType==="middle").length===0&&e.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"등록된 중분류가 없습니다"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"📄"}),"소분류"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[filteredData.filter(t=>t.categoryType==="minor").map(t=>{const i=filteredData.find(m=>m.id===t.parentId),o=i?filteredData.find(m=>m.id===i.parentId):null;return e.jsx(Y,{className:"hover:shadow-md transition-shadow cursor-pointer group",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm truncate",children:t.categoryName}),e.jsx(L,{variant:"outline",className:E.minor.color,children:"소분류"}),i&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-0.5",children:[o&&e.jsxs("p",{children:["대분류: ",o.categoryName]}),e.jsxs("p",{children:["중분류: ",i.categoryName]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(p,{size:"sm",variant:"ghost",onClick:()=>ne(t),className:"h-6 w-6 p-0",children:e.jsx(te,{className:"h-3 w-3"})}),e.jsx(p,{size:"sm",variant:"ghost",onClick:()=>ie(t),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",children:e.jsx(q,{className:"h-3 w-3"})})]})]})})},t.id)}),filteredData.filter(t=>t.categoryType==="minor").length===0&&e.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"등록된 소분류가 없습니다"})]})]}),filteredData.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[e.jsx(Ie,{className:"w-12 h-12 mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"등록된 분류가 없습니다"}),e.jsx("p",{className:"text-sm",children:"새로운 분류를 추가해보세요"})]})]})]})]}),e.jsx(Xs,{open:S,onOpenChange:I,children:e.jsxs(Ys,{className:"sm:max-w-md",children:[e.jsxs(et,{children:[e.jsx(st,{children:u?"분류 수정":"새 분류 추가"}),e.jsxs(tt,{children:[Q&&`"${Q.categoryName}" 하위에 `,"새로운 분류를 ",u?"수정":"추가","합니다."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(le,{htmlFor:"categoryName",children:"분류명"}),e.jsx(Te,{id:"categoryName",value:C.categoryName,onChange:t=>D({...C,categoryName:t.target.value}),placeholder:"분류명을 입력하세요",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx(le,{htmlFor:"categoryType",children:"분류 유형"}),e.jsxs(fe,{value:C.categoryType,onValueChange:t=>D({...C,categoryType:t}),children:[e.jsx(je,{children:e.jsx(ve,{})}),e.jsxs(ye,{children:[e.jsx(A,{value:"major",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"🏗️"}),"대분류"]})}),e.jsx(A,{value:"middle",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"📁"}),"중분류"]})}),e.jsx(A,{value:"minor",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"📄"}),"소분류"]})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{id:"isActive",checked:C.isActive,onCheckedChange:t=>D({...C,isActive:t})}),e.jsx(le,{htmlFor:"isActive",children:"활성 상태"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(p,{variant:"outline",onClick:()=>I(!1),children:"취소"}),e.jsx(p,{onClick:hs,disabled:we.isPending||re.isPending,children:u?"수정":"추가"})]})]})})]})}function Yt(){return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-[1366px] mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"분류 관리 시스템"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"품목 분류를 효율적으로 관리하세요"})]})}),e.jsx("div",{className:"flex-1",children:e.jsx(Ft,{})}),e.jsx(Y,{className:"border-blue-200 bg-blue-50 shadow-sm",children:e.jsx(ee,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ws,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-blue-900 mb-2",children:"💡 사용 팁:"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"🚀 주요 기능:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-blue-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-3 h-3"}),e.jsxs("span",{children:[e.jsx("strong",{children:"드래그 앤 드롭:"})," 직관적인 재배열"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(it,{className:"w-3 h-3"}),e.jsxs("span",{children:[e.jsx("strong",{children:"실시간 편집:"})," 즉시 반영되는 변경사항"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-3 h-3"}),e.jsxs("span",{children:[e.jsx("strong",{children:"다중 선택:"})," 일괄 작업 지원"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dt,{className:"w-3 h-3"}),e.jsxs("span",{children:[e.jsx("strong",{children:"스마트 검색:"})," 고급 필터링"]})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800 mb-1",children:"⌨️ 단축키 및 조작법:"}),e.jsxs("ul",{className:"text-blue-800 space-y-1 text-xs",children:[e.jsxs("li",{children:["• ",e.jsx("kbd",{className:"bg-white px-1 rounded",children:"Ctrl+F"}),"로 빠른 검색, ",e.jsx("kbd",{className:"bg-white px-1 rounded",children:"Ctrl+A"}),"로 전체 선택"]}),e.jsx("li",{children:"• 분류를 드래그하여 계층구조 변경, 우클릭으로 컨텍스트 메뉴 사용"}),e.jsxs("li",{children:["• ",e.jsx("kbd",{className:"bg-white px-1 rounded",children:"Delete"}),"키로 선택된 항목 삭제, ",e.jsx("kbd",{className:"bg-white px-1 rounded",children:"Esc"}),"로 선택 해제"]}),e.jsx("li",{children:"• 줌 조절로 더 나은 가시성 확보, 다중 선택 모드로 일괄 작업 수행"})]})]})]})]})})})]})})}export{Yt as default};
