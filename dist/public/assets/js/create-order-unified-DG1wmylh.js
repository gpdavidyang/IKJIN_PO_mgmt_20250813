import{n as de,r as j,j as e,d as We,N as O,s as R,V as q,W as V,aw as ls,a as ee,O as $,F as J,b as F,i as G,B as v,Z as Ke,E as Ee,a1 as Ae,ax as Be,_ as Oe,M as ae,c as Ge,q as he,Y as D,I as U,P as ue,U as is,$ as Ne,av as ns,l as cs,R as ye,u as ds}from"./index-Bxo91dQJ.js";import{A as le,a as ie}from"./alert-D4YKxm2T.js";import{Z as _e}from"./zap-BmB5I3wP.js";import{U as se}from"./users-DfcYGvXt.js";import{P as Je}from"./pen-line-CdWpmyvc.js";import{P as we}from"./progress-CH5iVobc.js";import{S as os}from"./separator-BxT18n0t.js";import{C as me}from"./circle-check-JGeOLNir.js";import{R as re}from"./refresh-cw-lAqt6yAX.js";import{C as Fe}from"./circle-x-Br6FKgky.js";import{A as pe}from"./arrow-right-CztqqE95.js";import{I as ve}from"./info-ClumUHl6.js";import{D as fe}from"./download-CJdvHJSJ.js";import{P as Se}from"./paperclip-BKtDkz4b.js";import{M as te}from"./mail-CUY-QR6Z.js";import{T as Ce}from"./textarea-xW8V1eop.js";import{S as H,a as Z,b as X,c as Q,d as M}from"./select-DITSu2gt.js";import{C as Re}from"./checkbox-DtbsmRmg.js";import{g as ms,b as $e}from"./order-utils-C4eLdozv.js";import{P as He}from"./package-6FZF2uYA.js";import{T as xs}from"./trash-2-NsyjHNY3.js";import{D as hs}from"./dollar-sign-CGvs9Y0L.js";import{C as us}from"./calendar-CfjbiIXs.js";import{P as ps}from"./PDFPreviewModal-Ch0qWfgm.js";import{a as ke,b as Te,c as Pe,D as xe,f as Ze}from"./dialog-oZGpqp0D.js";import{T as Xe,a as Qe,b as ne,c as ce}from"./tabs-C40Jxmtp.js";import{S as Me}from"./switch-BGzVWCc-.js";import{P as js}from"./phone-DZIw8WEW.js";import{S as gs}from"./search-B-9YIRDO.js";import{S as De}from"./save-CoeA_lGj.js";import{S as Ns}from"./send-t6QNV7fp.js";import{P as vs}from"./printer-Cw1UE-yF.js";import{A as fs}from"./archive-But1uRsT.js";import{T as ys}from"./triangle-alert-CJFeo5Pl.js";import{T as Ue}from"./trending-up-Vg0V2Vtp.js";import{C as bs}from"./chevron-left-Co0EBfL1.js";import{A as ws}from"./arrow-left-D36VIAEm.js";import"./index-NWOD9p8K.js";import"./chevron-down-B3-VaMXF.js";import"./chevron-up-BFY9GLfl.js";import"./html2canvas.esm-3V0Ucqmu.js";import"./index-Dvob6St1.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=de("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=de("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=de("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=de("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=de("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),L=[];for(let s=0;s<256;++s)L.push((s+256).toString(16).slice(1));function Ts(s,t=0){return(L[s[t+0]]+L[s[t+1]]+L[s[t+2]]+L[s[t+3]]+"-"+L[s[t+4]]+L[s[t+5]]+"-"+L[s[t+6]]+L[s[t+7]]+"-"+L[s[t+8]]+L[s[t+9]]+"-"+L[s[t+10]]+L[s[t+11]]+L[s[t+12]]+L[s[t+13]]+L[s[t+14]]+L[s[t+15]]).toLowerCase()}let be;const Ps=new Uint8Array(16);function Ds(){if(!be){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");be=crypto.getRandomValues.bind(crypto)}return be(Ps)}const Is=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qe={randomUUID:Is};function Ve(s,t,n){if(qe.randomUUID&&!t&&!s)return qe.randomUUID();s=s||{};const d=s.random??s.rng?.()??Ds();if(d.length<16)throw new Error("Random bytes length must be >= 16");return d[6]=d[6]&15|64,d[8]=d[8]&63|128,Ts(d)}const Es={PDF_GENERATION:{id:"pdf_generation",title:"PDF ÏÉùÏÑ±",description:"Î∞úÏ£ºÏÑúÎ•º PDFÎ°ú Î≥ÄÌôòÌïòÍ≥† ÏûàÏäµÎãàÎã§"},VENDOR_VALIDATION:{id:"vendor_validation",title:"Í±∞ÎûòÏ≤ò Í≤ÄÏ¶ù",description:"Í±∞ÎûòÏ≤ò Ï†ïÎ≥¥Î•º ÌôïÏù∏ÌïòÍ≥† ÏûàÏäµÎãàÎã§"},EMAIL_PREPARATION:{id:"email_preparation",title:"Ïù¥Î©îÏùº Ï§ÄÎπÑ",description:"Ïù¥Î©îÏùºÏùÑ ÏûëÏÑ±ÌïòÍ≥† ÏûàÏäµÎãàÎã§"},ATTACHMENT_PROCESSING:{id:"attachment_processing",title:"Ï≤®Î∂ÄÌååÏùº Ï≤òÎ¶¨",description:"Ï≤®Î∂ÄÌååÏùºÏùÑ Ï§ÄÎπÑÌïòÍ≥† ÏûàÏäµÎãàÎã§"},FINAL_VALIDATION:{id:"final_validation",title:"ÏµúÏ¢Ö Í≤ÄÏ¶ù",description:"Î™®Îì† Ï†ïÎ≥¥Î•º ÏµúÏ¢Ö ÌôïÏù∏ÌïòÍ≥† ÏûàÏäµÎãàÎã§"}},Ye={select:{title:"Î∞©Ïãù ÏÑ†ÌÉù",description:"ÌëúÏ§Ä/ÏóëÏÖÄ ÏÑ†ÌÉù",required:!0,validation:s=>!!s.creationMethod},create:{title:"Î∞úÏ£ºÏÑú ÏûëÏÑ±",description:"Îç∞Ïù¥ÌÑ∞ ÏûÖÎ†•",required:!0,validation:s=>s.stepStates.creation.isValid},approve:{title:"ÏäπÏù∏ Ï≤òÎ¶¨",description:"ÏÑ†ÌÉùÏ†Å",required:!1,validation:s=>!s.stepStates.approval.required||s.stepStates.approval.status==="approved"},process:{title:"ÌõÑÏ≤òÎ¶¨",description:"PDF/Ïù¥Î©îÏùº",required:!0,validation:s=>s.stepStates.processing.failedSteps.length===0},complete:{title:"ÏôÑÎ£å",description:"Í≤∞Í≥º ÌôïÏù∏",required:!0,validation:s=>!!s.stepStates.completed.savedAt}},es=j.createContext(void 0),ss=()=>({currentStep:"select",steps:Object.entries(Ye).map(([s,t])=>({id:s,title:t.title,description:t.description,status:s==="select"?"current":"pending"})),stepStates:{creation:{isValid:!1},approval:{required:!1},processing:{steps:Object.values(Es).map(s=>({...s,status:"idle"})),completedSteps:[],failedSteps:[]},completed:{}},metadata:{workflowId:Ve(),startedAt:new Date,lastModified:new Date,userId:"",sessionId:Ve(),version:"1.0.0"},flags:{skipApproval:!1,autoProcess:!0,sendEmails:!0,generatePDF:!0}}),As=(s,t)=>{switch(t.type){case"SET_STEP":return{...s,currentStep:t.payload,steps:s.steps.map(o=>({...o,status:o.id===t.payload?"current":s.steps.findIndex(p=>p.id===o.id)<s.steps.findIndex(p=>p.id===t.payload)?"completed":"pending"})),metadata:{...s.metadata,lastModified:new Date}};case"UPDATE_STEP_STATUS":return{...s,steps:s.steps.map(o=>o.id===t.payload.step?{...o,status:t.payload.status}:o),metadata:{...s.metadata,lastModified:new Date}};case"SET_CREATION_METHOD":return{...s,creationMethod:t.payload,stepStates:{...s.stepStates,creation:{...s.stepStates.creation,method:t.payload}},metadata:{...s.metadata,lastModified:new Date}};case"UPDATE_ORDER_DATA":return{...s,orderData:t.payload,metadata:{...s.metadata,lastModified:new Date}};case"UPDATE_CREATION_STATE":return{...s,stepStates:{...s.stepStates,creation:{...s.stepStates.creation,...t.payload}},metadata:{...s.metadata,lastModified:new Date}};case"UPDATE_APPROVAL_STATE":return{...s,stepStates:{...s.stepStates,approval:{...s.stepStates.approval,...t.payload}},metadata:{...s.metadata,lastModified:new Date}};case"UPDATE_PROCESSING_STEP":const n=s.stepStates.processing.steps.map(o=>o.id===t.payload.stepId?{...o,...t.payload.update}:o),d=n.filter(o=>o.status==="completed").map(o=>o.id),m=n.filter(o=>o.status==="error").map(o=>o.id);return{...s,stepStates:{...s.stepStates,processing:{...s.stepStates.processing,steps:n,completedSteps:d,failedSteps:m}},metadata:{...s.metadata,lastModified:new Date}};case"UPDATE_COMPLETED_STATE":return{...s,stepStates:{...s.stepStates,completed:{...s.stepStates.completed,...t.payload}},metadata:{...s.metadata,lastModified:new Date}};case"SET_FLAGS":return{...s,flags:{...s.flags,...t.payload},metadata:{...s.metadata,lastModified:new Date}};case"RESET_WORKFLOW":return ss();default:return s}},_s=({children:s})=>{const[t,n]=j.useReducer(As,ss()),d=["select","create","approve","process","complete"],m=j.useCallback(()=>d.indexOf(t.currentStep),[t.currentStep]),o=j.useCallback(()=>{const y=Ye[t.currentStep];return y.validation?y.validation(t):!0},[t]),p=j.useCallback(()=>{const y=m();if(y<d.length-1){const _=d[y+1];_==="approve"&&!t.stepStates.approval.required?(n({type:"UPDATE_STEP_STATUS",payload:{step:"approve",status:"skipped"}}),n({type:"SET_STEP",payload:"process"})):n({type:"SET_STEP",payload:_})}},[m,t.stepStates.approval.required]),C=j.useCallback(()=>{const y=m();if(y>0){const _=d[y-1];_==="approve"&&t.steps.find(E=>E.id==="approve")?.status==="skipped"?n({type:"SET_STEP",payload:"create"}):n({type:"SET_STEP",payload:_})}},[m,t.steps]),b=j.useCallback(y=>{n({type:"SET_STEP",payload:y})},[]),a=j.useCallback(y=>{n({type:"SET_CREATION_METHOD",payload:y})},[]),g=j.useCallback(y=>{n({type:"UPDATE_ORDER_DATA",payload:y})},[]),N=j.useCallback((y,_)=>{n({type:"UPDATE_PROCESSING_STEP",payload:{stepId:y,update:_}})},[]),A=j.useCallback(y=>t.steps.find(_=>_.id===y),[t.steps]);j.useEffect(()=>{localStorage.getItem(`workflow_${t.metadata.workflowId}`)||localStorage.setItem(`workflow_${t.metadata.workflowId}`,JSON.stringify(t))},[t]);const I={state:t,dispatch:n,goToNextStep:p,goToPreviousStep:C,goToStep:b,setCreationMethod:a,updateOrderData:g,updateProcessingStep:N,canProceed:o,getCurrentStepIndex:m,getStepStatus:A};return e.jsx(es.Provider,{value:I,children:s})},Os=()=>{const s=j.useContext(es);if(!s)throw new Error("useOrderWorkflow must be used within OrderWorkflowProvider");return s},Fs=(s,t=!1)=>{const n=["select","create","approve","process","complete"],d=n.indexOf(s);if(d===-1||d===n.length-1)return null;const m=n[d+1];return m==="approve"&&t?n[d+2]||null:m},Rs=(s,t=!1)=>{const n=["select","create","approve","process","complete"],d=n.indexOf(s);if(d<=0)return null;const m=n[d-1];return m==="approve"&&t?n[d-2]||null:m},$s=s=>{const t=s.steps.filter(d=>d.id!=="approve"||s.stepStates.approval.required).length,n=s.steps.filter(d=>d.status==="completed"||d.status==="skipped").length;return Math.round(n/t*100)},Ms=s=>{const t={select:1,create:5,approve:10,process:3,complete:1};return s.steps.filter(d=>d.status==="pending"||d.status==="current").reduce((d,m)=>m.id==="approve"&&!s.stepStates.approval.required?d:d+(t[m.id]||0),0)},Us=(s,t)=>{const n={};return s==="standard"?(t?.projectId||(n.projectId="ÌîÑÎ°úÏ†ùÌä∏Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"),t?.vendorId||(n.vendorId="Í±∞ÎûòÏ≤òÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"),(!t?.items||t.items.length===0)&&(n.items="ÌíàÎ™©ÏùÑ Ï∂îÍ∞ÄÌï¥Ï£ºÏÑ∏Ïöî"),t?.orderDate||(n.orderDate="Î∞úÏ£ºÏùºÏûêÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),t?.deliveryDate||(n.deliveryDate="ÎÇ©Í∏∞ÏùºÏûêÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî")):s==="excel"&&(t?((!t.type||t.type!=="excel")&&(n.type="ÏóëÏÖÄ ÏóÖÎ°úÎìú ÌòïÏãùÏù¥ Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§"),(!t.orders||t.orders.length===0)&&(n.orders="ÌååÏã±Îêú Î∞úÏ£ºÏÑú Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"),t.filePath||(n.filePath="ÌååÏùº Í≤ΩÎ°úÍ∞Ä ÏóÜÏäµÎãàÎã§"),t.parseErrors&&t.parseErrors.length>0&&(n.parse="ÏóëÏÖÄ ÌååÏùº ÌååÏã± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§")):n.data="ÏóÖÎ°úÎìúÎêú Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§"),{isValid:Object.keys(n).length===0,errors:n}},Ls=s=>{const t=[];return s.generatePDF&&t.push({id:"pdf_generation",title:"PDF ÏÉùÏÑ±",description:"Î∞úÏ£ºÏÑúÎ•º PDFÎ°ú Î≥ÄÌôòÌïòÍ≥† ÏûàÏäµÎãàÎã§",status:"idle"}),t.push({id:"vendor_validation",title:"Í±∞ÎûòÏ≤ò Í≤ÄÏ¶ù",description:"Í±∞ÎûòÏ≤ò Ï†ïÎ≥¥Î•º ÌôïÏù∏ÌïòÍ≥† ÏûàÏäµÎãàÎã§",status:"idle"}),s.sendEmails&&(t.push({id:"email_preparation",title:"Ïù¥Î©îÏùº Ï§ÄÎπÑ",description:"Ïù¥Î©îÏùºÏùÑ ÏûëÏÑ±ÌïòÍ≥† ÏûàÏäµÎãàÎã§",status:"idle"}),t.push({id:"attachment_processing",title:"Ï≤®Î∂ÄÌååÏùº Ï≤òÎ¶¨",description:"Ï≤®Î∂ÄÌååÏùºÏùÑ Ï§ÄÎπÑÌïòÍ≥† ÏûàÏäµÎãàÎã§",status:"idle"})),t.push({id:"final_validation",title:"ÏµúÏ¢Ö Í≤ÄÏ¶ù",description:"Î™®Îì† Ï†ïÎ≥¥Î•º ÏµúÏ¢Ö ÌôïÏù∏ÌïòÍ≥† ÏûàÏäµÎãàÎã§",status:"idle"}),t},qs=s=>{const t=`workflow_${s.metadata.workflowId}`;localStorage.setItem(t,JSON.stringify(s));const n=ts(),d=[{id:s.metadata.workflowId,date:s.metadata.lastModified},...n.filter(m=>m.id!==s.metadata.workflowId)].slice(0,10);localStorage.setItem("recentWorkflows",JSON.stringify(d))},Vs=s=>{const t=`workflow_${s}`,n=localStorage.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(d){return console.error("Failed to parse workflow state:",d),null}},ts=()=>{const s=localStorage.getItem("recentWorkflows");if(!s)return[];try{return JSON.parse(s)}catch{return[]}},zs=s=>s.status==="error"&&!["final_validation"].includes(s.id),Ws=s=>Math.min(1e3*Math.pow(2,s),3e4),Ks=(s,t)=>{if(!s)return"-";const d=(t||new Date).getTime()-s.getTime(),m=Math.floor(d/1e3);if(m<60)return`${m}Ï¥à`;const o=Math.floor(m/60),p=m%60;return`${o}Î∂Ñ ${p}Ï¥à`},Bs=s=>({select:"üìã",create:"‚úèÔ∏è",approve:"‚úÖ",process:"‚öôÔ∏è",complete:"üéâ"})[s]||"üìÑ",Gs=s=>({pending:"text-gray-500 bg-gray-100",current:"text-blue-700 bg-blue-100",completed:"text-green-700 bg-green-100",error:"text-red-700 bg-red-100",skipped:"text-gray-400 bg-gray-50"})[s]||"text-gray-500 bg-gray-100",B={getNextStep:Fs,getPreviousStep:Rs,calculateWorkflowProgress:$s,estimateRemainingTime:Ms,validateCreationData:Us,createProcessingPipeline:Ls,saveWorkflowState:qs,loadWorkflowState:Vs,getRecentWorkflows:ts,canRetryStep:zs,getRetryDelay:Ws,formatStepDuration:Ks,getStepIcon:Bs,getStatusColor:Gs},Ie={post:async(s,t)=>s.includes("check-approval")?{data:{required:t.amount>1e6}}:s.includes("generate-pdf")?{data:{url:"/api/downloads/order.pdf"}}:s.includes("validate")?{data:{valid:!0,suggestions:[]}}:{data:{}}},Js=()=>{const s=Os(),{toast:t}=We(),[n,d]=j.useState(!1),[m,o]=j.useState(null),p=s.canProceed(),C=s.getCurrentStepIndex()>0,b=B.calculateWorkflowProgress(s.state),a=B.estimateRemainingTime(s.state),g=j.useCallback(()=>{if(!p){t({title:"ÏßÑÌñâÌï† Ïàò ÏóÜÏäµÎãàÎã§",description:"ÌòÑÏû¨ Îã®Í≥ÑÎ•º ÏôÑÎ£åÌï¥Ï£ºÏÑ∏Ïöî",variant:"destructive"});return}s.goToNextStep()},[p,s,t]),N=j.useCallback(()=>{C&&s.goToPreviousStep()},[C,s]),A=j.useCallback(T=>{const w=["select","create","approve","process","complete"].indexOf(T),P=s.getCurrentStepIndex();if(w>P+1){t({title:"Ïù¥ÎèôÌï† Ïàò ÏóÜÏäµÎãàÎã§",description:"Ïù¥Ï†Ñ Îã®Í≥ÑÎ•º Î®ºÏ†Ä ÏôÑÎ£åÌï¥Ï£ºÏÑ∏Ïöî",variant:"destructive"});return}s.goToStep(T)},[s,t]),I=j.useCallback(T=>{s.setCreationMethod(T),setTimeout(()=>{s.goToNextStep()},500)},[s]),y=j.useCallback(async T=>{try{const w=B.validateCreationData(s.state.creationMethod,T);if(!w.isValid){const c=Object.values(w.errors).join(", ");t({title:"ÏûÖÎ†• Ïò§Î•ò",description:c||"ÌïÑÏàò Ìï≠Î™©ÏùÑ Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî",variant:"destructive"}),console.error("Validation errors:",w.errors),console.error("Submitted data:",T);return}s.updateOrderData(T),s.dispatch({type:"UPDATE_CREATION_STATE",payload:{data:T,isValid:!0,validationErrors:{}}});const P=await Hs(T);s.dispatch({type:"UPDATE_APPROVAL_STATE",payload:{required:P}}),B.saveWorkflowState(s.state),t({title:"Ï†ÄÏû• ÏôÑÎ£å",description:"Î∞úÏ£ºÏÑú Ï†ïÎ≥¥Í∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§"}),setTimeout(()=>{s.goToNextStep()},1e3)}catch(w){console.error("Failed to submit order data:",w),t({title:"Ï†ÄÏû• Ïã§Ìå®",description:"Î∞úÏ£ºÏÑú Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§",variant:"destructive"})}},[s,t]),_=j.useCallback(async()=>{d(!0);try{const T=B.createProcessingPipeline(s.state.flags);for(const w of T){o(w.id),s.updateProcessingStep(w.id,{status:"processing"});try{const P=await ze(w,s.state);s.updateProcessingStep(w.id,{status:"completed",result:P,progress:100})}catch(P){throw s.updateProcessingStep(w.id,{status:"error",error:P.message}),P}}s.dispatch({type:"UPDATE_COMPLETED_STATE",payload:{savedAt:new Date,orderNumber:s.state.orderData?.orderNumber,nextActions:["Î∞úÏ£ºÏÑú Î™©Î°ù Î≥¥Í∏∞","ÏÉà Î∞úÏ£ºÏÑú ÏûëÏÑ±"]}}),B.saveWorkflowState(s.state),s.goToNextStep(),t({title:"Ï≤òÎ¶¨ ÏôÑÎ£å",description:"Î∞úÏ£ºÏÑúÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï≤òÎ¶¨ÎêòÏóàÏäµÎãàÎã§"})}catch(T){t({title:"Ï≤òÎ¶¨ Ïã§Ìå®",description:T.message||"Ï≤òÎ¶¨ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§",variant:"destructive"})}finally{d(!1),o(null)}},[s,t]),E=j.useCallback(async T=>{const w=s.state.stepStates.processing.steps.find(P=>P.id===T);if(!(!w||!B.canRetryStep(w))){d(!0),o(T);try{s.updateProcessingStep(T,{status:"processing"});const P=await ze(w,s.state);s.updateProcessingStep(T,{status:"completed",result:P,progress:100}),t({title:"Ïû¨ÏãúÎèÑ ÏÑ±Í≥µ",description:`${w.title} Îã®Í≥ÑÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§`}),s.state.stepStates.processing.failedSteps.length===1&&await _()}catch(P){s.updateProcessingStep(T,{status:"error",error:P.message}),t({title:"Ïû¨ÏãúÎèÑ Ïã§Ìå®",description:P.message||"Ïû¨ÏãúÎèÑ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§",variant:"destructive"})}finally{d(!1),o(null)}}},[s,_,t]),x=j.useCallback(()=>{B.saveWorkflowState(s.state),t({title:"Ï†ÄÏû• ÏôÑÎ£å",description:"ÏßÑÌñâ ÏÉÅÌô©Ïù¥ Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§"})},[s.state,t]),W=j.useCallback(T=>{const w=B.loadWorkflowState(T);t(w?{title:"Î∂àÎü¨Ïò§Í∏∞ ÏôÑÎ£å",description:"Ï†ÄÏû•Îêú ÏßÑÌñâ ÏÉÅÌô©ÏùÑ Î∂àÎü¨ÏôîÏäµÎãàÎã§"}:{title:"Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìå®",description:"Ï†ÄÏû•Îêú ÏßÑÌñâ ÏÉÅÌô©ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§",variant:"destructive"})},[t]);return j.useEffect(()=>{const T=setTimeout(()=>{B.saveWorkflowState(s.state)},2e3);return()=>clearTimeout(T)},[s.state]),{workflow:s.state,isProcessing:n,currentProcessingStep:m,canGoNext:p,canGoPrevious:C,goNext:g,goPrevious:N,goToStep:A,selectCreationMethod:I,submitOrderData:y,startProcessing:_,retryProcessingStep:E,progress:b,estimatedTime:a,saveProgress:x,loadProgress:W}};async function Hs(s){try{return(await Ie.post("/api/orders/check-approval",{amount:s.totalAmount,projectId:s.projectId})).data.required}catch{return!0}}async function ze(s,t){switch(await new Promise(n=>setTimeout(n,1e3)),s.id){case"pdf_generation":return{pdfUrl:(await Ie.post("/api/orders/generate-pdf",{orderData:t.orderData})).data.url};case"vendor_validation":const d=await Ie.post("/api/vendors/validate",{vendorId:t.orderData.vendorId,vendorEmail:t.orderData.vendorEmail});return{isValid:d.data.valid,suggestions:d.data.suggestions};case"email_preparation":return{subject:`Î∞úÏ£ºÏÑú - ${t.orderData.orderNumber}`,recipients:[t.orderData.vendorEmail],body:"Î∞úÏ£ºÏÑúÎ•º Ï≤®Î∂ÄÌï©ÎãàÎã§."};case"attachment_processing":return{attachments:["purchase_order.pdf","additional_docs.zip"]};case"final_validation":return{allChecksPass:!0};default:throw new Error(`Unknown processing step: ${s.id}`)}}const Zs=[{id:"excel",title:"ÏóëÏÖÄ Î∞úÏ£ºÏÑú",description:"ÏóëÏÖÄ ÌååÏùºÏùÑ ÏóÖÎ°úÎìúÌïòÏó¨ Î∞úÏ£ºÏÑúÎ•º ÏûêÎèôÏúºÎ°ú ÏÉùÏÑ±Ìï©ÎãàÎã§",icon:e.jsx(Ke,{className:"w-8 h-8 text-green-600"}),features:["Îã§ÎüâÏùò Î∞úÏ£ºÏÑú ÏùºÍ¥Ñ Ï≤òÎ¶¨","Í∏∞Ï°¥ ÏóëÏÖÄ ÏñëÏãù ÌôúÏö©","ÏûêÎèô Îç∞Ïù¥ÌÑ∞ ÌååÏã±","Í±∞ÎûòÏ≤ò ÏûêÎèô Í≤ÄÏ¶ù","PDF Î≥ÄÌôò Î∞è Ïù¥Î©îÏùº Î∞úÏÜ°"],pros:["Îπ†Î•∏ ÎåÄÎüâ Ï≤òÎ¶¨","Í∏∞Ï°¥ ÏóÖÎ¨¥ Î∞©Ïãù Ïú†ÏßÄ","ÏûêÎèôÌôîÎêú ÌõÑÏ≤òÎ¶¨"],cons:["ÏóëÏÖÄ ÏñëÏãù Ï§ÄÏàò ÌïÑÏöî","Ïò§Î•ò Ïãú ÏùºÍ¥Ñ ÏàòÏ†ï Ïñ¥Î†§ÏõÄ"],estimatedTime:"3-5Î∂Ñ",difficulty:"easy",recommended:!0},{id:"standard",title:"ÌëúÏ§Ä Î∞úÏ£ºÏÑú",description:"Ïõπ ÌèºÏùÑ ÌÜµÌï¥ Î∞úÏ£ºÏÑúÎ•º ÏßÅÏ†ë ÏûÖÎ†•ÌïòÏó¨ ÏÉùÏÑ±Ìï©ÎãàÎã§",icon:e.jsx(Je,{className:"w-8 h-8 text-blue-600"}),features:["ÏßÅÍ¥ÄÏ†ÅÏù∏ Ïõπ Ìèº Ïù∏ÌÑ∞ÌéòÏù¥Ïä§","Ïã§ÏãúÍ∞Ñ ÏûÖÎ†• Í≤ÄÏ¶ù","Îã®Í≥ÑÎ≥Ñ ÏäπÏù∏ ÏõåÌÅ¨ÌîåÎ°úÏö∞","Í∞úÎ≥Ñ Î∞úÏ£ºÏÑú Ï†ïÎ∞Ä Í¥ÄÎ¶¨","PDF ÎØ∏Î¶¨Î≥¥Í∏∞"],pros:["Ï†ïÌôïÌïú Îç∞Ïù¥ÌÑ∞ ÏûÖÎ†•","Ïú†Ïó∞Ìïú ÏàòÏ†ï Í∞ÄÎä•","ÏäπÏù∏ ÏõåÌÅ¨ÌîåÎ°úÏö∞ ÏßÄÏõê"],cons:["Í∞úÎ≥Ñ ÏûÖÎ†•ÏúºÎ°ú ÏãúÍ∞Ñ ÏÜåÏöî","ÎåÄÎüâ Ï≤òÎ¶¨ Ïãú ÎπÑÌö®Ïú®Ï†Å"],estimatedTime:"5-10Î∂Ñ",difficulty:"medium"}],Xs=s=>{switch(s){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800"}},Qs=({onMethodSelect:s,disabled:t=!1})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Î∞úÏ£ºÏÑú ÏûëÏÑ± Î∞©Ïãù ÏÑ†ÌÉù"}),e.jsx("p",{className:"text-gray-600",children:"ÌîÑÎ°úÏ†ùÌä∏ ÏöîÍµ¨ÏÇ¨Ìï≠Ïóê ÎßûÎäî Î∞úÏ£ºÏÑú ÏûëÏÑ± Î∞©ÏãùÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-[1366px] mx-auto",children:Zs.map(n=>e.jsxs(O,{className:`relative transition-all duration-300 hover:shadow-xl hover:-translate-y-1 transform ${n.recommended?"ring-2 ring-blue-500 ring-opacity-50":""} ${t?"opacity-50":""} h-full flex flex-col`,children:[n.recommended&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsxs(R,{className:"bg-blue-600 text-white px-3 py-1",children:[e.jsx(_e,{className:"w-3 h-3 mr-1"}),"Ï∂îÏ≤ú"]})}),e.jsxs(q,{className:"pb-4",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[n.icon,e.jsxs("div",{children:[e.jsx(V,{className:"text-xl",children:n.title}),e.jsx(ls,{className:"mt-1",children:n.description})]})]})}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{children:n.estimatedTime})]}),e.jsx(R,{variant:"secondary",className:Xs(n.difficulty),children:n.difficulty==="easy"?"Ïâ¨ÏõÄ":n.difficulty==="medium"?"Î≥¥ÌÜµ":"Ïñ¥Î†§ÏõÄ"})]})]}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),"Ï£ºÏöî Í∏∞Îä•"]}),e.jsx("ul",{className:"space-y-1",children:n.features.map((d,m)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(F,{className:"w-3 h-3 text-green-500 mr-2 flex-shrink-0"}),d]},m))})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-green-700 mb-2 flex items-center text-sm",children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),"Ïû•Ï†ê"]}),e.jsx("ul",{className:"space-y-1",children:n.pros.map((d,m)=>e.jsxs("li",{className:"text-xs text-green-600 ml-5",children:["‚Ä¢ ",d]},m))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-orange-700 mb-2 flex items-center text-sm",children:[e.jsx(G,{className:"w-4 h-4 mr-1"}),"Í≥†Î†§ÏÇ¨Ìï≠"]}),e.jsx("ul",{className:"space-y-1",children:n.cons.map((d,m)=>e.jsxs("li",{className:"text-xs text-orange-600 ml-5",children:["‚Ä¢ ",d]},m))})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(v,{onClick:()=>s(n.id),disabled:t,className:`w-full h-12 ${n.id==="excel"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,size:"lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[n.icon,e.jsxs("span",{children:[n.title," ÏÑ†ÌÉù"]})]})})})]})]},n.id))}),e.jsx(O,{className:"bg-blue-50 border-blue-200",children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(se,{className:"w-4 h-4 text-blue-600"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Ïñ¥Îñ§ Î∞©ÏãùÏùÑ ÏÑ†ÌÉùÌï¥Ïïº Ìï†ÍπåÏöî?"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ÏóëÏÖÄ Î∞úÏ£ºÏÑú"}),": Ïó¨Îü¨ Í∞úÏùò Î∞úÏ£ºÏÑúÎ•º Ìïú Î≤àÏóê Ï≤òÎ¶¨Ìï¥Ïïº ÌïòÍ±∞ÎÇò, Í∏∞Ï°¥ ÏóëÏÖÄ ÏñëÏãùÏù¥ ÏûàÎäî Í≤ΩÏö∞"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ÌëúÏ§Ä Î∞úÏ£ºÏÑú"}),": Í∞úÎ≥Ñ Î∞úÏ£ºÏÑúÎ•º Ï†ïÌôïÌûà Í¥ÄÎ¶¨ÌïòÍ≥† Ïã∂Í±∞ÎÇò, ÏäπÏù∏ ÏõåÌÅ¨ÌîåÎ°úÏö∞Í∞Ä ÌïÑÏöîÌïú Í≤ΩÏö∞"]})]})]})]})})})]}),Ys=s=>{switch(s.id){case"pdf_generation":return e.jsx(J,{className:"w-5 h-5"});case"vendor_validation":return e.jsx(Be,{className:"w-5 h-5"});case"email_preparation":return e.jsx(te,{className:"w-5 h-5"});case"attachment_processing":return e.jsx(Se,{className:"w-5 h-5"});case"final_validation":return e.jsx(F,{className:"w-5 h-5"});default:return e.jsx(F,{className:"w-5 h-5"})}},et=s=>{switch(s){case"completed":return"text-green-600 bg-green-50 border-green-200";case"processing":return"text-blue-600 bg-blue-50 border-blue-200";case"error":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},st=s=>{switch(s.status){case"completed":return e.jsx(F,{className:"w-6 h-6 text-green-600"});case"processing":return e.jsx(re,{className:"w-6 h-6 text-blue-600 animate-spin"});case"error":return e.jsx(G,{className:"w-6 h-6 text-red-600"});default:return e.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full"})}},Y=s=>s<60?`${s}Ï¥à`:s<3600?`${Math.floor(s/60)}Î∂Ñ ${s%60}Ï¥à`:`${Math.floor(s/3600)}ÏãúÍ∞Ñ ${Math.floor(s%3600/60)}Î∂Ñ`,tt=({steps:s,currentStep:t,onRetry:n,onPreview:d,onEdit:m,onPause:o,onResume:p,onSkip:C,onCancel:b,isProcessing:a=!1,isPaused:g=!1,canPause:N=!1,canSkip:A=!1,totalElapsedTime:I=0,estimatedTimeRemaining:y,onStepComplete:_,maxRetries:E=3})=>{const[x,W]=j.useState(new Date),[T,w]=j.useState(new Set);j.useEffect(()=>{const l=setInterval(()=>{W(new Date)},1e3);return()=>clearInterval(l)},[]);const P=s.filter(l=>l.status==="completed").length,c=s.length,u=c>0?Math.round(P/c*100):0,r=s.some(l=>l.status==="error"),h=P===c,S=s.find(l=>l.status==="processing"),i=s.filter(l=>l.status==="error"),f=l=>{const k=new Set(T);k.has(l)?k.delete(l):k.add(l),w(k)};return e.jsxs("div",{className:"max-w-[1366px] mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ÌõÑÏ≤òÎ¶¨ ÌååÏù¥ÌîÑÎùºÏù∏"}),a&&!g&&e.jsxs(R,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[e.jsx(_e,{className:"w-3 h-3 mr-1"}),"Ï≤òÎ¶¨ Ï§ë"]}),g&&e.jsxs(R,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[e.jsx(je,{className:"w-3 h-3 mr-1"}),"ÏùºÏãúÏ†ïÏßÄ"]}),r&&e.jsxs(R,{variant:"destructive",className:"bg-red-100 text-red-800",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),"Ïò§Î•ò ",i.length,"Í∞ú"]}),h&&!r&&e.jsxs(R,{variant:"secondary",className:"bg-green-100 text-green-800",children:[e.jsx(me,{className:"w-3 h-3 mr-1"}),"ÏôÑÎ£å"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Î∞úÏ£ºÏÑú ÏÉùÏÑ± ÌõÑ ÌïÑÏöîÌïú ÏûëÏóÖÎì§ÏùÑ ÏûêÎèôÏúºÎ°ú Ï≤òÎ¶¨Ìï©ÎãàÎã§"})]}),e.jsxs("div",{className:"text-right space-y-2",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[u,"%"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[P,"/",c," Îã®Í≥Ñ ÏôÑÎ£å"]}),I>0&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Í≤ΩÍ≥º: ",Y(I)]}),y&&e.jsxs("div",{className:"text-xs text-blue-600",children:[e.jsx(ge,{className:"w-3 h-3 inline mr-1"}),"ÏòàÏÉÅ ",Y(y)," ÎÇ®Ïùå"]}),e.jsx("div",{className:"text-xs text-gray-400",children:x.toLocaleTimeString("ko-KR")})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[a&&N&&!g&&o&&e.jsxs(v,{variant:"outline",size:"sm",onClick:o,className:"text-yellow-600 border-yellow-300 hover:bg-yellow-50",children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),"ÏùºÏãúÏ†ïÏßÄ"]}),g&&p&&e.jsxs(v,{variant:"outline",size:"sm",onClick:p,className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Cs,{className:"w-4 h-4 mr-1"}),"Ïû¨Í∞ú"]}),r&&i.length>0&&e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>{i.forEach(l=>n?.(l.id))},className:"text-red-600 border-red-300 hover:bg-red-50",children:[e.jsx(re,{className:"w-4 h-4 mr-1"}),"Î™®Îì† Ïò§Î•ò Ïû¨ÏãúÎèÑ"]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:b&&e.jsxs(v,{variant:"outline",size:"sm",onClick:b,disabled:h,className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:[e.jsx(Fe,{className:"w-4 h-4 mr-1"}),"Ï∑®ÏÜå"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"Ï†ÑÏ≤¥ ÏßÑÌñâÎ•†"}),S&&e.jsxs(R,{variant:"outline",className:"text-xs px-2 py-0.5",children:[S.title," Ï≤òÎ¶¨ Ï§ë"]})]}),e.jsxs("span",{className:"font-semibold text-lg",children:[u,"%"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{value:u,className:"h-3"}),a&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-400 to-transparent opacity-30 animate-pulse rounded-full h-3"})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[e.jsxs("span",{children:[P,"Í∞ú ÏôÑÎ£å"]}),e.jsxs("span",{children:[c-P,"Í∞ú ÎÇ®Ïùå"]})]})]}),g&&e.jsxs(le,{className:"border-yellow-200 bg-yellow-50",children:[e.jsx(je,{className:"h-4 w-4 text-yellow-600"}),e.jsx(ie,{className:"text-yellow-800",children:"ÌõÑÏ≤òÎ¶¨ ÏûëÏóÖÏù¥ ÏùºÏãúÏ†ïÏßÄÎêòÏóàÏäµÎãàÎã§. Ïû¨Í∞ú Î≤ÑÌäºÏùÑ ÎàåÎü¨ Í≥ÑÏÜç ÏßÑÌñâÌïòÏÑ∏Ïöî."})]}),r&&e.jsxs(le,{className:"border-red-200 bg-red-50",children:[e.jsx(G,{className:"h-4 w-4 text-red-600"}),e.jsxs(ie,{className:"text-red-800",children:[e.jsxs("div",{className:"font-medium mb-1",children:[i.length,"Í∞ú Îã®Í≥ÑÏóêÏÑú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§"]}),e.jsxs("div",{className:"text-sm",children:[i.map(l=>l.title).join(", ")," Îã®Í≥ÑÎ•º ÌôïÏù∏ÌïòÍ≥† Ïû¨ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî."]})]})]}),h&&!r&&e.jsxs(le,{className:"border-green-200 bg-green-50",children:[e.jsx(F,{className:"h-4 w-4 text-green-600"}),e.jsxs(ie,{className:"text-green-800",children:[e.jsx("div",{className:"font-medium mb-1",children:"Î™®Îì† ÌõÑÏ≤òÎ¶¨ ÏûëÏóÖÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!"}),e.jsxs("div",{className:"text-sm",children:["Ï¥ù ",c,"Í∞ú Îã®Í≥ÑÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï≤òÎ¶¨ÎêòÏóàÏäµÎãàÎã§.",I>0&&` (ÏÜåÏöîÏãúÍ∞Ñ: ${Y(I)})`]})]})]}),e.jsx("div",{className:"space-y-3",children:s.map((l,k)=>{const z=T.has(l.id),K=l.retryCount||0,oe=l.status==="error"&&K<E;return e.jsxs(O,{className:`border transition-all duration-300 transform hover:scale-[1.01] ${et(l.status)} ${l.id===t?"shadow-lg ring-2 ring-blue-200 ring-opacity-50":"shadow-sm"}`,children:[e.jsx(q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[st(l),l.status==="processing"&&e.jsx("div",{className:"absolute -inset-2 border-2 border-blue-400 rounded-full opacity-30 animate-pulse"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsxs(V,{className:"text-base flex items-center space-x-2",children:[Ys(l),e.jsx("span",{children:l.title})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[l.status==="processing"&&e.jsxs(R,{variant:"secondary",className:"bg-blue-100 text-blue-800 text-xs px-2 py-0.5",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse mr-1"}),"ÏßÑÌñâ Ï§ë"]}),l.status==="completed"&&e.jsxs(R,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs px-2 py-0.5",children:[e.jsx(me,{className:"w-3 h-3 mr-1"}),"ÏôÑÎ£å"]}),l.status==="error"&&e.jsxs(R,{variant:"destructive",className:"bg-red-100 text-red-800 text-xs px-2 py-0.5",children:[e.jsx(Fe,{className:"w-3 h-3 mr-1"}),"Ïò§Î•ò ",K>0&&`(${K}/${E} ÏãúÎèÑ)`]}),l.priority&&e.jsx(R,{variant:"outline",className:"text-xs px-2 py-0.5",children:l.priority==="high"?"ÎÜíÏùå":l.priority==="medium"?"Î≥¥ÌÜµ":"ÎÇÆÏùå"})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:l.description}),(l.startedAt||l.completedAt||l.estimatedDuration)&&e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-2",children:[l.startedAt&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ee,{className:"w-3 h-3"}),e.jsxs("span",{children:["ÏãúÏûë: ",l.startedAt.toLocaleTimeString("ko-KR")]})]}),l.completedAt&&l.startedAt&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ge,{className:"w-3 h-3"}),e.jsxs("span",{children:["ÏÜåÏöî: ",Y(Math.round((l.completedAt.getTime()-l.startedAt.getTime())/1e3))]})]}),l.estimatedDuration&&l.status==="pending"&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ge,{className:"w-3 h-3"}),e.jsxs("span",{children:["ÏòàÏÉÅ: ",Y(l.estimatedDuration)]})]})]})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Îã®Í≥Ñ ",k+1,"/",s.length]}),(l.details?.length||l.result||l.error)&&e.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>f(l.id),className:"text-xs px-2 py-1 h-6",children:[z?"Ï†ëÍ∏∞":"ÌéºÏπòÍ∏∞",e.jsx(pe,{className:`w-3 h-3 ml-1 transition-transform duration-200 ${z?"rotate-90":""}`})]})]})})]})}),e.jsxs($,{className:"pt-0",children:[l.status==="processing"&&l.progress!==void 0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[e.jsx("span",{className:"font-medium",children:"Ï≤òÎ¶¨ ÏßÑÌñâÎ•†"}),e.jsxs("span",{className:"font-bold",children:[l.progress,"%"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(we,{value:l.progress,className:"h-2"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-blue-400 to-transparent opacity-20 animate-pulse rounded-full h-2"})]})]}),z&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(os,{}),l.status==="error"&&l.error&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(G,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-red-800 mb-2",children:"Ïò§Î•ò ÏÉÅÏÑ∏ Ï†ïÎ≥¥"}),e.jsx("div",{className:"text-sm text-red-700 bg-red-100 p-3 rounded border border-red-200 font-mono",children:l.error}),K>0&&e.jsxs("div",{className:"text-xs text-red-600 mt-2",children:["Ïû¨ÏãúÎèÑ ÌöüÏàò: ",K,"/",E]})]})]})}),l.details&&l.details.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(ve,{className:"w-4 h-4 text-blue-600"}),e.jsx("div",{className:"font-medium text-blue-800",children:"Ï≤òÎ¶¨ ÎÇ¥Ïö©"})]}),e.jsx("ul",{className:"space-y-2",children:l.details.map((as,rs)=>e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx(F,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:as})]},rs))})]}),l.status==="completed"&&l.result&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(me,{className:"w-4 h-4 text-green-600"}),e.jsx("div",{className:"font-medium text-green-800",children:"Ï≤òÎ¶¨ Í≤∞Í≥º"})]}),e.jsx("div",{className:"text-sm text-green-700",children:typeof l.result=="string"?l.result:l.result.message||"ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï≤òÎ¶¨ÎêòÏóàÏäµÎãàÎã§"}),l.result?.details&&e.jsx("div",{className:"mt-2 text-xs text-green-600 bg-green-100 p-2 rounded border border-green-200",children:JSON.stringify(l.result.details,null,2)})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[l.status==="error"&&n&&oe&&e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>n(l.id),className:"text-red-600 border-red-300 hover:bg-red-50",children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),"Ïû¨ÏãúÎèÑ (",E-K,"Ìöå ÎÇ®Ïùå)"]}),l.status==="pending"&&A&&C&&l.priority!=="high"&&e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>C(l.id),className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:[e.jsx(pe,{className:"w-3 h-3 mr-1"}),"Í±¥ÎÑàÎõ∞Í∏∞"]}),l.status==="completed"&&d&&(l.id==="pdf_generation"||l.id==="email_preparation")&&e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>d(l.id,l.result),className:"text-blue-600 border-blue-300 hover:bg-blue-50",children:[e.jsx(Ee,{className:"w-3 h-3 mr-1"}),"ÎØ∏Î¶¨Î≥¥Í∏∞"]}),l.status==="completed"&&l.id==="pdf_generation"&&l.result?.pdfUrl&&e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>window.open(l.result.pdfUrl,"_blank"),className:"text-green-600 border-green-300 hover:bg-green-50",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Îã§Ïö¥Î°úÎìú"]}),l.status==="completed"&&m&&l.id==="email_preparation"&&e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>m(l.id,l.result),className:"text-orange-600 border-orange-300 hover:bg-orange-50",children:[e.jsx(Ae,{className:"w-3 h-3 mr-1"}),"Ìé∏Ïßë"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[l.status==="completed"&&e.jsxs("div",{className:"text-xs text-green-600 flex items-center",children:[e.jsx(me,{className:"w-3 h-3 mr-1"}),"ÏôÑÎ£å"]}),l.status==="processing"&&e.jsxs("div",{className:"text-xs text-blue-600 flex items-center",children:[e.jsx(re,{className:"w-3 h-3 mr-1 animate-spin"}),"Ï≤òÎ¶¨ Ï§ë"]})]})]}),k<s.length-1&&e.jsx("div",{className:"flex justify-center mt-4 mb-2",children:e.jsx("div",{className:`w-0.5 h-4 transition-colors duration-300 ${l.status==="completed"?"bg-green-400":l.status==="processing"?"bg-blue-400":l.status==="error"?"bg-red-400":"bg-gray-300"}`})})]})]},l.id)})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:P}),e.jsx("div",{className:"text-sm text-gray-600",children:"ÏôÑÎ£åÎêú Îã®Í≥Ñ"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:s.filter(l=>l.status==="processing").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Ï≤òÎ¶¨ Ï§ë"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:i.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Ïò§Î•ò Î∞úÏÉù"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600 mb-1",children:s.filter(l=>l.status==="pending").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"ÎåÄÍ∏∞ Ï§ë"})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a&&!g&&e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx(re,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:S?`${S.title} Ï≤òÎ¶¨ Ï§ë...`:"Ï≤òÎ¶¨ Ï§ëÏûÖÎãàÎã§..."})]}),g&&e.jsxs("div",{className:"flex items-center space-x-2 text-yellow-600",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"ÏùºÏãúÏ†ïÏßÄÎê®"})]}),h&&!r&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(me,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Î™®Îì† ÏûëÏóÖÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§"})]}),r&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Ïò§Î•òÍ∞Ä Î∞úÏÉùÌïú ÏûëÏóÖÏù¥ ÏûàÏäµÎãàÎã§"})]}),!a&&!h&&!r&&!g&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"ÏãúÏûë ÎåÄÍ∏∞ Ï§ë"})]})]}),(I>0||y)&&e.jsxs("div",{className:"flex items-center justify-center space-x-6 mt-3 text-xs text-gray-500",children:[I>0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ge,{className:"w-3 h-3"}),e.jsxs("span",{children:["Í≤ΩÍ≥º: ",Y(I)]})]}),y&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ee,{className:"w-3 h-3"}),e.jsxs("span",{children:["ÎÇ®ÏùÄ ÏãúÍ∞Ñ: ",Y(y)]})]})]})]})]})]})},at=({onUploadComplete:s,disabled:t})=>{const[n,d]=j.useState(null),[m,o]=j.useState(!1),[p,C]=j.useState(!1),[b,a]=j.useState(null),[g,N]=j.useState(0),[A,I]=j.useState(!1),[y,_]=j.useState([{id:"upload",title:"ÌååÏùº ÏóÖÎ°úÎìú",description:"ÏóëÏÖÄ ÌååÏùºÏùÑ ÏÑúÎ≤ÑÎ°ú ÏóÖÎ°úÎìú",status:"pending"},{id:"parse",title:"Input ÏãúÌä∏ ÌååÏã±",description:"ÏóëÏÖÄ ÌååÏùºÏùò Input ÏãúÌä∏ Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù",status:"pending"},{id:"save",title:"Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ï†ÄÏû•",description:"Î∞úÏ£ºÏÑú Ï†ïÎ≥¥Î•º Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Ïóê Ï†ÄÏû•",status:"pending"},{id:"extract",title:"Í∞ëÏßÄ/ÏùÑÏßÄ Ï∂îÏ∂ú",description:"Í∞ëÏßÄ/ÏùÑÏßÄ ÏãúÌä∏Î•º Î≥ÑÎèÑ ÌååÏùºÎ°ú Ï∂îÏ∂ú",status:"pending"}]),E=r=>{r.preventDefault(),r.stopPropagation(),r.type==="dragenter"||r.type==="dragover"?o(!0):r.type==="dragleave"&&o(!1)},x=r=>{if(r.preventDefault(),r.stopPropagation(),o(!1),r.dataTransfer.files&&r.dataTransfer.files[0]){const h=r.dataTransfer.files[0];h.type.includes("excel")||h.type.includes("spreadsheet")||h.name.endsWith(".xlsx")?(d(h),a(null),T()):alert("ÏóëÏÖÄ ÌååÏùº(.xlsx)Îßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.")}},W=r=>{r.target.files&&r.target.files[0]&&(d(r.target.files[0]),a(null),T())},T=()=>{_(r=>r.map(h=>({...h,status:"pending",message:void 0})))},w=(r,h,S)=>{_(i=>i.map(f=>f.id===r?{...f,status:h,message:S}:f))},P=(r,h,S,i)=>{const f=r[h];if(!f){console.error("ÏÑ†ÌÉùÎêú Î∞úÏ£ºÏÑúÍ∞Ä ÏóÜÏäµÎãàÎã§.");return}const l={orderNumber:f.orderNumber,projectName:f.projectName,projectId:f.projectId,vendorName:f.vendorName,vendorId:f.vendorId,vendorEmail:f.vendorEmail,orderDate:f.orderDate,deliveryDate:f.dueDate||f.deliveryDate,dueDate:f.dueDate||f.deliveryDate,totalAmount:f.totalAmount||0,totalItems:f.items?.length||0,items:f.items||[],notes:f.notes||f.remarks||"",remarks:f.notes||f.remarks||"",createdBy:f.createdBy||"",creationMethod:"excel",type:"excel",excelFileName:S.data?.fileName,filePath:S.data?.filePath,processedExcelUrl:i?`/api/po-template/download/${i.split("/").pop()}`:void 0,processedExcelPath:i,allOrders:r,totalOrders:r.length,selectedOrderIndex:h};console.log("ExcelUploadComponent submitting orderData:",l),s(l),I(!1)},c=async()=>{if(n){C(!0);try{w("upload","processing");const r=new FormData;r.append("file",n);const h=await fetch("/api/po-template/upload",{method:"POST",body:r}),S=await h.json();if(!h.ok){w("upload","error",S.error||"ÌååÏùº ÏóÖÎ°úÎìú Ïã§Ìå®"),C(!1);return}w("upload","completed",`${S.data.fileName} ÏóÖÎ°úÎìú ÏôÑÎ£å`),w("parse","completed",`Î∞úÏ£ºÏÑú ${S.data.totalOrders}Í∞ú, ÏïÑÏù¥ÌÖú ${S.data.totalItems}Í∞ú ÌååÏã± ÏôÑÎ£å`),w("save","processing");const i=await fetch("/api/po-template/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orders:S.data.orders})}),f=await i.json();if(!i.ok){w("save","error",f.error||"Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ï†ÄÏû• Ïã§Ìå®"),C(!1);return}w("save","completed",`Î∞úÏ£ºÏÑú ${f.data.savedOrders}Í∞ú Ï†ÄÏû• ÏôÑÎ£å`),w("extract","processing");const l=await fetch("/api/po-template/extract-sheets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:S.data.filePath})}),k=await l.json();let z;l.ok?(w("extract","completed",`${k.data.extractedSheets.join(", ")} ÏãúÌä∏ Ï∂îÏ∂ú ÏôÑÎ£å`),z=k.data?.extractedPath,console.log("Extracted file path:",z)):w("extract","error",k.error||"ÏãúÌä∏ Ï∂îÏ∂ú Ïã§Ìå®"),a(S),S.data.orders.length>1?(I(!0),a({...S,extractedPath:z})):P(S.data.orders,0,S,z)}catch(r){console.error("Processing error:",r),w("upload","error","Ï≤òÎ¶¨ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{C(!1)}}},u=()=>y.filter(h=>h.status==="completed").length/y.length*100;return e.jsxs("div",{className:"space-y-6",children:[e.jsx(O,{className:"border-blue-200 bg-blue-50",children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-3",children:"üìã ÏóëÏÖÄ ÌååÏùº ÏöîÍµ¨ÏÇ¨Ìï≠"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"ÏãúÌä∏Î™Ö:"})," 'Input' (ÎåÄÏÜåÎ¨∏Ïûê Íµ¨Î∂Ñ)"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Ïª¨Îüº Íµ¨Ï°∞:"})," A~PÏó¥ (16Í∞ú Ïª¨Îüº) ÌëúÏ§Ä Íµ¨Ï°∞"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"ÌååÏùº ÌòïÏãù:"})," .xlsx (Excel 2007 Ïù¥ÏÉÅ)"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"ÌååÏùº ÌÅ¨Í∏∞:"})," ÏµúÎåÄ 10MB"]})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-3",children:"üì• ÌëúÏ§Ä ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú"}),e.jsx("p",{className:"text-sm text-green-700 mb-3",children:"ÏãúÏä§ÌÖúÏóê ÏµúÏ†ÅÌôîÎêú 16Í∞ú Ïª¨Îüº Íµ¨Ï°∞Ïùò ÌëúÏ§Ä ÌÖúÌîåÎ¶øÏùÑ Îã§Ïö¥Î°úÎìúÌïòÏó¨ ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî."}),e.jsxs(v,{onClick:async()=>{try{const r=await fetch("/api/excel-template/download",{method:"GET"});if(r.ok){const h=await r.blob(),S=window.URL.createObjectURL(h),i=document.createElement("a");i.href=S,i.download="PO_Excel_Template.xlsx",document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(S)}else throw new Error("ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú Ïã§Ìå®")}catch(r){console.error("ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú Ïò§Î•ò:",r),alert("ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}},className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",disabled:t,children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"PO_Excel_Template.xlsx Îã§Ïö¥Î°úÎìú"]})]})]})})}),e.jsxs("div",{children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"} ${t?"opacity-50 pointer-events-none":""}`,onDragEnter:E,onDragLeave:E,onDragOver:E,onDrop:x,children:[e.jsx(Oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(n.size/1024/1024).toFixed(2)," MB"]}),e.jsx(R,{variant:"secondary",className:"mt-2",children:"ÌååÏùº Ï§ÄÎπÑ ÏôÑÎ£å"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"ÏóëÏÖÄ ÌååÏùºÏùÑ ÎìúÎûòÍ∑∏ÌïòÍ±∞ÎÇò ÌÅ¥Î¶≠ÌïòÏó¨ ÏóÖÎ°úÎìúÌïòÏÑ∏Ïöî"}),e.jsx("p",{className:"text-sm text-gray-500",children:"ÏßÄÏõê ÌòïÏãù: .xlsx (Excel ÌååÏùº)"})]}),e.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:W,className:"hidden",id:"file-upload",disabled:t}),e.jsx("label",{htmlFor:"file-upload",className:`inline-block mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition-colors font-medium ${t?"opacity-50 pointer-events-none":""}`,children:"ÌååÏùº ÏÑ†ÌÉù"})]}),n&&e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v,{onClick:c,disabled:p||t,className:"flex-1 h-12",size:"lg",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Ï≤òÎ¶¨ Ï§ë..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"w-4 h-4 mr-2"}),"ÏóÖÎ°úÎìú Î∞è Ï≤òÎ¶¨ ÏãúÏûë"]})}),e.jsx(v,{variant:"outline",onClick:()=>{d(null),a(null),T()},className:"h-12",size:"lg",disabled:p||t,children:"Ï∑®ÏÜå"})]}),p&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Ï≤òÎ¶¨ ÏßÑÌñâ ÏÉÅÌô©"}),e.jsxs("span",{className:"text-sm text-blue-700",children:[Math.round(u()),"%"]})]}),e.jsx(we,{value:u(),className:"h-2 mb-3"}),e.jsx("div",{className:"text-sm text-blue-700",children:y.find(r=>r.status==="processing")?.title||"Ï≤òÎ¶¨ Ï§ë..."})]})]}),b&&b.data?.orders&&e.jsx(O,{className:"mt-6",children:e.jsxs($,{className:"p-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ve,{className:"w-5 h-5 text-blue-600"}),"Î∞úÏ£ºÏÑú Îç∞Ïù¥ÌÑ∞ ÎØ∏Î¶¨Î≥¥Í∏∞"]}),e.jsxs("div",{className:"space-y-6",children:[b.data.orders.slice(0,2).map((r,h)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:r.orderNumber}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Í±∞ÎûòÏ≤ò: ",r.vendorName," | ÎÇ©ÌíàÏ≤ò: ",r.deliveryName||r.vendorName]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ÌòÑÏû•: ",r.siteName," | Î∞úÏ£ºÏùº: ",r.orderDate," | ÎÇ©Í∏∞Ïùº: ",r.dueDate]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW",minimumFractionDigits:0,maximumFractionDigits:0}).format(r.totalAmount)}),e.jsxs("div",{className:"text-sm text-gray-600",children:[r.items.length,"Í∞ú ÌíàÎ™©"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"ÌíàÎ™©Î™Ö"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-left",children:"Í∑úÍ≤©"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-right",children:"ÏàòÎüâ"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-right",children:"Îã®Í∞Ä"}),e.jsx("th",{className:"border border-gray-300 px-2 py-1 text-right",children:"Í∏àÏï°"})]})}),e.jsxs("tbody",{children:[r.items.slice(0,3).map((S,i)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-2 py-1",children:S.itemName}),e.jsx("td",{className:"border border-gray-300 px-2 py-1",children:S.specification}),e.jsx("td",{className:"border border-gray-300 px-2 py-1 text-right",children:new Intl.NumberFormat("ko-KR").format(S.quantity)}),e.jsxs("td",{className:"border border-gray-300 px-2 py-1 text-right",children:[new Intl.NumberFormat("ko-KR").format(S.unitPrice),"Ïõê"]}),e.jsxs("td",{className:"border border-gray-300 px-2 py-1 text-right",children:[new Intl.NumberFormat("ko-KR").format(S.totalAmount),"Ïõê"]})]},i)),r.items.length>3&&e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"border border-gray-300 px-2 py-1 text-center text-gray-500",children:["... Ïô∏ ",r.items.length-3,"Í∞ú ÌíàÎ™©"]})})]})]})})]},h)),b.data.orders.length>2&&e.jsx("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-gray-600",children:["... Ïô∏ ",b.data.orders.length-2,"Í∞ú Î∞úÏ£ºÏÑú"]})})]})]})}),A&&b&&b.data&&e.jsx(O,{children:e.jsx($,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Î∞úÏ£ºÏÑú ÏÑ†ÌÉù"}),e.jsxs(R,{variant:"secondary",children:[b.data.orders.length,"Í∞ú Î∞úÏ£ºÏÑú"]})]}),e.jsxs(le,{children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsx(ie,{children:"Ïó¨Îü¨ Í∞úÏùò Î∞úÏ£ºÏÑúÍ∞Ä ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§. Ï≤òÎ¶¨Ìï† Î∞úÏ£ºÏÑúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî."})]}),e.jsx("div",{className:"space-y-3",children:b.data.orders.map((r,h)=>e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${g===h?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>N(h),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:r.orderNumber}),e.jsxs("div",{className:"text-sm text-gray-600",children:[r.projectName," | ",r.vendorName]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[r.items?.length||0,"Í∞ú ÌíàÎ™© | Ï¥ùÏï°: ‚Ç©",(r.totalAmount||0).toLocaleString()]})]}),e.jsx("input",{type:"radio",name:"orderSelection",checked:g===h,onChange:()=>N(h),className:"w-4 h-4 text-blue-600"})]})},h))}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(v,{onClick:()=>P(b.data.orders,g,b,b.extractedPath),className:"flex-1",disabled:t,children:"ÏÑ†ÌÉùÌïú Î∞úÏ£ºÏÑúÎ°ú ÏßÑÌñâ"}),e.jsx(v,{variant:"outline",onClick:()=>{I(!1),a(null),d(null),T()},disabled:t,children:"Ï∑®ÏÜå"})]})]})})}),b&&!A&&e.jsxs(le,{children:[e.jsx(F,{className:"h-4 w-4"}),e.jsxs(ie,{children:["ÏóëÏÖÄ Î∞úÏ£ºÏÑúÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï≤òÎ¶¨ÎêòÏóàÏäµÎãàÎã§. Î∞úÏ£ºÏÑú ",b.data?.totalOrders,"Í∞ú, ÌíàÎ™© ",b.data?.totalItems,"Í∞úÍ∞Ä ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§."]})]})]})},rt=({onFormComplete:s,disabled:t})=>{const[n]=j.useState(ms()),[d,m]=j.useState(!1),[o,p]=j.useState({site:"",deliveryDate:"",isNegotiable:!1,receiver:"",manager:"",notes:"",items:[{name:"",category:"",majorCategory:"",middleCategory:"",minorCategory:"",quantity:0,unit:"",unitPrice:0,totalPrice:0,specs:"",remarks:"",vendorId:"",deliveryLocation:"",deliveryToSite:!1}]}),C=()=>o.items.reduce((c,u)=>c+(u.totalPrice||0),0),{data:b=[]}=ae({queryKey:["/api/projects"],select:c=>c?.filter(u=>u.isActive)||[]});Ge();const{data:a=[]}=ae({queryKey:["/api/users"],select:c=>c?.filter(u=>u.isActive)||[]}),{data:g=[]}=ae({queryKey:["/api/vendors"],select:c=>c?.filter(u=>u.isActive)||[]}),{data:N=[]}=ae({queryKey:["/api/item-categories/major"],queryFn:()=>fetch("/api/item-categories/major").then(c=>c.json())}),{data:A=[]}=ae({queryKey:["/api/item-categories/middle"],queryFn:()=>fetch("/api/item-categories/middle").then(c=>c.json())}),{data:I=[]}=ae({queryKey:["/api/item-categories/minor"],queryFn:()=>fetch("/api/item-categories/minor").then(c=>c.json())}),y=c=>A,_=c=>I,E=(c,u)=>{p(r=>({...r,[c]:u}))},x=(c,u,r)=>{const h=[...o.items];if(h[c]={...h[c],[u]:r},u==="quantity"||u==="unitPrice"){const S=u==="quantity"?r:h[c].quantity,i=u==="unitPrice"?r:h[c].unitPrice;h[c].totalPrice=S*i}u==="majorCategory"?(h[c].middleCategory="",h[c].minorCategory=""):u==="middleCategory"&&(h[c].minorCategory=""),u==="deliveryToSite"&&r===!0&&(h[c].deliveryLocation="ÌòÑÏû•"),p(S=>({...S,items:h}))},W=()=>{p(c=>({...c,items:[...c.items,{name:"",category:"",majorCategory:"",middleCategory:"",minorCategory:"",quantity:0,unit:"",unitPrice:0,totalPrice:0,specs:"",remarks:"",vendorId:"",deliveryLocation:"",deliveryToSite:!1}]}))},T=c=>{o.items.length>1&&p(u=>({...u,items:u.items.filter((r,h)=>h!==c)}))},w=()=>o.site?o.deliveryDate?o.items.some(c=>!c.name||c.quantity<=0)?(alert("Î™®Îì† ÌíàÎ™©Ïùò Ïù¥Î¶ÑÍ≥º ÏàòÎüâÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."),!1):o.items[0]?.vendorId?!0:(alert("ÏµúÏÜåÌïú ÌïòÎÇòÏùò ÌíàÎ™©Ïóê Í±∞ÎûòÏ≤òÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî."),!1):(alert("Ìù¨Îßù ÎÇ©Í∏∞ÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."),!1):(alert("ÌòÑÏû•ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî."),!1),P=async()=>{if(w()){m(!0);try{const c=b.find(h=>h.projectName===o.site),u=o.items[0]?.vendorId||"",r={type:"standard",orderNumber:n,projectId:c?.id?.toString()||"",vendorId:u,siteName:o.site,orderDate:new Date().toISOString().split("T")[0],deliveryDate:o.deliveryDate,isNegotiable:o.isNegotiable,receiver:o.receiver,manager:o.manager,notes:o.notes,totalAmount:C(),items:o.items.map(h=>({itemName:h.name,specification:h.specs,quantity:h.quantity,unit:h.unit,unitPrice:h.unitPrice,totalAmount:h.totalPrice,category:h.category,majorCategory:h.majorCategory,middleCategory:h.middleCategory,minorCategory:h.minorCategory,remarks:h.remarks,vendorId:h.vendorId,deliveryLocation:h.deliveryLocation,deliveryToSite:h.deliveryToSite}))};s(r)}catch(c){console.error("Form submission error:",c),alert("Î∞úÏ£ºÏÑú ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{m(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(O,{className:"border-blue-200 bg-blue-50",children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-semibold text-blue-800 mb-3 flex items-center gap-2",children:[e.jsx(ve,{className:"w-4 h-4"}),"ÌëúÏ§Ä Î∞úÏ£ºÏÑú ÏûëÏÑ± ÏïàÎÇ¥"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Îã®Í≥ÑÎ≥Ñ ÏûÖÎ†•ÏúºÎ°ú Ï†ïÌôïÌïú Î∞úÏ£ºÏÑú ÏûëÏÑ±"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Ïã§ÏãúÍ∞Ñ Îç∞Ïù¥ÌÑ∞ Í≤ÄÏ¶ù Î∞è ÏûêÎèô ÏôÑÏÑ±"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"ÏûêÎèô Ï†ÄÏû•ÏúºÎ°ú ÏïàÏ†ÑÌïú Îç∞Ïù¥ÌÑ∞ Î≥¥Í¥Ä"})]})]})]})})}),e.jsxs(O,{children:[e.jsx(q,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5"}),"Î∞úÏ£ºÏÑú Í∏∞Î≥∏ Ï†ïÎ≥¥"]})}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(D,{htmlFor:"poNumber",children:"Î∞úÏ£ºÏÑú Î≤àÌò∏"}),e.jsx(U,{id:"poNumber",value:n,disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"site",children:"ÌòÑÏû• ÏÑ†ÌÉù *"}),e.jsxs(H,{value:o.site,onValueChange:c=>E("site",c),disabled:t,children:[e.jsx(Z,{children:e.jsx(X,{placeholder:"ÌòÑÏû•ÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî"})}),e.jsx(Q,{children:b.map(c=>e.jsx(M,{value:c.projectName,children:c.projectName},c.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(D,{htmlFor:"deliveryDate",children:"Ìù¨Îßù ÎÇ©Í∏∞Ïùº *"}),e.jsx(U,{id:"deliveryDate",type:"date",value:o.deliveryDate,onChange:c=>E("deliveryDate",c.target.value),disabled:t})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[e.jsx(Re,{id:"isNegotiable",checked:o.isNegotiable,onCheckedChange:c=>E("isNegotiable",c),disabled:t}),e.jsx(D,{htmlFor:"isNegotiable",children:"ÎÇ©Í∏∞ ÌòëÏùò Í∞ÄÎä•"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(D,{htmlFor:"receiver",children:"ÏàòÏã†Ïûê"}),e.jsxs(H,{value:o.receiver,onValueChange:c=>E("receiver",c),disabled:t,children:[e.jsx(Z,{children:e.jsx(X,{placeholder:"ÏàòÏã†ÏûêÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî"})}),e.jsx(Q,{children:a.map(c=>e.jsxs(M,{value:c.name,children:[c.name," (",c.role,")"]},c.id))})]})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"manager",children:"Îã¥ÎãπÏûê"}),e.jsx(U,{id:"manager",value:o.manager,onChange:c=>E("manager",c.target.value),placeholder:"Îã¥ÎãπÏûêÎ™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",disabled:t})]})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"notes",children:"ÌäπÏù¥ÏÇ¨Ìï≠"}),e.jsx(Ce,{id:"notes",value:o.notes,onChange:c=>E("notes",c.target.value),placeholder:"ÌäπÏù¥ÏÇ¨Ìï≠Ïù¥ÎÇò ÏöîÏ≤≠ÏÇ¨Ìï≠ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",rows:3,disabled:t})]})]})]}),e.jsxs(O,{children:[e.jsx(q,{children:e.jsxs(V,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-5 h-5"}),"Î∞úÏ£º ÌíàÎ™©"]}),e.jsxs(v,{onClick:W,variant:"outline",size:"sm",disabled:t,children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"ÌíàÎ™© Ï∂îÍ∞Ä"]})]})}),e.jsx($,{children:e.jsx("div",{className:"space-y-4",children:o.items.map((c,u)=>e.jsx(O,{className:"border border-gray-200",children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(R,{variant:"outline",children:["ÌíàÎ™© ",u+1]}),o.items.length>1&&e.jsx(v,{onClick:()=>T(u),variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",disabled:t,children:e.jsx(xs,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(D,{children:"ÌíàÎ™©Î™Ö *"}),e.jsx(U,{value:c.name,onChange:r=>x(u,"name",r.target.value),placeholder:"ÌíàÎ™©Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",disabled:t})]}),e.jsxs("div",{children:[e.jsx(D,{children:"Í∑úÍ≤©"}),e.jsx(U,{value:c.specs,onChange:r=>x(u,"specs",r.target.value),placeholder:"Í∑úÍ≤©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",disabled:t})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx(D,{children:"ÎåÄÎ∂ÑÎ•ò"}),e.jsxs(H,{value:c.majorCategory,onValueChange:r=>x(u,"majorCategory",r),disabled:t,children:[e.jsx(Z,{children:e.jsx(X,{placeholder:"ÏÑ†ÌÉù"})}),e.jsx(Q,{children:N.map(r=>e.jsx(M,{value:r.categoryValue||r.categoryName,children:r.categoryValue||r.categoryName},r.id))})]})]}),e.jsxs("div",{children:[e.jsx(D,{children:"Ï§ëÎ∂ÑÎ•ò"}),e.jsxs(H,{value:c.middleCategory,onValueChange:r=>x(u,"middleCategory",r),disabled:t||!c.majorCategory,children:[e.jsx(Z,{children:e.jsx(X,{placeholder:"ÏÑ†ÌÉù"})}),e.jsx(Q,{children:y(c.majorCategory).map(r=>e.jsx(M,{value:r.categoryValue||r.categoryName,children:r.categoryValue||r.categoryName},r.id))})]})]}),e.jsxs("div",{children:[e.jsx(D,{children:"ÏÜåÎ∂ÑÎ•ò"}),e.jsxs(H,{value:c.minorCategory,onValueChange:r=>x(u,"minorCategory",r),disabled:t||!c.middleCategory,children:[e.jsx(Z,{children:e.jsx(X,{placeholder:"ÏÑ†ÌÉù"})}),e.jsx(Q,{children:_(c.middleCategory).map(r=>e.jsx(M,{value:r.categoryValue||r.categoryName,children:r.categoryValue||r.categoryName},r.id))})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(D,{children:"ÏàòÎüâ *"}),e.jsx(U,{type:"number",value:c.quantity||"",onChange:r=>x(u,"quantity",parseFloat(r.target.value)||0),placeholder:"0",min:"0",step:"0.01",disabled:t})]}),e.jsxs("div",{children:[e.jsx(D,{children:"Îã®ÏúÑ"}),e.jsxs(H,{value:c.unit,onValueChange:r=>x(u,"unit",r),disabled:t,children:[e.jsx(Z,{children:e.jsx(X,{placeholder:"Îã®ÏúÑ ÏÑ†ÌÉù"})}),e.jsxs(Q,{children:[e.jsx(M,{value:"ea",children:"ea"}),e.jsx(M,{value:"set",children:"set"}),e.jsx(M,{value:"ton",children:"ton"}),e.jsx(M,{value:"kg",children:"kg"}),e.jsx(M,{value:"g",children:"g"}),e.jsx(M,{value:"m",children:"m"}),e.jsx(M,{value:"cm",children:"cm"}),e.jsx(M,{value:"mm",children:"mm"}),e.jsx(M,{value:"m¬≤",children:"m¬≤"}),e.jsx(M,{value:"m¬≥",children:"m¬≥"}),e.jsx(M,{value:"L",children:"L"}),e.jsx(M,{value:"mL",children:"mL"}),e.jsx(M,{value:"Í∏∞ÌÉÄ",children:"Í∏∞ÌÉÄ"})]})]})]}),e.jsxs("div",{children:[e.jsx(D,{children:"Îã®Í∞Ä"}),e.jsx(U,{type:"number",value:c.unitPrice||"",onChange:r=>x(u,"unitPrice",parseFloat(r.target.value)||0),placeholder:"0",min:"0",step:"0.01",disabled:t})]}),e.jsxs("div",{children:[e.jsx(D,{children:"Ï¥ùÏï°"}),e.jsx(U,{value:$e(c.totalPrice),disabled:!0,className:"bg-gray-50"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(D,{children:"Í±∞ÎûòÏ≤ò"}),e.jsxs(H,{value:c.vendorId||"",onValueChange:r=>x(u,"vendorId",r),disabled:t,children:[e.jsx(Z,{children:e.jsx(X,{placeholder:"Í±∞ÎûòÏ≤òÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî"})}),e.jsx(Q,{children:g.map(r=>e.jsx(M,{value:r.id.toString(),children:r.name},r.id))})]})]}),e.jsxs("div",{children:[e.jsx(D,{children:"ÎÇ©ÌíàÏ≤ò"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{value:c.deliveryLocation||"",onValueChange:r=>x(u,"deliveryLocation",r),disabled:t||c.deliveryToSite,className:"flex-1",children:[e.jsx(Z,{children:e.jsx(X,{placeholder:"ÎÇ©ÌíàÏ≤òÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî"})}),e.jsx(Q,{children:g.map(r=>e.jsx(M,{value:r.name,children:r.name},r.id))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{id:`deliveryToSite-${u}`,checked:c.deliveryToSite||!1,onCheckedChange:r=>{x(u,"deliveryToSite",r),r&&x(u,"deliveryLocation","ÌòÑÏû•")},disabled:t}),e.jsx(D,{htmlFor:`deliveryToSite-${u}`,className:"text-sm cursor-pointer",children:"ÌòÑÏû•"})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(D,{children:"ÎπÑÍ≥†"}),e.jsx(Ce,{value:c.remarks,onChange:r=>x(u,"remarks",r.target.value),placeholder:"Ï∂îÍ∞Ä ÏÑ§Î™ÖÏù¥ÎÇò ÏöîÏ≤≠ÏÇ¨Ìï≠",rows:2,disabled:t})]})]})]})},u))})})]}),e.jsxs(O,{children:[e.jsx(q,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"w-5 h-5"}),"Ï£ºÎ¨∏ ÏöîÏïΩ"]})}),e.jsx($,{children:e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-medium",children:"Ï¥ù Ï£ºÎ¨∏ Í∏àÏï°"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[$e(C()),"Ïõê"]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:["Ï¥ù ",o.items.length,"Í∞ú ÌíàÎ™©"]})]})})]}),e.jsx("div",{className:"flex gap-4",children:e.jsx(v,{onClick:P,disabled:t||d,className:"flex-1 bg-blue-600 hover:bg-blue-700",size:"lg",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Ï≤òÎ¶¨ Ï§ë..."]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Î∞úÏ£ºÏÑú ÏÉùÏÑ±"]})})})]})},lt=({method:s,onDataSubmit:t,disabled:n})=>s==="excel"?e.jsxs(O,{children:[e.jsx(q,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"w-5 h-5"}),"ÏóëÏÖÄ ÌååÏùº ÏóÖÎ°úÎìú"]})}),e.jsx($,{children:e.jsx(at,{onUploadComplete:t,disabled:n})})]}):e.jsxs(O,{children:[e.jsx(q,{children:e.jsx(V,{children:"ÌëúÏ§Ä Î∞úÏ£ºÏÑú ÏûëÏÑ±"})}),e.jsx($,{children:e.jsx(rt,{onFormComplete:t,disabled:n})})]}),it=({orderData:s})=>{const t=s.totalOrders||s.orders?.length||1,n=s.totalItems||s.items?.length||0,d=s.totalAmount||0;return e.jsxs(O,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:[e.jsx(q,{children:e.jsxs(V,{className:"flex items-center gap-2 text-green-700",children:[e.jsx(F,{className:"w-6 h-6"}),"Î∞úÏ£ºÏÑú ÏÉùÏÑ± ÏôÑÎ£å ÏöîÏïΩ"]})}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:t}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-center gap-1",children:[e.jsx(J,{className:"w-3 h-3"}),"Î∞úÏ£ºÏÑú"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:n}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-center gap-1",children:[e.jsx(He,{className:"w-3 h-3"}),"ÌíàÎ™©"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:d>0?`‚Ç©${d.toLocaleString()}`:"-"}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-center gap-1",children:[e.jsx(hs,{className:"w-3 h-3"}),"Ï¥ù Í∏àÏï°"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 text-center shadow-sm",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-1",children:s.type==="excel"?"Excel":"ÌëúÏ§Ä"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ÏûëÏÑ± Î∞©Ïãù"})]})]}),s.orderNumber&&e.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Î∞úÏ£ºÏÑú Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Î∞úÏ£ºÏÑú Î≤àÌò∏:"}),e.jsx(R,{variant:"outline",className:"font-mono",children:s.orderNumber})]}),s.projectName&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"ÌîÑÎ°úÏ†ùÌä∏:"}),e.jsx("span",{className:"font-medium",children:s.projectName})]}),s.vendorName&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Í±∞ÎûòÏ≤ò:"}),e.jsx("span",{className:"font-medium",children:s.vendorName})]}),s.createdAt&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(us,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"ÏÉùÏÑ±Ïùº:"}),e.jsx("span",{className:"font-medium",children:new Date(s.createdAt).toLocaleDateString("ko-KR")})]})]})]}),e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[e.jsx(F,{className:"w-4 h-4"}),"Î™®Îì† Î∞úÏ£ºÏÑúÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§"]})})]})]})},nt=({steps:s,onRetryStep:t,showRetryButtons:n=!1})=>{const d=s.filter(a=>a.status==="completed"),m=s.filter(a=>a.status==="error"),o=s.filter(a=>a.status==="processing"),p=a=>{switch(a.id){case"pdf_generation":return e.jsx(J,{className:"w-4 h-4"});case"vendor_validation":return e.jsx(Be,{className:"w-4 h-4"});case"email_preparation":return e.jsx(te,{className:"w-4 h-4"});case"attachment_processing":return e.jsx(J,{className:"w-4 h-4"});case"final_validation":return e.jsx(F,{className:"w-4 h-4"});default:return e.jsx(_e,{className:"w-4 h-4"})}},C=a=>{switch(a){case"completed":return e.jsx(F,{className:"w-4 h-4 text-green-600"});case"error":return e.jsx(G,{className:"w-4 h-4 text-red-600"});case"processing":return e.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"});default:return e.jsx(ee,{className:"w-4 h-4 text-gray-400"})}},b=a=>{switch(a){case"completed":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"processing":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}};return e.jsxs(O,{children:[e.jsx(q,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"w-5 h-5 text-blue-600"}),"Ï≤òÎ¶¨ Í≤∞Í≥º ÏÉÅÏÑ∏"]})}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:d.length}),e.jsx("div",{className:"text-sm text-green-700",children:"ÏôÑÎ£å"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:o.length}),e.jsx("div",{className:"text-sm text-blue-700",children:"Ï≤òÎ¶¨ Ï§ë"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:m.length}),e.jsx("div",{className:"text-sm text-red-700",children:"Ïò§Î•ò"})]})]}),e.jsx("div",{className:"space-y-3",children:s.map(a=>e.jsx("div",{className:`p-4 rounded-lg border ${b(a.status)} transition-all duration-200`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[p(a),C(a.status)]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.title}),e.jsx(R,{variant:"outline",className:a.status==="completed"?"border-green-600 text-green-600":a.status==="error"?"border-red-600 text-red-600":a.status==="processing"?"border-blue-600 text-blue-600":"border-gray-400 text-gray-600",children:a.status==="completed"?"ÏôÑÎ£å":a.status==="error"?"Ïò§Î•ò":a.status==="processing"?"Ï≤òÎ¶¨ Ï§ë":"ÎåÄÍ∏∞"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:a.description}),a.progress!==void 0&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[e.jsx("span",{children:"ÏßÑÌñâÎ•†"}),e.jsxs("span",{children:[a.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})})]}),a.result&&e.jsxs("div",{className:"text-sm text-green-700 bg-green-50 p-2 rounded mt-2",children:[e.jsx("strong",{children:"Í≤∞Í≥º:"})," ",typeof a.result=="string"?a.result:JSON.stringify(a.result)]}),a.error&&e.jsxs("div",{className:"text-sm text-red-700 bg-red-50 p-2 rounded mt-2",children:[e.jsx("strong",{children:"Ïò§Î•ò:"})," ",a.error]}),a.details&&a.details.length>0&&e.jsx("div",{className:"mt-2",children:e.jsxs("details",{className:"text-sm",children:[e.jsx("summary",{className:"cursor-pointer text-gray-600 hover:text-gray-800",children:"ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î≥¥Í∏∞"}),e.jsx("ul",{className:"mt-2 space-y-1 text-gray-600 ml-4",children:a.details.map((g,N)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-400",children:"‚Ä¢"}),g]},N))})]})})]})]}),n&&a.status==="error"&&t&&e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>t(a.id),className:"ml-2",children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),"Ïû¨ÏãúÎèÑ"]})]})},a.id))}),m.length===0&&d.length===s.length&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[e.jsx(F,{className:"w-4 h-4"}),"Î™®Îì† Ï≤òÎ¶¨ Îã®Í≥ÑÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§"]})}),m.length>0&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[e.jsx(G,{className:"w-4 h-4"}),m.length,"Í∞ú Îã®Í≥ÑÏóêÏÑú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§"]})})]})]})},ct=({recipients:s,onRecipientsChange:t,isOpen:n,onClose:d,trigger:m,projectId:o,vendorId:p})=>{const[C,b]=j.useState(""),[a,g]=j.useState(null),[N,A]=j.useState({type:"vendor",verified:!1}),[I,y]=j.useState([]);j.useEffect(()=>{_()},[o,p]);const _=async()=>{try{const i=localStorage.getItem("emailRecipients");i&&y(JSON.parse(i))}catch(i){console.error("ÏàòÏã†Ïûê Î™©Î°ù Î°úÎìú Ïã§Ìå®:",i)}},E=i=>{try{localStorage.setItem("emailRecipients",JSON.stringify(i))}catch(f){console.error("ÏàòÏã†Ïûê Î™©Î°ù Ï†ÄÏû• Ïã§Ìå®:",f)}},x=()=>{if(!N.email||!N.name)return;const i={id:`recipient-${Date.now()}`,email:N.email,name:N.name,company:N.company||"",position:N.position||"",phone:N.phone||"",type:N.type||"vendor",verified:P(N.email),tags:N.tags||[],lastUsed:new Date},f=[...s,i];t(f);const l=[...I,i];y(l),E(l),A({type:"vendor",verified:!1})},W=i=>{const f=s.filter(l=>l.id!==i);t(f)},T=i=>{const f=s.map(k=>k.id===i.id?i:k);t(f);const l=I.map(k=>k.id===i.id?i:k);y(l),E(l),g(null)},w=i=>{if(s.find(l=>l.id===i.id))return;const f=[...s,{...i,lastUsed:new Date}];t(f)},P=i=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i),c=I.filter(i=>!s.find(f=>f.id===i.id)&&(i.name.toLowerCase().includes(C.toLowerCase())||i.email.toLowerCase().includes(C.toLowerCase())||i.company?.toLowerCase().includes(C.toLowerCase()))),u=i=>{switch(i){case"vendor":return"bg-blue-100 text-blue-800";case"cc":return"bg-green-100 text-green-800";case"bcc":return"bg-gray-100 text-gray-800";case"manager":return"bg-purple-100 text-purple-800";case"approver":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},r=i=>{switch(i){case"vendor":return"Í±∞ÎûòÏ≤ò";case"cc":return"Ï∞∏Ï°∞";case"bcc":return"Ïà®ÏùÄÏ∞∏Ï°∞";case"manager":return"Í¥ÄÎ¶¨Ïûê";case"approver":return"ÏäπÏù∏Ïûê";default:return"Í∏∞ÌÉÄ"}},h=()=>{const i=[["Ïù¥Î¶Ñ","Ïù¥Î©îÏùº","ÌöåÏÇ¨","ÏßÅÏ±Ö","Ï†ÑÌôîÎ≤àÌò∏","Ïú†Ìòï"].join(","),...s.map(k=>[k.name,k.email,k.company||"",k.position||"",k.phone||"",r(k.type)].join(","))].join(`
`),f=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(f),l.download=`email_recipients_${new Date().toISOString().split("T")[0]}.csv`,l.click()},S=e.jsxs(ke,{className:"max-w-5xl h-[90vh] overflow-hidden",children:[e.jsx(Te,{children:e.jsxs(Pe,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Ïù¥Î©îÏùº ÏàòÏã†Ïûê Í¥ÄÎ¶¨"]})}),e.jsxs(Xe,{defaultValue:"current",className:"h-full flex flex-col",children:[e.jsxs(Qe,{className:"grid w-full grid-cols-3",children:[e.jsxs(ne,{value:"current",children:["ÌòÑÏû¨ ÏàòÏã†Ïûê (",s.length,")"]}),e.jsx(ne,{value:"add",children:"ÏÉà ÏàòÏã†Ïûê Ï∂îÍ∞Ä"}),e.jsx(ne,{value:"saved",children:"Ï†ÄÏû•Îêú ÏàòÏã†Ïûê"})]}),e.jsxs(ce,{value:"current",className:"flex-1 overflow-auto space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Ï¥ù ",s.length,"Î™ÖÏùò ÏàòÏã†Ïûê"]}),e.jsxs(v,{onClick:h,variant:"outline",size:"sm",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"CSV ÎÇ¥Î≥¥ÎÇ¥Í∏∞"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.map(i=>e.jsx(O,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium",children:i.name}),e.jsx(R,{className:u(i.type),children:r(i.type)}),i.verified?e.jsx(F,{className:"w-4 h-4 text-green-600"}):e.jsx(G,{className:"w-4 h-4 text-orange-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-3 h-3"}),i.email]}),i.company&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-3 h-3"}),i.company]}),i.position&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"w-3 h-3"}),i.position]}),i.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(js,{className:"w-3 h-3"}),i.phone]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>g(i),children:e.jsx(Je,{className:"w-3 h-3"})}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>W(i.id),children:e.jsx(Ne,{className:"w-3 h-3"})})]})]})},i.id)),s.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(se,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Îì±Î°ùÎêú ÏàòÏã†ÏûêÍ∞Ä ÏóÜÏäµÎãàÎã§."}),e.jsx("p",{className:"text-sm",children:"ÏÉà ÏàòÏã†ÏûêÎ•º Ï∂îÍ∞ÄÌï¥Ï£ºÏÑ∏Ïöî."})]})]})]}),e.jsx(ce,{value:"add",className:"flex-1 overflow-auto",children:e.jsxs(O,{children:[e.jsx(q,{children:e.jsx(V,{children:"ÏÉà ÏàòÏã†Ïûê Ï†ïÎ≥¥"})}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(D,{htmlFor:"new-name",children:"Ïù¥Î¶Ñ *"}),e.jsx(U,{id:"new-name",value:N.name||"",onChange:i=>A({...N,name:i.target.value}),placeholder:"ÏàòÏã†Ïûê Ïù¥Î¶Ñ"})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"new-email",children:"Ïù¥Î©îÏùº Ï£ºÏÜå *"}),e.jsx(U,{id:"new-email",type:"email",value:N.email||"",onChange:i=>A({...N,email:i.target.value}),placeholder:"example@company.com"})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"new-company",children:"ÌöåÏÇ¨Î™Ö"}),e.jsx(U,{id:"new-company",value:N.company||"",onChange:i=>A({...N,company:i.target.value}),placeholder:"ÌöåÏÇ¨Î™Ö"})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"new-position",children:"ÏßÅÏ±Ö"}),e.jsx(U,{id:"new-position",value:N.position||"",onChange:i=>A({...N,position:i.target.value}),placeholder:"ÏßÅÏ±Ö"})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"new-phone",children:"Ï†ÑÌôîÎ≤àÌò∏"}),e.jsx(U,{id:"new-phone",value:N.phone||"",onChange:i=>A({...N,phone:i.target.value}),placeholder:"010-1234-5678"})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"new-type",children:"ÏàòÏã†Ïûê Ïú†Ìòï"}),e.jsxs("select",{id:"new-type",className:"w-full h-10 px-3 py-2 border border-gray-300 rounded-md",value:N.type,onChange:i=>A({...N,type:i.target.value}),children:[e.jsx("option",{value:"vendor",children:"Í±∞ÎûòÏ≤ò"}),e.jsx("option",{value:"cc",children:"Ï∞∏Ï°∞"}),e.jsx("option",{value:"bcc",children:"Ïà®ÏùÄÏ∞∏Ï°∞"}),e.jsx("option",{value:"manager",children:"Í¥ÄÎ¶¨Ïûê"}),e.jsx("option",{value:"approver",children:"ÏäπÏù∏Ïûê"})]})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(v,{onClick:x,disabled:!N.name||!N.email,className:"w-full",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"ÏàòÏã†Ïûê Ï∂îÍ∞Ä"]})})]})]})}),e.jsxs(ce,{value:"saved",className:"flex-1 overflow-auto space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(U,{placeholder:"ÏàòÏã†Ïûê Í≤ÄÏÉâ...",value:C,onChange:i=>b(i.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"text-sm text-gray-600",children:[c.length,"Î™Ö ÌëúÏãú"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[c.map(i=>e.jsx(O,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium",children:i.name}),e.jsx(R,{className:u(i.type),children:r(i.type)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-3 h-3"}),i.email]}),i.company&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-3 h-3"}),i.company]})]}),i.lastUsed&&e.jsxs("div",{className:"text-xs text-gray-500",children:["ÎßàÏßÄÎßâ ÏÇ¨Ïö©: ",new Date(i.lastUsed).toLocaleDateString("ko-KR")]})]}),e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>w(i),children:[e.jsx(ue,{className:"w-3 h-3 mr-1"}),"Ï∂îÍ∞Ä"]})]})},i.id)),c.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(se,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§."})]})]})]})]}),a&&e.jsx(xe,{open:!!a,onOpenChange:()=>g(null),children:e.jsxs(ke,{children:[e.jsx(Te,{children:e.jsx(Pe,{children:"ÏàòÏã†Ïûê Ï†ïÎ≥¥ ÏàòÏ†ï"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(D,{htmlFor:"edit-name",children:"Ïù¥Î¶Ñ"}),e.jsx(U,{id:"edit-name",value:a.name,onChange:i=>g({...a,name:i.target.value})})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"edit-email",children:"Ïù¥Î©îÏùº Ï£ºÏÜå"}),e.jsx(U,{id:"edit-email",type:"email",value:a.email,onChange:i=>g({...a,email:i.target.value})})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"edit-company",children:"ÌöåÏÇ¨Î™Ö"}),e.jsx(U,{id:"edit-company",value:a.company||"",onChange:i=>g({...a,company:i.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(v,{variant:"outline",onClick:()=>g(null),children:"Ï∑®ÏÜå"}),e.jsxs(v,{onClick:()=>T(a),children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"Ï†ÄÏû•"]})]})]})]})})]});return m?e.jsxs(xe,{open:n,onOpenChange:d,children:[e.jsx(Ze,{asChild:!0,children:m}),S]}):e.jsx(xe,{open:n,onOpenChange:d,children:S})},dt=({orderData:s,recipients:t=[],isOpen:n,onClose:d,onSend:m,trigger:o})=>{const[p,C]=j.useState(t),[b,a]=j.useState(!1),[g,N]=j.useState({subject:`Î∞úÏ£ºÏÑú Ï†ÑÏÜ° - ${s?.orderNumber||""}`,body:A(s),includeAttachments:!0,sendAsHTML:!0});function A(x){return`ÏïàÎÖïÌïòÏÑ∏Ïöî,

${x?.vendorName||"Í±∞ÎûòÏ≤ò"}ÎãòÍªò Î∞úÏ£ºÏÑúÎ•º ÏÜ°Î∂ÄÎìúÎ¶ΩÎãàÎã§.

‚ñ† Î∞úÏ£ºÏÑú Ï†ïÎ≥¥
- Î∞úÏ£ºÏÑú Î≤àÌò∏: ${x?.orderNumber||"ÎØ∏ÏÉùÏÑ±"}
- ÌîÑÎ°úÏ†ùÌä∏: ${x?.projectName||"ÎØ∏ÏßÄÏ†ï"}
- Î∞úÏ£º ÏùºÏûê: ${new Date().toLocaleDateString("ko-KR")}
- Ï¥ù ÌíàÎ™© Ïàò: ${x?.totalItems||x?.items?.length||0}Í∞ú
${x?.totalAmount?`- Ï¥ù Í∏àÏï°: ‚Ç©${x.totalAmount.toLocaleString()}`:""}

Ï≤®Î∂ÄÎêú Î∞úÏ£ºÏÑúÎ•º ÌôïÏù∏ÌïòÏãúÍ≥†, ÎÇ©Í∏∞ÏùºÏ†ïÏóê ÎßûÏ∂∞ Ï§ÄÎπÑÌï¥ Ï£ºÏãúÍ∏∞ Î∞îÎûçÎãàÎã§.

Î¨∏ÏùòÏÇ¨Ìï≠Ïù¥ ÏûàÏúºÏãúÎ©¥ Ïñ∏Ï†úÎì† Ïó∞ÎùΩ Ï£ºÏãúÍ∏∞ Î∞îÎûçÎãàÎã§.

Í∞êÏÇ¨Ìï©ÎãàÎã§.

---
${x?.companyName||"ÌöåÏÇ¨Î™Ö"}
${x?.senderName||"Î∞úÏã†Ïûê"}
${x?.senderEmail||"sender@company.com"}
${x?.senderPhone||"Ïó∞ÎùΩÏ≤ò"}`}j.useEffect(()=>{if(t.length===0&&s?.vendorEmail){const x={id:"vendor-1",email:s.vendorEmail,name:s.vendorName||"Í±∞ÎûòÏ≤ò",company:s.vendorName,type:"vendor",verified:!0};C([x])}},[s,t]);const I=()=>{m&&m({recipients:p,template:g}),d?.()},y=x=>{switch(x){case"vendor":return e.jsx(se,{className:"w-4 h-4 text-blue-600"});case"cc":return e.jsx(ns,{className:"w-4 h-4 text-green-600"});case"bcc":return e.jsx(Ee,{className:"w-4 h-4 text-gray-600"})}},_=x=>{switch(x){case"vendor":return"Í±∞ÎûòÏ≤ò";case"cc":return"Ï∞∏Ï°∞";case"bcc":return"Ïà®ÏùÄÏ∞∏Ï°∞"}},E=e.jsxs(ke,{className:"max-w-4xl h-[90vh] overflow-hidden",children:[e.jsx(Te,{children:e.jsxs(Pe,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Ïù¥Î©îÏùº ÎØ∏Î¶¨Î≥¥Í∏∞ Î∞è Î∞úÏÜ°",s?.orderNumber&&e.jsx(R,{variant:"outline",children:s.orderNumber})]})}),e.jsxs(Xe,{defaultValue:"recipients",className:"h-full flex flex-col",children:[e.jsxs(Qe,{className:"grid w-full grid-cols-3",children:[e.jsxs(ne,{value:"recipients",children:["ÏàòÏã†Ïûê (",p.length,")"]}),e.jsx(ne,{value:"compose",children:"Ïù¥Î©îÏùº ÏûëÏÑ±"}),e.jsx(ne,{value:"preview",children:"ÎØ∏Î¶¨Î≥¥Í∏∞"})]}),e.jsx(ce,{value:"recipients",className:"flex-1 overflow-auto space-y-4",children:e.jsxs(O,{children:[e.jsx(q,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{className:"text-lg",children:"ÏàòÏã†Ïûê Î™©Î°ù"}),e.jsxs(v,{onClick:()=>a(!0),variant:"outline",size:"sm",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"ÏàòÏã†Ïûê Í¥ÄÎ¶¨"]})]})}),e.jsx($,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[p.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[y(x.type),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:x.name}),e.jsx(R,{variant:"secondary",className:"text-xs",children:_(x.type)}),x.verified?e.jsx(F,{className:"w-4 h-4 text-green-600"}):e.jsx(G,{className:"w-4 h-4 text-orange-600"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:x.email}),x.company&&e.jsx("p",{className:"text-xs text-gray-500",children:x.company})]})]}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>C(p.filter(W=>W.id!==x.id)),children:e.jsx(Ne,{className:"w-4 h-4"})})]},x.id)),p.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(se,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Îì±Î°ùÎêú ÏàòÏã†ÏûêÍ∞Ä ÏóÜÏäµÎãàÎã§."}),e.jsxs(v,{onClick:()=>a(!0),variant:"outline",className:"mt-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"ÏàòÏã†Ïûê Ï∂îÍ∞Ä"]})]})]})})]})}),e.jsx(ce,{value:"compose",className:"flex-1 overflow-auto space-y-4",children:e.jsxs(O,{children:[e.jsx(q,{children:e.jsx(V,{className:"text-lg",children:"Ïù¥Î©îÏùº ÎÇ¥Ïö©"})}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(D,{htmlFor:"email-subject",children:"Ï†úÎ™©"}),e.jsx(U,{id:"email-subject",value:g.subject,onChange:x=>N({...g,subject:x.target.value})})]}),e.jsxs("div",{children:[e.jsx(D,{htmlFor:"email-body",children:"Î≥∏Î¨∏"}),e.jsx(Ce,{id:"email-body",rows:15,value:g.body,onChange:x=>N({...g,body:x.target.value}),className:"font-mono text-sm"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(D,{htmlFor:"include-attachments",children:"PDF Ï≤®Î∂Ä"}),e.jsx(Me,{id:"include-attachments",checked:g.includeAttachments,onCheckedChange:x=>N({...g,includeAttachments:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(D,{htmlFor:"send-html",children:"HTML ÌòïÏãùÏúºÎ°ú Î∞úÏÜ°"}),e.jsx(Me,{id:"send-html",checked:g.sendAsHTML,onCheckedChange:x=>N({...g,sendAsHTML:x})})]})]}),g.includeAttachments&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Ï≤®Î∂Ä ÏòàÏ†ï ÌååÏùº"})]}),e.jsxs("ul",{className:"mt-2 text-sm text-blue-700",children:[e.jsxs("li",{children:["‚Ä¢ Î∞úÏ£ºÏÑú_",s?.orderNumber||"unknown",".pdf"]}),s?.processedExcelUrl&&e.jsxs("li",{children:["‚Ä¢ Ï≤òÎ¶¨Îêú_Excel_ÌååÏùº_",s?.excelFileName||"InputÏ†úÍ±∞",".xlsx"]})]})]})]})]})}),e.jsx(ce,{value:"preview",className:"flex-1 overflow-auto space-y-4",children:e.jsxs(O,{children:[e.jsx(q,{children:e.jsx(V,{className:"text-lg",children:"Î∞úÏÜ° ÎØ∏Î¶¨Î≥¥Í∏∞"})}),e.jsxs($,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Î∞õÎäî ÏÇ¨Îûå:"}),e.jsx("div",{className:"mt-1",children:p.filter(x=>x.type==="vendor").map(x=>x.email).join(", ")||"ÏóÜÏùå"})]}),p.some(x=>x.type==="cc")&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Ï∞∏Ï°∞:"}),e.jsx("div",{className:"mt-1",children:p.filter(x=>x.type==="cc").map(x=>x.email).join(", ")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Ï†úÎ™©:"}),e.jsx("div",{className:"mt-1 font-medium",children:g.subject})]})]})}),e.jsx("div",{className:"p-4 border rounded-lg bg-white",children:e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:g.body})}),g.includeAttachments&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Ï≤®Î∂ÄÌååÏùº"})]}),e.jsxs("div",{className:"mt-2 text-sm text-green-700",children:["Î∞úÏ£ºÏÑú_",s?.orderNumber||"unknown",".pdf"]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(v,{onClick:I,disabled:p.length===0,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Ïù¥Î©îÏùº Î∞úÏÜ° (",p.length,"Î™Ö)"]})})]})]})})]}),e.jsx(ct,{recipients:p,onRecipientsChange:C,isOpen:b,onClose:()=>a(!1),projectId:s?.projectId,vendorId:s?.vendorId})]});return o?e.jsxs(xe,{open:n,onOpenChange:d,children:[e.jsx(Ze,{asChild:!0,children:o}),E]}):e.jsx(xe,{open:n,onOpenChange:d,children:E})},ot=({orderData:s,onViewPDF:t,onDownloadPDF:n,onSendEmail:d,onViewOrders:m,onCreateNew:o,onPrint:p,onArchive:C,onShare:b,disabled:a=!1})=>{const[g,N]=j.useState(!1),[A,I]=j.useState(!1);return e.jsxs(O,{children:[e.jsx(q,{children:e.jsxs(V,{className:"flex items-center gap-2 text-blue-600",children:[e.jsx(Le,{className:"w-5 h-5"}),"ÏÇ¨Ïö© Í∞ÄÎä•Ìïú ÏûëÏóÖ"]})}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Î¨∏ÏÑú Í¥ÄÎ¶¨"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs(v,{variant:"outline",onClick:()=>N(!0),disabled:a,className:"flex items-center justify-center gap-2 h-12",children:[e.jsx(Ee,{className:"w-4 h-4"}),"PDF ÎØ∏Î¶¨Î≥¥Í∏∞"]}),s?.pdfUrl&&e.jsxs(v,{variant:"outline",onClick:n,disabled:a,className:"flex items-center justify-center gap-2 h-12",children:[e.jsx(fe,{className:"w-4 h-4"}),"PDF Îã§Ïö¥Î°úÎìú"]}),e.jsxs(v,{variant:"outline",onClick:p,disabled:a,className:"flex items-center justify-center gap-2 h-12",children:[e.jsx(vs,{className:"w-4 h-4"}),"Ïù∏ÏáÑÌïòÍ∏∞"]}),e.jsxs(v,{variant:"outline",onClick:b,disabled:a,className:"flex items-center justify-center gap-2 h-12",children:[e.jsx(Le,{className:"w-4 h-4"}),"Í≥µÏú†ÌïòÍ∏∞"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ïù¥Î©îÏùº Î∞úÏÜ°"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs(v,{variant:s?.emailsSent?"outline":"default",onClick:()=>I(!0),disabled:a,className:"flex items-center justify-center gap-2 h-12",children:[e.jsx(te,{className:"w-4 h-4"}),s?.emailsSent?"Ïù¥Î©îÏùº Ïû¨Î∞úÏÜ°":"Ïù¥Î©îÏùº Î∞úÏÜ°"]}),s?.emailsSent&&e.jsx("div",{className:"text-sm text-green-600 text-center py-2 bg-green-50 rounded-lg",children:"‚úì Ïù¥Î©îÏùºÏù¥ Î∞úÏÜ°ÎêòÏóàÏäµÎãàÎã§"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Îã§Ïùå Îã®Í≥Ñ"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs(v,{onClick:()=>{m?m():window.location.href="/orders"},disabled:a,className:"flex items-center justify-center gap-2 h-12 bg-blue-600 hover:bg-blue-700",children:[e.jsx(J,{className:"w-4 h-4"}),"Î∞úÏ£ºÏÑú Í¥ÄÎ¶¨"]}),e.jsxs(v,{onClick:()=>{o?o():window.location.href="/create-order/unified"},variant:"outline",disabled:a,className:"flex items-center justify-center gap-2 h-12",children:[e.jsx(ue,{className:"w-4 h-4"}),"ÏÉà Î∞úÏ£ºÏÑú ÏûëÏÑ±"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Í∏∞ÌÉÄ"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs(v,{variant:"outline",onClick:C,disabled:a,className:"flex items-center justify-center gap-2 h-10 text-gray-600",children:[e.jsx(fs,{className:"w-4 h-4"}),"Î≥¥Í¥ÄÌïòÍ∏∞"]})})]}),s?.orderNumber&&e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("div",{className:"font-medium mb-1",children:"Î∞úÏ£ºÏÑú Î≤àÌò∏"}),e.jsx("div",{className:"font-mono text-blue-900",children:s.orderNumber})]})})]}),e.jsx(ps,{orderData:s,isOpen:g,onClose:()=>N(!1),onDownload:n}),e.jsx(dt,{orderData:s,isOpen:A,onClose:()=>I(!1),onSend:y=>{console.log("Ïù¥Î©îÏùº Î∞úÏÜ°:",y),d&&d(),I(!1)}})]})},mt=({orderData:s,onNavigate:t})=>{const d=(()=>{const a=[];return a.push({id:"view_orders",title:"Î∞úÏ£ºÏÑú ÏÉÅÏÑ∏ ÌôïÏù∏",description:"ÏÉùÏÑ±Îêú Î∞úÏ£ºÏÑúÏùò ÏÉÅÏÑ∏ ÎÇ¥Ïö©ÏùÑ ÌôïÏù∏ÌïòÍ≥† ÌïÑÏöîÏãú ÏàòÏ†ïÌïòÏÑ∏Ïöî",priority:"high",status:"recommended",estimatedTime:"2-3Î∂Ñ",url:"/orders",icon:e.jsx(J,{className:"w-4 h-4"})}),s?.emailsSent||a.push({id:"send_emails",title:"Í±∞ÎûòÏ≤òÏóê Ïù¥Î©îÏùº Î∞úÏÜ°",description:"ÏÉùÏÑ±Îêú Î∞úÏ£ºÏÑúÎ•º Í±∞ÎûòÏ≤òÏóê Ïù¥Î©îÏùºÎ°ú Î∞úÏÜ°ÌïòÏÑ∏Ïöî",priority:"high",status:"pending",estimatedTime:"1-2Î∂Ñ",url:"/orders?action=send-email",icon:e.jsx(te,{className:"w-4 h-4"})}),s?.requiresApproval&&a.push({id:"request_approval",title:"ÏäπÏù∏ ÏöîÏ≤≠",description:"Î∞úÏ£ºÏÑú ÏäπÏù∏ÏùÑ ÏúÑÌï¥ ÏÉÅÍ∏âÏûêÏóêÍ≤å ÏäπÏù∏ ÏöîÏ≤≠ÏùÑ Î≥¥ÎÇ¥ÏÑ∏Ïöî",priority:"high",status:"pending",estimatedTime:"1Î∂Ñ",url:"/approvals/request",icon:e.jsx(se,{className:"w-4 h-4"})}),s?.totalAmount&&s.totalAmount>1e7&&a.push({id:"financial_review",title:"Ïû¨Î¨¥ Í≤ÄÌÜ† ÏöîÏ≤≠",description:"Í≥†Ïï° Î∞úÏ£ºÏÑúÎ°ú Ïù∏Ìï¥ Ïû¨Î¨¥ÌåÄ Í≤ÄÌÜ†Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§",priority:"medium",status:"recommended",estimatedTime:"5Î∂Ñ",url:"/financial-review",icon:e.jsx(Ue,{className:"w-4 h-4"})}),s?.vendorCount&&s.vendorCount>3&&a.push({id:"vendor_management",title:"Í±∞ÎûòÏ≤ò Í¥ÄÎ¶¨ Í≤ÄÌÜ†",description:"Îã§Ïàò Í±∞ÎûòÏ≤ò Î∞úÏ£ºÏÑúÏù¥ÎØÄÎ°ú Í±∞ÎûòÏ≤ò Ï†ïÎ≥¥Î•º Ïû¨Í≤ÄÌÜ†ÌïòÏÑ∏Ïöî",priority:"medium",status:"optional",estimatedTime:"3-5Î∂Ñ",url:"/vendors",icon:e.jsx(Ae,{className:"w-4 h-4"})}),a.push({id:"project_tracking",title:"ÌîÑÎ°úÏ†ùÌä∏ ÏßÑÌñâ ÏÉÅÌô© ÏóÖÎç∞Ïù¥Ìä∏",description:"ÌîÑÎ°úÏ†ùÌä∏ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖúÏóê Î∞úÏ£ºÏÑú Ï†ïÎ≥¥Î•º Î∞òÏòÅÌïòÏÑ∏Ïöî",priority:"low",status:"optional",estimatedTime:"2-3Î∂Ñ",url:"/projects",icon:e.jsx(Ue,{className:"w-4 h-4"})}),a})(),m=d.filter(a=>a.status==="pending"),o=d.filter(a=>a.status==="recommended"),p=d.filter(a=>a.status==="optional"),C=a=>{switch(a){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200"}},b=a=>{a.action?a.action():a.url&&(t?t(a.url):window.location.href=a.url)};return e.jsxs(O,{children:[e.jsx(q,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5 text-blue-600"}),"Îã§Ïùå Îã®Í≥Ñ ÏïàÎÇ¥"]})}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-orange-600 mb-1",children:m.length}),e.jsx("div",{className:"text-sm text-orange-700",children:"ÌïÑÏàò ÏûëÏóÖ"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600 mb-1",children:o.length}),e.jsx("div",{className:"text-sm text-blue-700",children:"Í∂åÏû• ÏûëÏóÖ"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-gray-600 mb-1",children:p.length}),e.jsx("div",{className:"text-sm text-gray-700",children:"ÏÑ†ÌÉù ÏûëÏóÖ"})]})]}),m.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-orange-700 flex items-center gap-2",children:[e.jsx(ys,{className:"w-4 h-4"}),"ÌïÑÏàò ÏûëÏóÖ"]}),m.map(a=>e.jsx("div",{className:"border border-orange-200 rounded-lg p-4 bg-orange-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"mt-1",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:a.title}),e.jsx(R,{className:C(a.priority),children:a.priority==="high"?"ÎÜíÏùå":a.priority==="medium"?"Î≥¥ÌÜµ":"ÎÇÆÏùå"}),a.estimatedTime&&e.jsx("span",{className:"text-xs text-gray-500",children:a.estimatedTime})]}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>b(a),className:"ml-2",children:"Ïã§Ìñâ"})]})},a.id))]}),o.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-blue-700 flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),"Í∂åÏû• ÏûëÏóÖ"]}),o.map(a=>e.jsx("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"mt-1",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:a.title}),e.jsx(R,{className:C(a.priority),children:a.priority==="high"?"ÎÜíÏùå":a.priority==="medium"?"Î≥¥ÌÜµ":"ÎÇÆÏùå"}),a.estimatedTime&&e.jsx("span",{className:"text-xs text-gray-500",children:a.estimatedTime})]}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>b(a),className:"ml-2",children:"Ïã§Ìñâ"})]})},a.id))]}),p.length>0&&e.jsxs("details",{className:"space-y-3",children:[e.jsxs("summary",{className:"font-semibold text-gray-700 cursor-pointer flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),"ÏÑ†ÌÉù ÏûëÏóÖ (",p.length,"Í∞ú)"]}),e.jsx("div",{className:"space-y-3 mt-3",children:p.map(a=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"mt-1",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:a.title}),e.jsx(R,{className:C(a.priority),children:a.priority==="high"?"ÎÜíÏùå":a.priority==="medium"?"Î≥¥ÌÜµ":"ÎÇÆÏùå"}),a.estimatedTime&&e.jsx("span",{className:"text-xs text-gray-500",children:a.estimatedTime})]}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>b(a),className:"ml-2",children:"Ïã§Ìñâ"})]})},a.id))})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"üí° ÎèÑÏõÄÎßê"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("p",{children:"‚Ä¢ ÌïÑÏàò ÏûëÏóÖÎ∂ÄÌÑ∞ ÏàúÏÑúÎåÄÎ°ú ÏßÑÌñâÌïòÏãúÎ©¥ Îê©ÎãàÎã§"}),e.jsx("p",{children:"‚Ä¢ Í∞Å ÏûëÏóÖÏùò ÏòàÏÉÅ ÏãúÍ∞ÑÏùÑ Ï∞∏Í≥†ÌïòÏó¨ Í≥ÑÌöçÏùÑ ÏÑ∏Ïö∞ÏÑ∏Ïöî"}),e.jsx("p",{children:"‚Ä¢ Î¨∏ÏùòÏÇ¨Ìï≠Ïù¥ ÏûàÏúºÏãúÎ©¥ ÏãúÏä§ÌÖú Í¥ÄÎ¶¨ÏûêÏóêÍ≤å Ïó∞ÎùΩÌïòÏÑ∏Ïöî"})]})]})]})]})},xt=({orderData:s,processingSteps:t=[],onViewOrders:n,onCreateNew:d,onViewPDF:m,onDownloadPDF:o,onSendEmail:p,onPrint:C,onShare:b,onArchive:a,onNavigate:g,disabled:N})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-6",children:[e.jsx(F,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Î∞úÏ£ºÏÑú ÏûëÏÑ±Ïù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§!"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Î™®Îì† Ï≤òÎ¶¨ Í≥ºÏ†ïÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§."})]}),e.jsx(it,{orderData:s}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.length>0&&e.jsx("div",{className:"lg:col-span-2",children:e.jsx(nt,{steps:t,showRetryButtons:!1})}),e.jsx(ot,{orderData:s,onViewPDF:m,onDownloadPDF:o,onSendEmail:p,onViewOrders:n,onCreateNew:d,onPrint:C,onArchive:a,onShare:b,disabled:N}),e.jsx(mt,{orderData:s,onNavigate:g})]})]}),ht=({onComplete:s,onCancel:t,className:n="",helpContent:d})=>{const{workflow:m,isProcessing:o,currentProcessingStep:p,canGoNext:C,canGoPrevious:b,goNext:a,goPrevious:g,goToStep:N,selectCreationMethod:A,submitOrderData:I,startProcessing:y,retryProcessingStep:_,progress:E,estimatedTime:x,saveProgress:W}=Js(),[T,w]=j.useState(!1),[P,c]=j.useState(!1),u=l=>{A(l)},r=()=>{W(),w(!0),setTimeout(()=>w(!1),3e3)},h=()=>{t&&t()},S=m.steps.find(l=>l.id===m.currentStep),i=m.steps.findIndex(l=>l.id===m.currentStep),f=()=>{switch(m.currentStep){case"select":return e.jsx(Qs,{onMethodSelect:u,disabled:o});case"create":return e.jsx(ye.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:e.jsx(lt,{method:m.creationMethod||"standard",onDataSubmit:I,disabled:o})});case"approve":return e.jsx(ye.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(ee,{className:"w-8 h-8 text-yellow-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ÏäπÏù∏ ÎåÄÍ∏∞ Ï§ë"}),e.jsx("p",{className:"text-gray-600",children:"ÏäπÏù∏ Í∂åÌïúÏûêÏùò Í≤ÄÌÜ†Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§."})]})});case"process":return e.jsx(tt,{steps:m.stepStates.processing.steps,currentStep:p,onRetry:_,isProcessing:o});case"complete":return e.jsx(ye.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:e.jsx(xt,{orderData:m.orderData,processingSteps:m.stepStates.processing.steps,onViewOrders:()=>{s?s(m.orderData):window.location.href="/orders"},onCreateNew:()=>{window.location.href="/create-order/unified"},onViewPDF:()=>{m.stepStates.completed.pdfUrl&&window.open(m.stepStates.completed.pdfUrl,"_blank")},onDownloadPDF:()=>{if(m.stepStates.completed.pdfUrl){const k=document.createElement("a");k.href=m.stepStates.completed.pdfUrl,k.download=`Î∞úÏ£ºÏÑú_${m.orderData?.orderNumber||"unknown"}.pdf`,document.body.appendChild(k),k.click(),document.body.removeChild(k)}},onSendEmail:()=>{console.log("Ïù¥Î©îÏùº Î∞úÏÜ° Í∏∞Îä• (Íµ¨ÌòÑ ÏòàÏ†ï)")},onPrint:()=>{window.print()},onShare:()=>{navigator.share&&m.orderData?.orderNumber&&navigator.share({title:`Î∞úÏ£ºÏÑú ${m.orderData.orderNumber}`,text:"Î∞úÏ£ºÏÑúÎ•º Í≥µÏú†Ìï©ÎãàÎã§.",url:window.location.href})},onArchive:()=>{console.log("Î≥¥Í¥ÄÌïòÍ∏∞ Í∏∞Îä• (Íµ¨ÌòÑ ÏòàÏ†ï)")},onNavigate:k=>{window.location.href=k},disabled:o})});default:return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(Ne,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ïïå Ïàò ÏóÜÎäî Îã®Í≥Ñ"}),e.jsx("p",{className:"text-gray-600",children:"ÌòÑÏû¨ Îã®Í≥ÑÎ•º Ïù∏ÏãùÌï† Ïàò ÏóÜÏäµÎãàÎã§."})]})}};return e.jsxs("div",{className:`h-screen flex flex-col bg-gray-50 ${n}`,children:[e.jsx("div",{className:"bg-white border-b border-gray-200 flex-shrink-0",children:e.jsx("div",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Î∞úÏ£ºÏÑú ÏûëÏÑ±"}),e.jsx("div",{className:"h-4 w-px bg-gray-300"}),e.jsx("span",{className:"text-sm text-gray-600",children:S?.title})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(v,{variant:"ghost",size:"sm",onClick:r,disabled:o,className:"text-gray-600 hover:text-gray-900",children:[e.jsx(De,{className:"w-4 h-4 mr-1"}),"Ï†ÄÏû•"]}),e.jsxs(v,{variant:"ghost",size:"sm",onClick:h,disabled:o,className:"text-gray-600 hover:text-gray-900",children:[e.jsx(Ne,{className:"w-4 h-4 mr-1"}),"Ï∑®ÏÜå"]})]})]})})}),T&&e.jsx("div",{className:"absolute top-16 right-6 z-50",children:e.jsxs(le,{className:"border-green-200 bg-green-50 shadow-lg",children:[e.jsx(De,{className:"h-4 w-4 text-green-600"}),e.jsx(ie,{className:"text-green-800",children:"Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§"})]})}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:`bg-white border-r border-gray-200 flex-shrink-0 transition-all duration-300 ${P?"w-16":"w-80"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>c(!P),className:"w-full justify-between",children:[!P&&e.jsx("span",{className:"text-sm font-medium",children:"ÏßÑÌñâ ÏÉÅÌô©"}),P?e.jsx(cs,{className:"w-4 h-4"}):e.jsx(bs,{className:"w-4 h-4"})]})}),!P&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-4",children:m.steps.map((l,k)=>{const z=l.id===m.currentStep,K=k<i,oe=k<=i;return e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${K?"bg-green-500 text-white":z?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:K?"‚úì":k+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("button",{onClick:()=>oe&&N(l.id),disabled:!oe,className:`text-left w-full ${oe?"cursor-pointer hover:text-blue-600":"cursor-not-allowed"}`,children:[e.jsx("h3",{className:`text-sm font-medium truncate ${z?"text-blue-600":K?"text-green-600":"text-gray-700"}`,children:l.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:l.description})]}),z&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-300",style:{width:`${E}%`}})}),x&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ÏòàÏÉÅ ÏÜåÏöî: ",x]})]})]})]},l.id)})})}),e.jsxs("div",{className:"p-4 border-t border-gray-100 space-y-2",children:[e.jsxs(v,{variant:"outline",size:"sm",onClick:g,disabled:!b||o,className:"w-full justify-start",children:[e.jsx(ws,{className:"w-4 h-4 mr-2"}),"Ïù¥Ï†Ñ Îã®Í≥Ñ"]}),m.currentStep==="process"?e.jsx(v,{onClick:y,disabled:o||!C,className:"w-full justify-start",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Ï≤òÎ¶¨ Ï§ë..."]}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Ï≤òÎ¶¨ ÏãúÏûë"]})}):m.currentStep==="complete"?e.jsx(v,{onClick:()=>s?.(m.orderData),className:"w-full justify-start bg-green-600 hover:bg-green-700",children:"ÏôÑÎ£å"}):e.jsxs(v,{onClick:a,disabled:!C||o,className:"w-full justify-start",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Îã§Ïùå Îã®Í≥Ñ"]})]})]}),P&&e.jsx("div",{className:"p-2",children:e.jsx("div",{className:"space-y-2",children:m.steps.map((l,k)=>{const z=l.id===m.currentStep,K=k<i;return e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${K?"bg-green-500 text-white":z?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:K?"‚úì":k+1})},l.id)})})})]}),e.jsxs("div",{className:"flex-1 overflow-auto flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsx("div",{className:"max-w-[1366px] mx-auto",children:e.jsx(O,{className:"h-full shadow-sm",children:e.jsxs($,{className:"h-full p-6 flex flex-col",children:[e.jsxs("div",{className:"flex-shrink-0 mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:S?.title}),e.jsx("p",{className:"text-gray-600 mt-1",children:S?.description})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:f()})]})})})}),d&&e.jsx("div",{className:"flex-shrink-0",children:d})]})]})]})},ut=s=>e.jsx(_s,{children:e.jsx(ht,{...s})});function aa(){const{user:s}=Ge(),{toast:t}=We(),[n,d]=ds();new URLSearchParams(window.location.search).get("method"),j.useEffect(()=>{if(!s){d("/login");return}t({title:"ÌÜµÌï© Î∞úÏ£ºÏÑú ÏûëÏÑ±",description:"ÏÉàÎ°úÏö¥ ÌÜµÌï© ÏõåÌÅ¨ÌîåÎ°úÏö∞Î°ú Î∞úÏ£ºÏÑúÎ•º ÏûëÏÑ±Ìï¥Î≥¥ÏÑ∏Ïöî"})},[s,d,t]);const o=C=>{t({title:"Î∞úÏ£ºÏÑú ÏûëÏÑ± ÏôÑÎ£å",description:"Î∞úÏ£ºÏÑúÍ∞Ä ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§"}),d("/orders")},p=()=>{window.confirm("ÏûëÏÑ± Ï§ëÏù∏ Î∞úÏ£ºÏÑúÎ•º Ï∑®ÏÜåÌïòÏãúÍ≤†ÏäµÎãàÍπå? Ï†ÄÏû•ÎêòÏßÄ ÏïäÏùÄ ÎÇ¥Ïö©ÏùÄ ÏÇ¨ÎùºÏßëÎãàÎã§.")&&(t({title:"ÏûëÏóÖ Ï∑®ÏÜåÎê®",description:"Î∞úÏ£ºÏÑú ÏûëÏÑ±Ïù¥ Ï∑®ÏÜåÎêòÏóàÏäµÎãàÎã§",variant:"destructive"}),d("/dashboard"))};return s?e.jsx(ut,{onComplete:o,onCancel:p,helpContent:e.jsx("div",{className:"bg-white border-t border-gray-200",children:e.jsx("div",{className:"max-w-[1366px] mx-auto px-6 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"üìã Î∞©Ïãù ÏÑ†ÌÉù"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ÌîÑÎ°úÏ†ùÌä∏ ÏöîÍµ¨ÏÇ¨Ìï≠Ïóê ÎßûÎäî Î∞úÏ£ºÏÑú ÏûëÏÑ± Î∞©ÏãùÏùÑ ÏÑ†ÌÉùÌïòÏÑ∏Ïöî. Í∞Å Î∞©ÏãùÏùò Ïû•Îã®Ï†êÏùÑ ÎπÑÍµêÌïòÏó¨ ÏµúÏ†ÅÏùò ÏÑ†ÌÉùÏùÑ Ìï† Ïàò ÏûàÏäµÎãàÎã§."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"‚öôÔ∏è ÏûêÎèô Ï≤òÎ¶¨"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Î∞úÏ£ºÏÑú ÏÉùÏÑ± ÌõÑ PDF Î≥ÄÌôò, Í±∞ÎûòÏ≤ò Í≤ÄÏ¶ù, Ïù¥Î©îÏùº Î∞úÏÜ°ÍπåÏßÄ Î™®Îì† Í≥ºÏ†ïÏù¥ ÏûêÎèôÏúºÎ°ú Ï≤òÎ¶¨Îê©ÎãàÎã§."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"üíæ ÏûêÎèô Ï†ÄÏû•"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ÏûëÏóÖ ÏßÑÌñâ ÏÉÅÌô©Ïù¥ ÏûêÎèôÏúºÎ°ú Ï†ÄÏû•ÎêòÏñ¥ Ï§ëÍ∞ÑÏóê Ï§ëÎã®ÎêòÏñ¥ÎèÑ Ïù¥Ïñ¥ÏÑú ÏûëÏóÖÌï† Ïàò ÏûàÏäµÎãàÎã§."})]})]})})})}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Î°úÍ∑∏Ïù∏ ÌôïÏù∏ Ï§ë..."})]})})}export{aa as default};
