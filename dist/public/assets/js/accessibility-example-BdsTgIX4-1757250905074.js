import{r as h,j as e,aj as y,b3 as C,ah as G,y as Y,bs as J,H as M,b as R,I as W,B as Q,v as X,Y as Z,bt as _,bu as ee,bv as se,bw as ae,bx as re,by as P,w as E,ab as D,ac as F,b4 as te,x as $,o as T,bz as ne,bA as le,bB as ie,bC as ce,bD as oe,bE as de}from"./index-Cq6EQ2nX-1757250905074.js";import{T as me}from"./triangle-alert-NfNnW1_3-1757250905074.js";function z({message:s,priority:t="polite",clear:r=!0}){const i=h.useRef(null);return h.useEffect(()=>{if(i.current&&s&&(i.current.textContent=s,r)){const n=setTimeout(()=>{i.current&&(i.current.textContent="")},1e3);return()=>clearTimeout(n)}},[s,r]),e.jsx("div",{ref:i,className:"sr-only","aria-live":t,"aria-atomic":"true"})}function q({children:s,as:t="span",className:r}){return e.jsx(t,{className:y("sr-only",r),children:s})}function xe({status:s,type:t="info",announce:r=!0}){const[i,n]=C.useState("");h.useEffect(()=>{if(r&&s){const l={info:"정보:",success:"성공:",warning:"경고:",error:"오류:"}[t];n(`${l} ${s}`)}},[s,t,r]);const c=t==="error"?"assertive":"polite";return e.jsx(z,{message:i,priority:c})}function ue({isLoading:s,loadingText:t="로딩 중...",completeText:r="로딩 완료"}){const[i,n]=C.useState(""),c=h.useRef(!1);return h.useEffect(()=>{s&&!c.current?(n(t),c.current=!0):!s&&c.current&&(n(r),c.current=!1)},[s,t,r]),e.jsx(z,{message:i})}const B=h.forwardRef(({id:s,label:t,type:r="text",value:i,onChange:n,onBlur:c,required:l,error:d,success:b,helperText:x,placeholder:m,disabled:g,autoComplete:j,className:v},u)=>{const f=!!d,p=!!b,N=!!x,k=[f&&`${s}-error`,p&&`${s}-success`,N&&`${s}-helper`].filter(Boolean).join(" ")||void 0;return e.jsxs("div",{className:y("space-y-2",v),children:[e.jsxs(G,{htmlFor:s,className:"text-sm font-medium text-gray-700",children:[t,l&&e.jsx("span",{className:"text-red-500 ml-1","aria-label":"필수 항목",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Y,{ref:u,id:s,type:r,value:i,onChange:o=>n(o.target.value),onBlur:c,placeholder:m,disabled:g,required:l,autoComplete:j,"aria-invalid":f,"aria-describedby":k,className:y(J,f&&"border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500",p&&"border-green-300 text-green-900 placeholder-green-300 focus:border-green-500 focus:ring-green-500")}),e.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:[f&&e.jsx(M,{className:"h-5 w-5 text-red-500","aria-hidden":"true"}),p&&!f&&e.jsx(R,{className:"h-5 w-5 text-green-500","aria-hidden":"true"})]})]}),d&&e.jsxs("div",{id:`${s}-error`,role:"alert",className:"flex items-center text-sm text-red-600",children:[e.jsx(M,{className:"h-4 w-4 mr-1 flex-shrink-0","aria-hidden":"true"}),d]}),b&&!d&&e.jsxs("div",{id:`${s}-success`,className:"flex items-center text-sm text-green-600",children:[e.jsx(R,{className:"h-4 w-4 mr-1 flex-shrink-0","aria-hidden":"true"}),b]}),x&&e.jsxs("div",{id:`${s}-helper`,className:"flex items-center text-sm text-gray-600",children:[e.jsx(W,{className:"h-4 w-4 mr-1 flex-shrink-0","aria-hidden":"true"}),x]})]})});B.displayName="AccessibleFormField";function H({id:s,label:t,value:r,onChange:i,options:n,placeholder:c="선택하세요",required:l,error:d,disabled:b,className:x}){const[m,g]=C.useState(!1),[j,v]=C.useState(-1),u=C.useRef(null),f=C.useRef([]),p=n.find(o=>o.value===r),N=!!d,k=o=>{switch(o.key){case"Enter":case" ":o.preventDefault(),m?j>=0&&(i(n[j].value),g(!1)):(g(!0),v(0));break;case"ArrowDown":o.preventDefault(),m?v(S=>Math.min(n.length-1,S+1)):(g(!0),v(0));break;case"ArrowUp":o.preventDefault(),m&&v(S=>Math.max(0,S-1));break;case"Escape":o.preventDefault(),g(!1),u.current?.focus();break;case"Tab":g(!1);break}};return C.useEffect(()=>{m&&j>=0&&f.current[j]&&f.current[j]?.scrollIntoView({block:"nearest"})},[j,m]),e.jsxs("div",{className:y("space-y-2",x),children:[e.jsxs(G,{htmlFor:s,className:"text-sm font-medium text-gray-700",children:[t,l&&e.jsx("span",{className:"text-red-500 ml-1","aria-label":"필수 항목",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{ref:u,id:s,type:"button",disabled:b,"aria-haspopup":"listbox","aria-expanded":m,"aria-labelledby":`${s}-label`,"aria-describedby":N?`${s}-error`:void 0,"aria-invalid":N,onClick:()=>g(!m),onKeyDown:k,className:y("w-full px-3 py-2 text-left bg-white border rounded-md shadow-sm","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",N&&"border-red-300 text-red-900 focus:border-red-500 focus:ring-red-500",!N&&"border-gray-300 text-gray-900"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:p?"text-gray-900":"text-gray-500",children:p?p.label:c}),e.jsx(X,{className:y("h-5 w-5 text-gray-400 transition-transform",m&&"rotate-180"),"aria-hidden":"true"})]})}),m&&e.jsx("div",{role:"listbox",className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:n.map((o,S)=>e.jsx("button",{ref:K=>f.current[S]=K,role:"option",type:"button",disabled:o.disabled,"aria-selected":j===S,onClick:()=>{i(o.value),g(!1),u.current?.focus()},className:y("w-full px-3 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none","disabled:opacity-50 disabled:cursor-not-allowed",j===S&&"bg-primary-50 text-primary-700",r===o.value&&"bg-primary-100 text-primary-800"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:o.label}),r===o.value&&e.jsx(Z,{className:"h-4 w-4 text-primary-600","aria-hidden":"true"})]})},o.value))})]}),d&&e.jsxs("div",{id:`${s}-error`,role:"alert",className:"flex items-center text-sm text-red-600",children:[e.jsx(M,{className:"h-4 w-4 mr-1 flex-shrink-0","aria-hidden":"true"}),d]})]})}function I({type:s,title:t,children:r,dismissible:i=!1,onDismiss:n,className:c}){const l={info:W,success:R,warning:me,error:M},d={info:"bg-blue-50 border-blue-200 text-blue-800",success:"bg-green-50 border-green-200 text-green-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",error:"bg-red-50 border-red-200 text-red-800"},b={info:"text-blue-400",success:"text-green-400",warning:"text-yellow-400",error:"text-red-400"},x=l[s],m=s==="error"?"alert":"status",g=s==="error"?"assertive":"polite";return e.jsx("div",{role:m,"aria-live":g,className:y("p-4 border rounded-md",d[s],c),children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(x,{className:y("h-5 w-5",b[s]),"aria-hidden":"true"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[t&&e.jsx("h3",{className:"text-sm font-medium mb-1",children:t}),e.jsx("div",{className:"text-sm",children:r})]}),i&&n&&e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("button",{type:"button",onClick:n,className:y("inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2",s==="info"&&"text-blue-500 hover:bg-blue-100 focus:ring-blue-600",s==="success"&&"text-green-500 hover:bg-green-100 focus:ring-green-600",s==="warning"&&"text-yellow-500 hover:bg-yellow-100 focus:ring-yellow-600",s==="error"&&"text-red-500 hover:bg-red-100 focus:ring-red-600"),"aria-label":"알림 닫기",children:e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})})]})})}const A=h.forwardRef(({variant:s="primary",size:t="default",loading:r=!1,loadingText:i="로딩 중...",disabled:n,className:c,children:l,...d},b)=>{const x={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},m={sm:"px-3 py-1.5 text-sm",default:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return e.jsxs(Q,{ref:b,disabled:n||r,"aria-busy":r,className:y("inline-flex items-center justify-center font-medium rounded-md transition-colors","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",x[s],m[t],c),...d,children:[r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent mr-2"}),e.jsx(q,{children:i})]}),l]})});A.displayName="AccessibleButton";function he({value:s,max:t=100,label:r="진행률",showPercentage:i=!0,announceChanges:n=!1,className:c}){const l=Math.round(s/t*100),[d,b]=C.useState(""),x=C.useRef(l);return C.useEffect(()=>{n&&l!==x.current&&(b(`${r} ${l}% 완료`),x.current=l)},[l,r,n]),e.jsxs("div",{className:y("space-y-2",c),children:[n&&e.jsx(z,{message:d}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:r}),i&&e.jsxs("span",{className:"text-sm text-gray-500",children:[l,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":t,"aria-label":`${r} ${l}% 완료`,className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`}})})]})}function je(){const[s,t]=h.useState({name:"",email:"",company:"",role:"",department:"",message:""}),[r,i]=h.useState({}),[n,c]=h.useState(!1),[l,d]=h.useState("idle"),[b,x]=h.useState(0),[m,g]=h.useState("form"),[j,v]=h.useState(!1),[u,f]=h.useState([]),{textSize:p}=_(),{isHighContrast:N,contrastLevel:k}=ee(),{prefersReducedMotion:o}=se(),S=[{value:"developer",label:"개발자"},{value:"designer",label:"디자이너"},{value:"manager",label:"매니저"},{value:"admin",label:"관리자"}],K=[{value:"engineering",label:"개발팀"},{value:"design",label:"디자인팀"},{value:"marketing",label:"마케팅팀"},{value:"sales",label:"영업팀"}],U=()=>{const a={};return s.name.trim()||(a.name="이름은 필수 항목입니다"),s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(a.email="올바른 이메일 형식이 아닙니다"):a.email="이메일은 필수 항목입니다",s.company.trim()||(a.company="회사명은 필수 항목입니다"),i(a),Object.keys(a).length===0},L=async a=>{if(a.preventDefault(),!U()){d("error");return}c(!0),x(0);const w=setInterval(()=>{x(O=>O>=100?(clearInterval(w),100):O+20)},500);setTimeout(()=>{c(!1),d("success"),x(100)},3e3)};ae([{key:"s",ctrlKey:!0,action:a=>{a.preventDefault(),n||L(a)},description:"폼 제출"},{key:"m",altKey:!0,action:()=>v(!0),description:"모달 열기"}]);const V=[{id:"form",label:"접근성 폼",content:e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{type:"info",title:"접근성 정보",dismissible:!0,onDismiss:()=>{},children:"이 폼은 WCAG 2.1 AA 기준을 준수하여 제작되었습니다. 키보드 탐색, 스크린 리더, 고대비 모드를 모두 지원합니다."}),e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(B,{id:"name",label:"이름",value:s.name,onChange:a=>t({...s,name:a}),required:!0,error:r.name,placeholder:"이름을 입력하세요",autoComplete:"name"}),e.jsx(B,{id:"email",label:"이메일",type:"email",value:s.email,onChange:a=>t({...s,email:a}),required:!0,error:r.email,placeholder:"email@example.com",autoComplete:"email"})]}),e.jsx(B,{id:"company",label:"회사명",value:s.company,onChange:a=>t({...s,company:a}),required:!0,error:r.company,placeholder:"회사명을 입력하세요",autoComplete:"organization"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(H,{id:"role",label:"역할",value:s.role,onChange:a=>t({...s,role:a}),options:S,placeholder:"역할을 선택하세요"}),e.jsx(H,{id:"department",label:"부서",value:s.department,onChange:a=>t({...s,department:a}),options:K,placeholder:"부서를 선택하세요"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"메시지"}),e.jsx("textarea",{id:"message",rows:4,value:s.message,onChange:a=>t({...s,message:a.target.value}),placeholder:"메시지를 입력하세요",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500","aria-describedby":"message-help"}),e.jsx("p",{id:"message-help",className:"mt-1 text-sm text-gray-500",children:"선택사항: 추가 정보나 요청사항을 입력하세요."})]}),n&&e.jsx(he,{value:b,label:"폼 제출",announceChanges:!0,showPercentage:!0}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(A,{type:"submit",loading:n,loadingText:"제출 중...",disabled:n,children:"제출하기 (Ctrl+S)"}),e.jsx(A,{type:"button",variant:"secondary",onClick:()=>t({name:"",email:"",company:"",role:"",department:"",message:""}),disabled:n,children:"초기화"})]})]}),l==="success"&&e.jsx(I,{type:"success",title:"제출 완료",children:"폼이 성공적으로 제출되었습니다."}),l==="error"&&e.jsx(I,{type:"error",title:"제출 실패",children:"필수 항목을 모두 입력해주세요."}),e.jsx(ue,{isLoading:n,loadingText:"폼을 제출하는 중입니다...",completeText:"폼 제출이 완료되었습니다"}),e.jsx(xe,{status:l==="success"?"폼이 성공적으로 제출되었습니다":"",type:"success",announce:l==="success"})]})},{id:"navigation",label:"키보드 내비게이션",content:e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{type:"info",title:"키보드 내비게이션 테스트",children:"Tab, Shift+Tab, 방향키, Enter, Space, Escape 키를 사용하여 탐색해보세요."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"포커스 가능한 요소들"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["버튼 1","버튼 2","버튼 3","버튼 4"].map((a,w)=>e.jsx(A,{variant:w%2===0?"primary":"secondary",onClick:()=>f([...u,`${a} 클릭됨`]),children:a},w))})]}),e.jsx(re,{onNavigate:a=>{f([...u,`${a} 방향으로 이동`])},onSelect:()=>{f([...u,"항목 선택됨"])},onEscape:()=>{f([...u,"Escape 키 눌림"])},className:"p-4 border-2 border-dashed border-gray-300 rounded-lg",children:e.jsxs("div",{className:"text-center text-gray-600",children:[e.jsx(P,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"방향키로 탐색, Enter로 선택, Escape로 종료"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"키보드 액션 로그"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded-md h-32 overflow-y-auto",children:u.length===0?e.jsx("p",{className:"text-gray-500 text-sm",children:"키보드 액션이 여기에 표시됩니다"}):u.map((a,w)=>e.jsx("div",{className:"text-sm py-1",children:a},w))})]})]})},{id:"status",label:"접근성 상태",content:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(E,{children:[e.jsx(D,{children:e.jsxs(F,{className:"flex items-center",children:[e.jsx(te,{className:"h-5 w-5 mr-2"}),"현재 설정"]})}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"글자 크기"}),e.jsxs(T,{variant:"outline",children:[p==="small"&&"작게",p==="normal"&&"보통",p==="large"&&"크게",p==="extra-large"&&"매우 크게"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"고대비 모드"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{variant:N?"default":"outline",children:N?"켜짐":"꺼짐"}),N&&e.jsx(T,{variant:"secondary",className:"text-xs",children:k})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"애니메이션 감소"}),e.jsx(T,{variant:o?"default":"outline",children:o?"켜짐":"꺼짐"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"키보드 단축키"}),e.jsx(T,{variant:"default",children:"활성화됨"})]})]})]}),e.jsxs(E,{children:[e.jsx(D,{children:e.jsxs(F,{className:"flex items-center",children:[e.jsx(R,{className:"h-5 w-5 mr-2 text-green-500"}),"지원 기능"]})}),e.jsx($,{className:"space-y-3",children:["WCAG 2.1 AA 준수","키보드 탐색 지원","스크린 리더 최적화","고대비 모드","확대/축소 가능한 텍스트","포커스 관리","ARIA 레이블","실시간 알림"].map((a,w)=>e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(R,{className:"h-4 w-4 mr-2 text-green-500 flex-shrink-0"}),a]},w))})]})]}),e.jsxs(E,{children:[e.jsx(D,{children:e.jsxs(F,{className:"flex items-center",children:[e.jsx(P,{className:"h-5 w-5 mr-2"}),"키보드 단축키"]})}),e.jsx($,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{keys:"Ctrl + S",action:"폼 제출"},{keys:"Alt + H",action:"고대비 모드 토글"},{keys:"Ctrl + +",action:"글자 크기 확대"},{keys:"Ctrl + -",action:"글자 크기 축소"},{keys:"Alt + ?",action:"단축키 목록 보기"},{keys:"Alt + M",action:"모달 열기"},{keys:"Tab",action:"다음 요소로 이동"},{keys:"Shift + Tab",action:"이전 요소로 이동"}].map((a,w)=>e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm",children:a.action}),e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:a.keys})]},w))})})]})]})}];return e.jsx(ne,{children:e.jsx(le,{children:e.jsx(ie,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ce,{}),e.jsx("main",{id:"main-content",className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"접근성 구현 예시"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"WCAG 2.1 AA 기준을 준수한 완전한 접근성 구현을 보여주는 예시입니다. 키보드 탐색, 스크린 리더, 고대비 모드를 모두 지원합니다."})]}),e.jsx(E,{children:e.jsx($,{className:"p-6",children:e.jsx(oe,{tabs:V,activeTab:m,onTabChange:g})})}),e.jsx("div",{className:"text-center",children:e.jsx(A,{onClick:()=>v(!0),variant:"secondary",children:"접근성 모달 열기 (Alt+M)"})}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(de,{enabled:j,children:e.jsxs(E,{className:"w-full max-w-md mx-4",children:[e.jsx(D,{children:e.jsx(F,{children:"접근성 모달"})}),e.jsxs($,{className:"space-y-4",children:[e.jsx("p",{children:"이 모달은 포커스 트랩을 사용하여 키보드 탐색을 모달 내부로 제한합니다."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{onClick:()=>v(!1),variant:"primary",children:"확인"}),e.jsx(A,{onClick:()=>v(!1),variant:"secondary",children:"취소"})]})]})]})})})]})}),e.jsx(q,{children:e.jsx("p",{children:"이 페이지는 웹 접근성 지침을 준수하여 제작되었습니다. 키보드만으로도 모든 기능을 사용할 수 있습니다."})}),u.length>0&&e.jsx(z,{message:u[u.length-1],priority:"polite"})]})})})})}export{je as AccessibilityExample};
