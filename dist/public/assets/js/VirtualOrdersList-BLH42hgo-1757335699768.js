import{j as e,F as j,o as g,l as p,aZ as u,f as N,m as v,a3 as k,B as I}from"./index-D-PHG7W0-1757335699768.js";import{InfiniteVirtualList as O,VirtualScrollList as A}from"./VirtualScrollList-DUKSUnxi-1757335699768.js";import{C as y}from"./calendar-DtYzE_hc-1757335699768.js";import{D as B}from"./dollar-sign-D2iTj2yD-1757335699768.js";const f={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",sent:"bg-blue-100 text-blue-800 border-blue-200",cancelled:"bg-red-100 text-red-800 border-red-200",draft:"bg-gray-100 text-gray-800 border-gray-200"},b={pending:"승인대기",approved:"승인완료",sent:"발송완료",cancelled:"취소됨",draft:"임시저장"},V={high:"text-red-600",medium:"text-yellow-600",low:"text-green-600"};function $({order:s,onClick:r,onAction:i,isVisible:t=!0}){return t?e.jsx("div",{className:"p-4 border-b border-gray-200 hover:bg-gray-50 transition-colors cursor-pointer group",onClick:()=>r?.(s),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(j,{className:"h-5 w-5 text-blue-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:s.title}),s.priority&&e.jsx("span",{className:`text-xs font-medium ${V[s.priority]}`,children:s.priority==="high"?"긴급":s.priority==="medium"?"보통":"낮음"})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[s.projectName&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(p,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-32",children:s.projectName})]}),s.vendorName&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(k,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-32",children:s.vendorName})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(y,{className:"h-3 w-3"}),e.jsx("span",{children:u(s.createdAt)})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-sm font-medium text-gray-900",children:[e.jsx(B,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{children:N(s.amount)})]}),e.jsx(g,{variant:"outline",className:`text-xs mt-1 ${f[s.status]}`,children:b[s.status]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[s.status==="pending"&&e.jsx(I,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs",onClick:l=>{l.stopPropagation(),i?.(s,"approve")},children:"승인"}),e.jsx(v,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600"})]})]})]})}):e.jsxs("div",{className:"p-4 border-b border-gray-200 animate-pulse",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})}function R({orders:s,onOrderClick:r,onOrderAction:i,containerHeight:t=600,enableInfiniteScroll:l=!1,hasNextPage:a,isFetchingNextPage:m,fetchNextPage:w,isLoading:C=!1}){const d=(c,L,x=!0)=>e.jsx($,{order:c,onClick:r,onAction:i,isVisible:x},c.id),n="발주서가 없습니다",o=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[e.jsx(j,{className:"h-12 w-12 text-gray-300 mb-4"}),e.jsx("p",{className:"text-sm",children:n}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"새 발주서를 생성해보세요"})]}),h=({count:c})=>e.jsx("div",{className:"space-y-1",children:Array.from({length:c}).map((L,x)=>e.jsx("div",{className:"p-4 border-b border-gray-200 animate-pulse",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),e.jsxs("div",{className:"space-y-1 text-right",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})]})]})},x))});return l?e.jsx(O,{items:s,renderItem:d,itemHeight:88,containerHeight:t,className:"border rounded-lg bg-white",hasNextPage:a,isFetchingNextPage:m,fetchNextPage:w,emptyMessage:n,EmptyComponent:o,LoadingComponent:h,scrollEndThreshold:200,overscan:3}):e.jsx(A,{items:s,renderItem:d,itemHeight:88,containerHeight:t,className:"border rounded-lg bg-white",isLoading:C,emptyMessage:n,EmptyComponent:o,LoadingComponent:h,overscan:3})}function S({orders:s,onOrderClick:r,columnCount:i=3,containerHeight:t=600}){const l=(a,m)=>e.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r?.(a),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(g,{variant:"outline",className:`text-xs ${f[a.status]}`,children:b[a.status]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["#",a.id]})]}),e.jsx("h3",{className:"font-medium text-sm text-gray-900 mb-2 line-clamp-2",children:a.title}),e.jsxs("div",{className:"space-y-1 text-xs text-gray-500 mb-3",children:[a.projectName&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(p,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:a.projectName})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(y,{className:"h-3 w-3"}),e.jsx("span",{children:u(a.createdAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:N(a.amount)}),e.jsx(v,{className:"h-4 w-4 text-gray-400"})]})]},a.id);return e.jsx("div",{className:"p-4",children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${i}, 1fr)`,gap:"1rem",height:t,overflow:"auto"},children:s.map(l)})})}export{S as VirtualOrdersGrid,R as VirtualOrdersList};
