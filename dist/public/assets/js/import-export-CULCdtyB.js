import{c as R,g as F,r as n,j as e,M,Q as B,V as O,at as P,N as H,X as o,B as S,i as E,aZ as k,I as G,b as I,u as Q}from"./index-BkwhTr3n.js";import{P as X}from"./page-header-CVnO5_ju.js";import{T as Z,a as q,b as T,c as V}from"./tabs-Iwafn9ax.js";import{S as b,a as p,b as N,c as v,d as i}from"./select-C8kzM0EG.js";import{A as D,a as L}from"./alert-BOEQANCL.js";import{D as z}from"./download-4-f23bFe.js";import{U as J}from"./upload-DtfUK6jS.js";import"./index-Tk5NlhhC.js";import"./chevron-down-BPayUNt4.js";import"./chevron-up-IbiYjp-K.js";function K(){R();const{theme:d}=F(),s=d==="dark",[a,h]=n.useState("vendors"),[r,U]=n.useState("excel"),[x,f]=n.useState(null),[y,w]=n.useState(!1),[c,$]=n.useState(null),[C,j]=n.useState(null),u={vendors:"ê±°ë˜ì²˜",projects:"í˜„ì¥",purchase_orders:"ë°œì£¼ì„œ"},_=async()=>{try{const t=await fetch(`/api/export/${a}?format=${r}`,{method:"GET",credentials:"include"});if(!t.ok)throw new Error("Export failed");const l=await t.blob(),g=window.URL.createObjectURL(l),m=document.createElement("a");m.href=g,m.download=`${a}_${new Date().toISOString().split("T")[0]}.${r==="csv"?"csv":"xlsx"}`,document.body.appendChild(m),m.click(),window.URL.revokeObjectURL(g),document.body.removeChild(m)}catch(t){j("ë‚´ë³´ë‚´ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."),console.error("Export error:",t)}},A=async()=>{if(!x){j("íŒŒì¼ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.");return}w(!0),j(null),$(null);const t=new FormData;t.append("file",x);try{const l=await fetch(`/api/import/${a}`,{method:"POST",credentials:"include",body:t});if(!l.ok)throw new Error("Import failed");const g=await l.json();$(g),f(null)}catch(l){j("ê°€ì ¸ì˜¤ê¸° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."),console.error("Import error:",l)}finally{w(!1)}};return e.jsxs(M,{className:`w-full max-w-4xl mx-auto shadow-sm transition-colors ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs(B,{children:[e.jsx(O,{className:`transition-colors ${s?"text-white":"text-gray-900"}`,children:"ë°ì´í„° ê°€ì ¸ì˜¤ê¸°/ë‚´ë³´ë‚´ê¸°"}),e.jsx(P,{className:`transition-colors ${s?"text-gray-400":"text-gray-600"}`,children:"ì—‘ì…€ ë˜ëŠ” CSV íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì¼ê´„ë¡œ ê°€ì ¸ì˜¤ê±°ë‚˜ ë‚´ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."})]}),e.jsxs(H,{children:[e.jsxs(Z,{defaultValue:"export",className:"w-full",children:[e.jsxs(q,{className:`grid w-full grid-cols-2 transition-colors ${s?"bg-gray-700":"bg-gray-100"}`,children:[e.jsx(T,{value:"export",className:`transition-colors ${s?"data-[state=active]:bg-gray-600 data-[state=active]:text-white":"data-[state=active]:bg-white data-[state=active]:text-gray-900"}`,children:"ë‚´ë³´ë‚´ê¸°"}),e.jsx(T,{value:"import",className:`transition-colors ${s?"data-[state=active]:bg-gray-600 data-[state=active]:text-white":"data-[state=active]:bg-white data-[state=active]:text-gray-900"}`,children:"ê°€ì ¸ì˜¤ê¸°"})]}),e.jsxs(V,{value:"export",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:`transition-colors ${s?"text-gray-300":"text-gray-700"}`,children:"ë°ì´í„° ìœ í˜•"}),e.jsxs(b,{value:a,onValueChange:t=>h(t),children:[e.jsx(p,{children:e.jsx(N,{})}),e.jsxs(v,{children:[e.jsx(i,{value:"vendors",children:"ê±°ë˜ì²˜"}),e.jsx(i,{value:"projects",children:"í˜„ì¥"}),e.jsx(i,{value:"purchase_orders",children:"ë°œì£¼ì„œ"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:`transition-colors ${s?"text-gray-300":"text-gray-700"}`,children:"íŒŒì¼ í˜•ì‹"}),e.jsxs(b,{value:r,onValueChange:t=>U(t),children:[e.jsx(p,{children:e.jsx(N,{})}),e.jsxs(v,{children:[e.jsx(i,{value:"excel",children:"Excel (.xlsx)"}),e.jsx(i,{value:"csv",children:"CSV (.csv)"})]})]})]})]}),e.jsxs(S,{onClick:_,className:"w-full",children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),u[a]," ë°ì´í„° ë‚´ë³´ë‚´ê¸°"]})]}),e.jsxs(V,{value:"import",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white text-sm font-medium rounded-full flex items-center justify-center",children:"1"}),e.jsx(o,{className:`text-base font-medium transition-colors ${s?"text-gray-300":"text-gray-700"}`,children:"ë°ì´í„° ìœ í˜• ì„ íƒ"})]}),e.jsxs(b,{value:a,onValueChange:t=>h(t),children:[e.jsx(p,{className:"max-w-sm",children:e.jsx(N,{placeholder:"ê°€ì ¸ì˜¬ ë°ì´í„° ìœ í˜•ì„ ì„ íƒí•˜ì„¸ìš”"})}),e.jsxs(v,{children:[e.jsx(i,{value:"vendors",children:"ê±°ë˜ì²˜"}),e.jsx(i,{value:"projects",children:"í˜„ì¥"}),e.jsx(i,{value:"purchase_orders",children:"ë°œì£¼ì„œ"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white text-sm font-medium rounded-full flex items-center justify-center",children:"2"}),e.jsx(o,{className:`text-base font-medium transition-colors ${s?"text-gray-300":"text-gray-700"}`,children:"í…œí”Œë¦¿ í™•ì¸ ë° ë°ì´í„° ì¤€ë¹„"})]}),e.jsx("div",{className:`border rounded-lg p-4 transition-colors ${s?"bg-amber-900/20 border-amber-800":"bg-amber-50 border-amber-200"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(E,{className:`h-5 w-5 flex-shrink-0 mt-0.5 transition-colors ${s?"text-amber-400":"text-amber-600"}`}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:`text-sm font-medium transition-colors ${s?"text-amber-200":"text-amber-800"}`,children:[u[a]," ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ì „ì— ì˜¬ë°”ë¥¸ í˜•ì‹ì„ í™•ì¸í•˜ì„¸ìš”"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("a",{href:`/templates/${a}_template.xlsx`,download:!0,className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded transition-colors ${s?"bg-amber-800/20 hover:bg-amber-700/30 text-amber-300":"bg-amber-100 hover:bg-amber-200 text-amber-800"}`,children:[e.jsx(k,{className:"h-3 w-3"}),"Excel í…œí”Œë¦¿"]}),e.jsxs("a",{href:`/templates/${a}_template.csv`,download:!0,className:`inline-flex items-center gap-1 text-xs px-2 py-1 rounded transition-colors ${s?"bg-amber-800/20 hover:bg-amber-700/30 text-amber-300":"bg-amber-100 hover:bg-amber-200 text-amber-800"}`,children:[e.jsx(k,{className:"h-3 w-3"}),"CSV í…œí”Œë¦¿"]})]})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white text-sm font-medium rounded-full flex items-center justify-center",children:"3"}),e.jsx(o,{className:`text-base font-medium transition-colors ${s?"text-gray-300":"text-gray-700"}`,children:"íŒŒì¼ ì—…ë¡œë“œ"})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsx(G,{type:"file",accept:".xlsx,.xls,.csv",onChange:t=>f(t.target.files?.[0]||null),className:"cursor-pointer"}),x&&e.jsxs("p",{className:`text-sm mt-2 flex items-center gap-1 transition-colors ${s?"text-green-400":"text-green-600"}`,children:[e.jsx(I,{className:"h-4 w-4"}),"ì„ íƒëœ íŒŒì¼: ",x.name]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white text-sm font-medium rounded-full flex items-center justify-center",children:"4"}),e.jsx(o,{className:`text-base font-medium transition-colors ${s?"text-gray-300":"text-gray-700"}`,children:"ë°ì´í„° ê°€ì ¸ì˜¤ê¸°"})]}),e.jsxs(S,{onClick:A,disabled:!x||y,className:"bg-green-600 hover:bg-green-700 text-white px-8",children:[e.jsx(J,{className:"mr-2 h-4 w-4"}),y?"ê°€ì ¸ì˜¤ëŠ” ì¤‘...":`${u[a]} ë°ì´í„° ê°€ì ¸ì˜¤ê¸°`]})]}),c&&e.jsxs(D,{className:`transition-colors ${c.errors.length>0?s?"border-yellow-600 bg-yellow-900/20":"border-yellow-500":s?"border-green-600 bg-green-900/20":"border-green-500"}`,children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx(L,{className:`transition-colors ${s?"text-gray-300":"text-gray-700"}`,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["ì „ì²´ ",c.totalRows,"ê°œ ì¤‘ ",c.imported,"ê°œ ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ"]}),c.errors.length>0&&e.jsxs("details",{children:[e.jsxs("summary",{className:`cursor-pointer text-sm transition-colors ${s?"text-gray-400":"text-muted-foreground"}`,children:[c.errors.length,"ê°œ ì˜¤ë¥˜ (í´ë¦­í•˜ì—¬ ìì„¸íˆ ë³´ê¸°)"]}),e.jsx("div",{className:"mt-2 space-y-1 text-sm",children:c.errors.map((t,l)=>e.jsxs("div",{className:`transition-colors ${s?"text-red-400":"text-red-600"}`,children:["í–‰ ",t.row,": ",t.error]},l))})]})]})})]})]})]}),C&&e.jsxs(D,{variant:"destructive",className:`mt-4 transition-colors ${s?"bg-red-900/20 border-red-800":"border-red-500"}`,children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx(L,{className:`transition-colors ${s?"text-red-200":"text-red-700"}`,children:C})]})]})]})}function ne(){const{user:d,loading:s}=R(),[,a]=Q(),{theme:h}=F(),r=h==="dark";return n.useEffect(()=>{!s&&!d&&a("/login")},[d,s,a]),s?e.jsx("div",{children:"Loading..."}):d?e.jsx("div",{className:`min-h-screen transition-colors ${r?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-[1366px] mx-auto p-6 space-y-6",children:[e.jsx(X,{title:"ë°ì´í„° ê°€ì ¸ì˜¤ê¸°/ë‚´ë³´ë‚´ê¸°",description:"ì—‘ì…€ ë° CSV íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì¼ê´„ ì²˜ë¦¬í•©ë‹ˆë‹¤."}),e.jsx(K,{}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:`rounded-lg shadow-sm border p-6 transition-colors ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 transition-colors ${r?"text-white":"text-gray-900"}`,children:"ğŸ’¡ ì‚¬ìš©íŒ"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`rounded-lg p-4 transition-colors ${r?"bg-blue-900/20 border border-blue-800":"bg-blue-50"}`,children:[e.jsx("h4",{className:`font-medium mb-2 transition-colors ${r?"text-blue-300":"text-blue-900"}`,children:"ğŸ“¥ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°"}),e.jsxs("ul",{className:`text-sm space-y-1 transition-colors ${r?"text-blue-200":"text-blue-800"}`,children:[e.jsx("li",{children:"â€¢ 1ë‹¨ê³„: ë°ì´í„° ìœ í˜•(ê±°ë˜ì²˜/í˜„ì¥/ë°œì£¼ì„œ) ì„ íƒ"}),e.jsx("li",{children:"â€¢ 2ë‹¨ê³„: í…œí”Œë¦¿ì„ ë‹¤ìš´ë¡œë“œí•˜ì—¬ í˜•ì‹ í™•ì¸"}),e.jsx("li",{children:"â€¢ 3ë‹¨ê³„: í…œí”Œë¦¿ì— ë§ì¶° ë°ì´í„°ë¥¼ ì…ë ¥í•œ íŒŒì¼ ì—…ë¡œë“œ"}),e.jsx("li",{children:"â€¢ 4ë‹¨ê³„: 'ë°ì´í„° ê°€ì ¸ì˜¤ê¸°' ë²„íŠ¼ í´ë¦­"}),e.jsx("li",{children:"â€¢ í•„ìˆ˜ í•­ëª©ì€ ë°˜ë“œì‹œ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤"}),e.jsx("li",{children:"â€¢ ì‚¬ì—…ìë²ˆí˜¸ëŠ” í•˜ì´í”ˆ(-) ì—†ì´ ìˆ«ìë§Œ ì…ë ¥"})]})]}),e.jsxs("div",{className:`rounded-lg p-4 transition-colors ${r?"bg-green-900/20 border border-green-800":"bg-green-50"}`,children:[e.jsx("h4",{className:`font-medium mb-2 transition-colors ${r?"text-green-300":"text-green-900"}`,children:"ğŸ“¤ ë°ì´í„° ë‚´ë³´ë‚´ê¸°"}),e.jsxs("ul",{className:`text-sm space-y-1 transition-colors ${r?"text-green-200":"text-green-800"}`,children:[e.jsx("li",{children:"â€¢ Excel í˜•ì‹ì€ ì„œì‹ì´ ìœ ì§€ë©ë‹ˆë‹¤"}),e.jsx("li",{children:"â€¢ CSV í˜•ì‹ì€ ë°ì´í„°ë§Œ ì¶”ì¶œë©ë‹ˆë‹¤"}),e.jsx("li",{children:"â€¢ íŒŒì¼ëª…ì— ë‚ ì§œê°€ ìë™ìœ¼ë¡œ í¬í•¨ë©ë‹ˆë‹¤"}),e.jsx("li",{children:"â€¢ í˜„ì¬ ë“±ë¡ëœ ëª¨ë“  ë°ì´í„°ê°€ í¬í•¨ë©ë‹ˆë‹¤"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`rounded-lg p-4 transition-colors ${r?"bg-amber-900/20 border border-amber-800":"bg-amber-50"}`,children:[e.jsx("h4",{className:`font-medium mb-2 transition-colors ${r?"text-amber-300":"text-amber-900"}`,children:"âš ï¸ ì£¼ì˜ì‚¬í•­"}),e.jsxs("ul",{className:`text-sm space-y-1 transition-colors ${r?"text-amber-200":"text-amber-800"}`,children:[e.jsx("li",{children:"â€¢ ì¤‘ë³µëœ ì‚¬ì—…ìë²ˆí˜¸ëŠ” ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤"}),e.jsx("li",{children:"â€¢ ì˜ëª»ëœ í˜•ì‹ì˜ ë°ì´í„°ëŠ” ê±´ë„ˆë›°ì–´ì§‘ë‹ˆë‹¤"}),e.jsx("li",{children:"â€¢ ê°€ì ¸ì˜¤ê¸° ì „ì— ê¸°ì¡´ ë°ì´í„° ë°±ì—… ê¶Œì¥"}),e.jsx("li",{children:"â€¢ íŒŒì¼ í¬ê¸°ëŠ” 10MB ì´í•˜ë¡œ ì œí•œ"})]})]}),e.jsxs("div",{className:`rounded-lg p-4 transition-colors ${r?"bg-purple-900/20 border border-purple-800":"bg-purple-50"}`,children:[e.jsx("h4",{className:`font-medium mb-2 transition-colors ${r?"text-purple-300":"text-purple-900"}`,children:"ğŸš€ íš¨ìœ¨ì ì¸ ì‚¬ìš©ë²•"}),e.jsxs("ul",{className:`text-sm space-y-1 transition-colors ${r?"text-purple-200":"text-purple-800"}`,children:[e.jsx("li",{children:"â€¢ ì •ê¸°ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°±ì—…í•˜ì„¸ìš”"}),e.jsx("li",{children:"â€¢ í…œí”Œë¦¿ì— ë§ì¶° ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ì •ë¦¬"}),e.jsx("li",{children:"â€¢ ì˜¤ë¥˜ ë°œìƒ ì‹œ ìƒì„¸ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”"}),e.jsx("li",{children:"â€¢ ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì—¬ ê¶Œí•œì„ í™•ì¸í•˜ì„¸ìš”"})]})]})]})]})})]})})]})}):null}export{ne as default};
